(self.webpackChunk=self.webpackChunk||[]).push([[2143],{16248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z"/>\n  <path fill="#ffffff" d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"/>\n  <path fill="currentColor" d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"/>\n  <path fill="#ffffff" d="M11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z"/>\n</svg>\n'},80732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"/>\n  <path fill="#ffffff" d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z"/>\n  <path fill="currentColor" d="M9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15Z"/>\n  <path fill="#ffffff" fill-opacity="0.5" d="M9 13C11.2091 13 13 11.2091 13 9C13 6.79086 11.2091 5 9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13Z"/>\n</svg>'},98402:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});const n=(0,r(54871).mq)("I18N/WITH_INTL")},46238:(e,t,r)=>{"use strict";function n(){var e;if(null===(e=window.fbqImageTrack)||void 0===e?void 0:e.isImgMethod){(new Image).src=`https://www.facebook.com/tr?id=${window.fbqImageTrack.counterId}&ev=PageView&hash=${Math.random()}`}}r.d(t,{S:()=>n})},17921:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>a,GW:()=>o,Vc:()=>s,bS:()=>n,cm:()=>i});const n="online5";function s(e={}){window.gtag&&!(null==e?void 0:e.onlyUA)&&window.gtag("event","page_view",{page_path:window.location.pathname+window.location.search,page_location:window.location.origin+window.location.pathname+window.location.search,page_title:document.title}),window.ga&&window.ga(`${n}.send`,"pageview",{page:window.location.pathname+window.location.search,location:window.location.origin+window.location.pathname+window.location.search,title:document.title})}function i(...e){if(window.gtag){const[t,r,n,s,i]=e,a=Object.assign(Object.assign(Object.assign({category:t},n&&{label:n}),s&&{value:s}),i&&{fieldsObject:i});window.gtag("event",r,a)}window.ga&&window.ga.apply(window,[`${n}.send`,"event"].concat(e))}function a(e){window.gtag&&window.gtag("event","ChangeProject",{project_id:e})}function o(){window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted"})}},62365:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let n="";function s(){function e(){window.tnsCounter2gis_ru.hit(void 0,window.location.href,(n||document.referrer).replace(/\*/g,"%2a")),n=window.location.origin+window.location.pathname}(window.tnsCounter2gis_ru||window.tnscounter_callback)&&(window.tnsCounter2gis_ru?e():window.tnscounter_callback.push(e))}},32909:(e,t,r)=>{"use strict";function n(){window.VK&&window.VK.Retargeting.Hit()}r.d(t,{E:()=>n})},24854:(e,t,r)=>{"use strict";function n(){window.ym_default&&window.ym_default("hit",window.location.origin+window.location.pathname+window.location.search,{title:document.title})}r.d(t,{i:()=>n})},26486:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n=(0,r(2784).createContext)("\n  #########\n  ERROR: Забыл добавить конфиг приложения в ConfigContext\n  #########\n")},36459:(e,t,r)=>{"use strict";r.d(t,{w:()=>l,c:()=>u});var n=r(83466),s=r(17271);function i(e){return(0,s.dL)(e)%10}function a(e){return e.slice(-12)}function o(e,t,r){r.length;const n=function(e,t=0){const r=a(e),n=r.length-t;return r.slice(n-2,n)}(t,i(e)),s=parseInt(n,16);if(Number.isNaN(s))return;const o=s%(2*r.length);return{group:r[Math.floor(o/2)],subgroup:o%2?1:2}}var c=r(28629),d=r(15111);function l(e){return(t,r)=>{const{name:s,percentRange:l,groups:u,forHumanFromSeo:p,forCountries:h}=e,g={name:e.name,values:u},m=r.godmode?[...r.availableExperiments,g]:[];if(p&&!r.isHumanFromSeo||h&&!h.includes(r.defaultCountryCode))return{availableExperiments:m};let f=!1;try{f=function(e,t,r){if(r.find((e=>e<0||e>1)))throw new Error(`Bad percentageRange in filters = ${r.toString()}`);const n=i(e),s=a(t).slice(n,n+3),o=parseInt(s,16);if(Number.isNaN(o))throw new Error(`Can't filter properly in a/b test. Cannot get value from ${s}`);const c=4095*r[0],d=4095*r[1];return o>=c&&o<d}(s,r.userId,l)}catch(e){(0,n.H)({id:"sakfa",message:(0,c.e)(e),level:"error",payload:{type:"exception",subtype:"a/b test error",stack:(0,d.d)(e)}})}if(!0!==f)return{availableExperiments:m};const v=o(e.name,r.userId,u);if(!v)return(0,n.H)({id:"hklqe",message:"cannot set group in a/b test",level:"error",payload:{type:"exception",subtype:"a/b test error"}}),{};const b={name:e.name,value:`${v.group}_${v.subgroup}`};return{availableExperiments:m,experiments:[...r.experiments,b]}}}function u(e,t){const r=t.find((t=>t.name===e));if(r)return r.value.split("_")[0]}},84544:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n={long:0,short:200,spinner:1e3}},83788:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=["awards_awards_thebestcafe","awards_awards_thebestrestaurants","awards_awards_thebestbar","awards_awards_thebestconfectionery","awards_awards_thebestcoffeeshop","awards_awards_thebeststreetfood","awards_awards_thebestfoodmall","awards_awards_thebestshotglass"]},63195:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n={default:"4px",minicard:"2px",oval:"50%",rounded:"9999px",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px"}},31567:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});const n={white:"#ffffff",black:"#000000",black_transparent_06:(0,r(65632).j)("#000000",.06),gray_1a1a1a:"#1a1a1a",gray_262626:"#262626",gray_929292:"#929292",gray_f9f9f9:"#f9f9f9",gray_f6f6f6:"#f6f6f6",gray_f2f2f2:"#f2f2f2",gray_e6e6e6:"#e6e6e6",gray_bbbbbb:"#bbbbbb",gray_b2b2b2:"#b2b2b2",gray_dddddd:"#dddddd",gray_333333:"#333333",gray_5c5c5c:"#5c5c5c",gray_9b9b9b:"#9b9b9b",gray_bfbfbf:"#bfbfbf",gray_dfdfdf:"#dfdfdf",gray_f5f5f5:"#f5f5f5",gray_f0f0f0:"#f0f0f0",gray_4d4d4d:"#4d4d4d",gray_cccccc:"#cccccc",red_fe5000:"#fe5000",orange_ff8800:"#ff8800",orange_ffba00:"#ffba00",orange_fffaeb:"#fffaeb",orange_fff0c8:"#fff0c8",orange_ff8d00:"#ff8d00",yellow_ffb81c:"#ffb81c",yellow_ffc84b:"#ffc84b",green_299400:"#299400",green_227a00:"#227a00",green_30ad00:"#30ad00",green_5bae00:"#5bae00",green_60bf00:"#60bf00",blue_006fab:"#006fab",blue_0072ce:"#0072ce",blue_0070cc:"#0070cc",blue_028eff:"#028eff",blue_c5ebff:"#c5ebff",blue_82bceb:"#82bceb",blue_59b4ff:"#59b4ff",blue_0672ad:"#0672ad",blue_70aee0:"#70aee0",blue_c5eeff:"#c5eeff",blue_8eb6da:"#8eb6da",blue_0082c8:"#0082c8",blue_f1f6fa:"#f1f6fa",blue_97c9db:"#97c9db",purple_8345fe:"#8345fe",purple_4a15e8:"#4a15e8"}},3385:(e,t,r)=>{"use strict";r.d(t,{Bs:()=>i,Qd:()=>s,aP:()=>n});const n=["ru","en","es","uk","cs","ar","az","uz","kk"],s=["ru","ua","kz","kg","uz","az","by","cl","ae","sa","eg","cy","it","cz","om","bh","qa","kw","iq"],i=s.map((function(e){return e.toUpperCase()}))},28515:(e,t,r)=>{"use strict";r.d(t,{Fx:()=>i,HI:()=>o,Hs:()=>a,O_:()=>s,P9:()=>d,q7:()=>n,ro:()=>c});const n=13,s=27,i=32,a=37,o=38,c=39,d=40},44277:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});const n={bottom:-1,base:0,top:1}},36373:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});const n="Ветки метро"},2101:(e,t,r)=>{"use strict";r.d(t,{O:()=>n,t:()=>s});const n={ios:{rating:4.8,reviews:"178 K"},android:{rating:4.3,reviews:"985 K"}},s={mobileDownloadPromo:{inUGC:{reviews:"https://2gis.onelink.me/nw2S/d2de46ec",photos:"https://2gis.onelink.me/nw2S/972d4707"}}}},82800:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});const n=["275","295","55693","21039","603","139","571","19487"]},88944:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(31567),s=r(65632);const i=`inset 0 -1px ${n.O.gray_e6e6e6}`,a=`inset 0 1px ${n.O.gray_e6e6e6}`,o={one:"0 0 1px rgba(0, 0, 0, .25)",logo:"0 0 1px 1px rgba(0, 0, 0, .25)",outerRight:"1px 0 3px 0 rgba(38, 38, 38, 0.25)",outerLeft:"-1px 0 0 0 rgba(38, 38, 38, 0.115)",outerTop:"0 -1px 3px 0 rgba(38, 38, 38, 0.25)",minicardHighLighted:`inset 3px 0 0 0 ${n.O.green_299400}`,minicardHighLightedSingle:`inset 3px 0 0 0 ${n.O.green_299400}, ${i}`,popupBorderBottom:"0 1px 3px 0 rgba(64, 64, 64, 0.5)",darkBorderBottom:"inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)",popup:`0 1px 3px 0 ${(0,s.j)(n.O.gray_262626,.5)}`,innerBorderBase:`inset 0 0 0 1px ${n.O.gray_e6e6e6}`,innerBorderTransparent:`inset 0 0 0 1px ${(0,s.j)(n.O.black,.1)}`,innerBorderActive:`inset 0 0 0 1px ${n.O.green_299400}`,innerBorderFocus:`inset 0 0 0 1px ${n.O.blue_0072ce}`,innerBorderDisabled:`inset 0 0 0 1px ${n.O.gray_f2f2f2}`,innerBorderBottomBase:i,innerBorderTopBase:a,innerBorderEndBase:`logical inset -1px 0 ${n.O.gray_e6e6e6}`,innerBorderStartBase:`logical inset 1px 0 0 0 ${n.O.gray_e6e6e6}`,innerBorderTopBaseWithCurrentColor:"inset 0 -1px currentColor",innerBorderTopBottom:`${i}, ${a}`,photoItemBorderBottom:`inset -1px 0 0 0 ${n.O.white}`}},2961:(e,t,r)=>{"use strict";r.d(t,{E8:()=>n,WB:()=>i,yM:()=>s});const n=" ",s="–",i="–"},59153:(e,t,r)=>{"use strict";r.d(t,{Tg:()=>c,O5:()=>u,Ky:()=>d,hd:()=>l,Wx:()=>m});var n=r(82603),s=r(51984),i=r(80327);const a=e=>"branch"===e.type&&(0,i.O)(e);var o=r(2961);function c(e,t){return l(e,{order:t.config.addressOrder,separator:t.config.addressSeparator,alwaysIncludeDivisionInDrilldown:t.config.alwaysIncludeDivisionInDrilldown,alwaysAddNameExtension:t.alwaysAddNameExtension,useSingleComponentForBranch:t.useSingleComponentForBranch}).map(((e,t)=>0===t?(0,n.Ez)(e.value):e.value))}function d(e,t,r){const n=(0,s.so)(e,t,r.alwaysAddNameExtension),i=c(e,r);return{name:n?[n]:i,address:n?i:void 0}}function l(e,t){return u(e.type,g(e)||{},Object.assign(Object.assign({},t),{useBuildingNameForBranch:!a(e)}),h(e))}function u(e,t,r,s){const{order:i,separator:a,useBuildingNameForBranch:c,useSingleComponentForBranch:d}=r,l=(t.components||[]).map(((e,t)=>function(e,t,r,s){const i=function(e,t,r,s){if(!e)return"";if("street_number"===e.type){const i=s?(0,n.Ez)(e.street):e.street,a="straight"===r?[i,e.number]:[e.number,i];return i&&e.number?a.join(t):a.join("")}if("number"===e.type&&e.number)return e.number;if("location"===e.type&&e.comment)return e.comment;return""}(e,t,r,s);return i&&e?{value:i,type:e.type}:void 0}(e,a+o.E8,i,0===t&&r.capitalizeFirst)));return"branch"===e?d?(0,n.oA)([c&&p("building_name",t.building_name),l[0]]):(0,n.oA)([c&&p("building_name",t.building_name),...l,p("comment",s)]):(0,n.oA)(l)}function p(e,t){return t?{type:e,value:t}:void 0}const h=e=>"branch"===e.type&&"address_comment"in e?e.address_comment:void 0,g=e=>"address"in e?e.address:void 0,m=e=>{const t=g(e);return t&&t.components&&t.components.find((e=>"street_number"===e.type))}},17170:(e,t,r)=>{"use strict";r.d(t,{t:()=>c,I:()=>d});var n=r(75716),s=r(19007);var i=r(87576),a=r(17271),o=r(24550);function c(e){var t,r;const n=null===(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.buy_here_owner)||void 0===r?void 0:r[0];if(n)return{ownedRubricId:n.owned_rubric_id,controlTitle:n.control_title}}function d(e,t,r,c){const d=e?(0,i.k)(e,t):void 0;if(d)return{type:d.type,value:d.value,name:(0,a.M3)(d.caption||d.name||r),href:(0,n.Y)(d),isExternal:(0,s.t)(d.type)};if(!c)return;const l={name:r,type:"open_card",value:c};return{type:l.type,value:l.value,name:r,href:(0,o.B)({id:c,type:"branch",cityAlias:void 0}),isExternal:!1}}},1834:(e,t,r)=>{"use strict";function n(e,t){if(!("adm_div"in e)||!e.adm_div)return"";const{config:r,shortenForBranches:n,includeRegion:s}=t,o=i(e,{shortenForBranches:n,separator:r.addressSeparator,alwaysIncludeDivision:r.alwaysIncludeDivisionInDrilldown,includeRegion:s});return a(e.adm_div,o)}function s(e,t){if(!("adm_div"in e)||!e.adm_div)return[];const r=i(e,{separator:t.separator,alwaysIncludeDivision:t.alwaysIncludeDivision,shortenForBranches:t.shortenForBranches});return o(e.adm_div,r).map((e=>e.name))}function i(e,t){const{alwaysIncludeDivision:r=!1,shortenForBranches:n=!1,includeRegion:s=!0,separator:i}=t;return{includeDivision:"adm_div"===e.type||r,includeRegion:s,excludeLivingAreaAndDistrict:"branch"===e.type&&n,separator:i+" ",entityFlags:"flags"in e?e.flags:void 0}}function a(e,t){return function(e,t){return e.map((e=>e.name)).filter(((e,t,r)=>r.indexOf(e)===t)).join(t)}(o(e,t),t.separator)}function o(e,t){const r=function(e,t){const r=e.find((e=>"city"===e.type));return e.filter((e=>{var n,s;return("region"!==e.type||!((null===(n=null==r?void 0:r.flags)||void 0===n?void 0:n.is_region_center)||(null==t?void 0:t.is_region_center)||(null==t?void 0:t.is_default)))&&("district_area"!==e.type||!((null===(s=null==r?void 0:r.flags)||void 0===s?void 0:s.is_district_area_center)||(null==t?void 0:t.is_district_area_center)||(null==t?void 0:t.is_default)))}))}(d(e,c),t.entityFlags),n=t.includeDivision?r:l(r,["division"]),s=t.excludeLivingAreaAndDistrict?l(n,["living_area","district"]):n,i=t.includeRegion?s:function(e){if(e.length>1)return e.filter((e=>"region"!==e.type));return e}(s);return i}r.d(t,{MS:()=>a,W8:()=>n,hi:()=>s,vO:()=>d});const c=["region","district_area","city","settlement","division","district","living_area"];function d(e,t=c){return t.reduce(((t,r)=>{const n=e.find((e=>e.type===r));return n&&t.push(n),t}),[])}function l(e,t){return e.filter((e=>-1===t.indexOf(e.type)))}c.reverse()},77639:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(82603);function s(e){if("address"in e&&e.address)return(0,n.oA)([e.address.postcode,e.address.building_code]).join("/")}},51984:(e,t,r)=>{"use strict";r.d(t,{KY:()=>i,Y9:()=>o,so:()=>a});var n=r(59153),s=r(61009);function i(e,t,r){const s=a(e,t);return s?[s]:"building"===e.type?(0,n.Tg)(e,{config:r,useSingleComponentForBranch:!1}):[t._t("Место")]}function a(e,t,r){switch(e.type){case"branch":return(0,s.Mg)(e,r);case"route":return(0,s.F5)(e,t);case"station":case"station_platform":case"station_entrance":return e.name;default:return(0,s.t1)(e,t)}}function o(e){return e.name_ex.primary}},99710:(e,t,r)=>{"use strict";r.d(t,{O1:()=>o,Vi:()=>i,g1:()=>c,li:()=>a});var n=r(37512),s=r(37687);function i(e,t,r,i,a){const o=(0,n.lR)(e,(0,n.Nk)(r));return(0,s.cA)(o,t,i,a)}function a(e,t,r,n){return(0,s.pf)(e,t,r,n)}function o(e,t,r,i){const a=(0,n.Nk)(t),o=(0,n.lR)(e,a),c=(0,n.Ci)(e,a);return(0,s.v4)(o,c,r,i)}function c(e,t,r,i,a){const o=(0,n.r_)(e,(0,n.Nk)(t));return(0,s.Cp)(o,r,a,i)}},37687:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>h,HL:()=>g,cA:()=>l,pf:()=>p,v4:()=>u});var n=r(37512),s=r(42479),i=r(22214),a=r(17271),o=r(1160);const c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function l(e,t,r,n){if(!e)return"";const c=n?s.A0:s.CO;switch(e.type){case i.i8.aroundTheClock:return t?void 0:r._t("Круглосуточно");case i.i8.opened:return t?void 0:r._t("Открыто");case i.i8.willCloseInTime:return r._t("Закроется через %1",[f(e.minutesTo,r)]);case i.i8.willCloseInMinute:return r._t("Закроется через %1",[f(1,r)]);case i.i8.willCloseInTimeForBreak:return r._t("Через %1 закрывается на %2",[f(e.minutesTo,r),m(e.breakType,r)]);case i.i8.willCloseInMinuteForBreak:return r._t("Через %1 закрывается на %2",[f(1,r),m(e.breakType,r)]);case i.i8.willOpenInMinuteFromBreak:return(0,a.Ez)(r._t("%1. Откроется через %2",[m(e.breakType,r),f(1,r)]));case i.i8.willOpenInTimeFromBreak:return(0,a.Ez)(r._t("%1. Откроется через %2",[m(e.breakType,r),f(e.minutesTo,r)]));case i.i8.willOpenAtTimeFromBreak:return(0,a.Ez)(r._t("%1. Откроется в %2",[m(e.breakType,r),(0,o.sx)(e.time,c)]));case i.i8.willOpenAtTime:return r._t("Закрыто до %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenAtDayAtTime:case i.i8.willOpenTomorrowAtTime:case i.i8.willOpenOvermorrowAtTime:return r._t("Закрыто");case i.i8.willOpenInTime:return r._t("Откроется через %1",[f(e.minutesTo,r)]);case i.i8.willOpenInMinute:return r._t("Откроется через 1 минуту");default:return""}}function u(e,t,r,n){if(!e)return"";const c=n?s.A0:s.CO;switch(e.type){case i.i8.aroundTheClock:return"";case i.i8.opened:return r._t("Открыто");case i.i8.willCloseInTimeForBreak:return r._t("Через %1 закрывается на %2",[f(e.minutesTo,r),m(e.breakType,r)]);case i.i8.willCloseInMinuteForBreak:return r._t("Через минуту закрывается на %1",[m(e.breakType,r)]);case i.i8.willOpenAtTimeFromBreak:return(0,a.Ez)(r._t("%1, откроется в %2",[m(e.breakType,r),(0,o.sx)(e.time,c)]));case i.i8.willOpenInTimeFromBreak:return(0,a.Ez)(r._t("%1, откроется через %2",[m(e.breakType,r),f(e.minutesTo,r)]));case i.i8.willOpenInMinuteFromBreak:return(0,a.Ez)(r._t("%1, откроется через минуту",[m(e.breakType,r)]));case i.i8.willCloseInTime:return r._t("Закроется через %1",[f(e.minutesTo,r)]);case i.i8.willCloseInMinute:return r._t("Закроется через минуту");case i.i8.willOpenInTime:return r._t("Закрыто. Откроется через %1",[f(e.minutesTo,r)]);case i.i8.willOpenInMinute:return r._t("Откроется через минуту");case i.i8.willOpenAtTime:return r._t("Закрыто. Откроется в %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenTomorrowAtTime:return t?r._t("Откроется завтра в %1",[(0,o.sx)(e.time,c)]):r._t("Закрыто. Откроется завтра в %1",[(0,o.sx)(e.time,c)]);case i.i8.willOpenAtDayAtTime:case i.i8.willOpenOvermorrowAtTime:return t?r._t("Откроется %1 в %2",[v(e.day,r),(0,o.sx)(e.time,c)]):r._t("Закрыто. Откроется %1 в %2",[v(e.day,r),(0,o.sx)(e.time,c)]);default:return""}}function p(e,t,r,a=!1){if((0,n.yx)(e))return r._t("Круглосуточно");if((0,n.Ci)(e,(0,n.Nk)(t)))return r._t("Выходной");const c=(0,n.ku)(e),d=(0,n.Nk)(t),l=e[d.day],{from:u,to:p}=(0,n.DL)(l&&l.working_hours||[])[0],h=(0,n.$d)(e,d)[0],g=h?(0,n.rZ)(h):void 0,f=m(g,r),v=(0,o.sx)(u,a?s.A0:s.CO),b=(0,o.sx)(p,a?s.A0:s.CO),y=h&&(0,o.sx)(h.from,a?s.A0:s.CO),x=h&&(0,o.sx)(h.to,a?s.A0:s.CO);if(c)switch(g){case i.CT.lunch:case i.CT.rest:return r._t("Ежедневно&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,b,f,y,x]);default:return r._t("Ежедневно с %1 до %2",[v,b])}switch(g){case i.CT.lunch:case i.CT.rest:return r._t("Сегодня&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,b,f,y,x]);default:return r._t("Сегодня c %1 до %2",[v,b])}}function h(e,t,r,n){return(r?c:d).map((r=>function(e,t,r){return Object.assign(Object.assign({},e),{timeIntervals:e.timeIntervals.map((({to:e,from:t})=>(0,o.Eq)(t,e,r))),breaks:e.breaks&&e.breaks.map((({to:e,from:t})=>(0,o.Eq)(t,e,r))),dayName:g(e.dayName,t),breakTypes:e.breakTypes&&e.breakTypes.map((e=>m(e,t)))})}(e.find((e=>e.dayName===r))||e[0],t,n)))}function g(e,t){switch(e){case"Mon":return t._t("Пн");case"Tue":return t._t("Вт");case"Wed":return t._t("Ср");case"Thu":return t._t("Чт");case"Fri":return t._t("Пт");case"Sat":return t._t("Сб");case"Sun":return t._t("Вс");default:return""}}function m(e,t){switch(e){case i.CT.lunch:return t._t("обед");case i.CT.rest:default:return t._t("перерыв")}}function f(e=0,t){const r=Math.floor(e/60),n=e%60,s=t._nt(["%% минуту","%% минуты","%% минут"],n);if(!r)return s;const i=t._nt(["%% час","%% часа","%% часов"],r);return t._pt("%1 время в часах %2 время в минутах","%1 %2",[i,s])}function v(e,t){switch(e){case"Mon":return t._t("в понедельник");case"Tue":return t._t("во вторник");case"Wed":return t._t("в среду");case"Thu":return t._t("в четверг");case"Fri":return t._t("в пятницу");case"Sat":return t._t("в субботу");case"Sun":return t._t("в воскресенье");default:return""}}},43542:(e,t,r)=>{"use strict";function n(e,t){if(e)return Number.isNaN(+e)?t._t("Места: %1",[e.toLowerCase()]):t._nt(["%% место","%% места","%% мест"],+e)}r.d(t,{R:()=>n})},61009:(e,t,r)=>{"use strict";function n(e){switch(e.subtype){case"bus":case"trolleybus":case"tram":case"shuttle_bus":return!0;default:return!1}}r.d(t,{hw:()=>n,Jm:()=>i,aR:()=>o,Mg:()=>c,o_:()=>I,PZ:()=>j,s8:()=>k,he:()=>h,Oc:()=>p,t1:()=>u,lu:()=>f,vs:()=>b,F5:()=>y,DO:()=>C});var s=r(17271);function i(e,t){if(!e||!("subtype"in e))return[];if("subtype_specification"in e&&e.subtype_specification)return[e.subtype_specification];const r=e.subtype?"detailed_subtype"in e&&e.detailed_subtype?function(e,t){switch(e){case"microdistrict":return t._t("микрорайон");case"residential_district":return t._t("жилмассив");case"residential_quarter":return t._t("квартал");case"poselok":return t._t("посёлок");case"residential_complex":return t._t("жилой комплекс");case"selo":return t._t("село");case"derevnja":return t._t("деревня");case"cottage_estate":return t._t("коттеджный посёлок");case"urban_settlement":return t._t("посёлок городского типа");case"workers_settlement":return t._t("рабочий посёлок");case"dacha_settlement":return t._t("дачный посёлок");case"resort_settlement":return t._t("курортный посёлок");case"stanitsa":return t._t("станица");case"sloboda":return t._t("слобода");case"khutor":return t._t("хутор");case"aul":return t._t("аул");case"aal":return t._t("аал");case"town":return t._t("военный городок");case"farmstead":return t._t("заимка");case"vyselok":return t._t("выселок");case"municipality":return t._t("муниципальное образование");case"station":return t._t("станция");case"townhouse_settlement":return t._t("посёлок таунхаусов");case"territory":return t._t("территория");case"cooperative":return t._t("кооператив");case"partnership":return t._t("товарищество");case"gorod":return t._t("город");case"mun_okrug":return t._t("муниципальный округ");case"vaht_poselok":return t._t("вахтовый поселок");case"nas_punkt":return t._t("населённый пункт");case"poselenie":return t._t("поселение");default:return}}(e.detailed_subtype,t):function(e,t){switch(e){case"settlement":return t._t("населённый пункт");case"living_area":return t._t("микрорайон");case"city":return t._t("город");case"division":return t._t("округ");case"district":return t._t("район");default:return}}(e.subtype,t):void 0;return r?[(0,s.Ez)(r)]:[]}var a=r(25278);function o(e){return e.name_ex.extension?[e.name_ex.extension]:e.rubrics&&e.rubrics.length?[e.rubrics[0].name]:a.LZ}function c(e,t){const{name_ex:r}=e;return t&&r.extension?`${r.primary}, ${r.extension}`:r.primary}var d=r(95308),l=r(82603);function u(e,t){switch(e.type){case"attraction":return e.name||e.subtype_name||"";case"gate":if(!e.barrier)return e.name||"";switch(e.barrier){case"gate":return t._t("Ворота");case"turnstile":return t._t("Турникет");case"wicket":return t._t("Калитка");case"gate_barrier":return t._t("Проход/проезд");default:return""}case"street":case"adm_div":case"crossroad":case"road":return e.name?(0,l.Ez)(e.name):"";case"parking":if(e.name)return e.name;if("taxi_only"===e.access)return t._t("Место стоянки такси");switch(e.purpose){case"bike":return t._t("Велопарковка");case"motorbike":return t._t("Мотопарковка");case"baby_carriage":return t._t("Парковка для детских колясок");default:return t._t("Парковка")}case"kilometer_road_sign":return(0,d.e)(e,t);case"building":return j(e);default:return t._t("Какое-то местечко")}}function p(e,t){switch(e.type){case"adm_div":return i(e,t);case"parking":return f(e,t);case"gate":return h(e,t);case"street":return[t._t("Улица")];case"road":return[t._t("Дорога")];case"crossroad":return[t._t("Перекресток")];default:return[]}}function h(e,t){const r=[g(e.purpose,t)];return e.access&&r.push(function(e,t){switch(e){case"paid":return t._t("платный");case"restricted":return t._t("по пропускам");default:return t._t("общедоступный")}}(e.access,t)),r}function g(e,t){switch(e){case"additional":return t._t("дополнительный");case"service":return t._t("служебный");default:return t._t("центральный")}}var m=r(43542);function f(e,t){const r=[];switch(e.access){case"public":r.push(t._t("Общедоступная"));break;case"handicapped_only":r.push(t._t("Только для инвалидов"));break;case"customers_only":r.push(t._t("Только для клиентов"));break;case"residents_only":r.push(t._t("Только для резидентов"))}if(e.is_paid?r.push(t._t("Платная")):r.push(t._t("Бесплатная")),e.capacity){const n=(0,m.R)(e.capacity.total,t);n&&r.push(n)}return r}var v=r(94641);function b(e,t){switch(e.subtype){case"suburban_train":case"aeroexpress":return[(0,v.F)(e.subtype,t)];default:return function(e){return!n(e)&&"metro"!==e.subtype}(e)?[(0,v.F)(e.subtype,t)]:[]}}function y(e,t){return n(e)?`${(0,v.F)(e.subtype,t)} ${e.name}`:e.name}var x=r(59153);function j(e){if(e.links&&e.links.parking)return e.building_name||e.purpose_name||e.name||"";if(e.building_name)return e.building_name||"";return!(0,x.Wx)(e)&&"purpose_name"in e&&e.purpose_name||""}var w=r(26346);function I(e,t,{withFloors:r}={}){if(e.purpose_name){const n=e.name!==e.purpose_name;return(0,l.oA)([n&&e.purpose_name,!!r&&(0,w.X)(e,t)])}return[t._pt("Здание","Дом")]}function C(e,t){return"station_entrance"===e.type?"metro"===e.subtype?[t._t("Вход на станцию метро")]:[t._t("Вход на станцию")]:[O(e,t)]}function O(e,t){switch(e.subtype){case"metro":return t._t("Станция метро");case"premetro":case"railway":return t._t("Станция");case"light_metro":return t._t("Станция легкого метро");case"funicular_railway":return t._t("Станция фуникулера");case"monorail":return t._t("Станция монорельсовой дороги");case"cable_car":return t._t("Станция канатной дороги");case"river_transport":return t._t("Речной транспорт");default:return t._t("Остановка наземного транспорта")}}var _=r(98934);function k(e){return[(0,_.d)(e.geocoded_by||e.point)]}r(35367)},98934:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(82603);const s=e=>e?`${(0,n.DB)(e.lat)}° ${(0,n.DB)(e.lon)}°`:""},68865:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(33369);function s(e){const{entity:t,tp:r}=e;switch(!0){case(0,n.i)(t):return{tabLabel:r._pt("Меню в кафе/ресторане","Меню"),title:r._pt("Меню в кафе/ресторане","Меню"),linkToAllOffersTitle:r._t("Посмотреть меню")};case(0,n.X)(t):return{tabLabel:r._pt("Список услуг в банке","Услуги"),title:r._pt("Список услуг в банке","Услуги"),linkToAllOffersTitle:r._pt("Услуги банка","Посмотреть все услуги")};default:return{tabLabel:r._t("Цены"),title:r._t("Товары и услуги"),linkToAllOffersTitle:r._t("Посмотреть все товары и услуги")}}}},82514:(e,t,r)=>{"use strict";r.d(t,{D2:()=>a,iv:()=>s.iv});var n=r(52322),s=r(86550),i=r(78535);function a(e){const t=(0,i.k)(e);return function(e){const r=r=>{const{s,dir:a,theme:o}=(0,i.y)(t);return(0,n.jsx)(e,Object.assign({dir:a,s,theme:o},r))};return r.displayName=`WithStyles(${e.displayName||e.name||"Anonymous"})`,r}}},74148:(e,t,r)=>{"use strict";r.d(t,{j:()=>b});var n=r(27215),s=r(2784),i=r(45537),a=r(9701),o=r(62545),c=r(81813),d=r(32034);const l=(0,i.gQ)("updateCart",(e=>(0,i.xJ)((t=>{var r,n;const s=(0,d.W)(t);let i=Object.assign(Object.assign({},e),{name:"",price:{}});const[l]=s?(0,a.k)(s,e):[void 0];if(l)i=Object.assign(Object.assign({},l),{qty:e.qty});else{const s=null===(r=(0,c.Gt)({state:t,productId:e.productId}).data)||void 0===r?void 0:r.product,a=(0,c.E$)({state:t,branchId:e.branchId,productId:e.productId}).data;s&&a&&(i=Object.assign(Object.assign({},e),{name:s.name,description:s.description,price:null!==(n=a.price_value)&&void 0!==n?n:{}}))}return(0,o.x)({item:i})}))));var u=r(79899),p=r(50216);const h=(0,i.gQ)("clearEmptyItemsInCart",(()=>(0,i.xJ)((e=>{const t=(0,d.W)(e);if(!t)return(0,i.ZT)();let r=!1;const n=t.orders.map((e=>{const t=e.items.filter((e=>e.qty>0));return t.length===e.items.length?e:(r=!0,Object.assign(Object.assign({},e),{items:t}))}));return r?(0,p.j)(Object.assign(Object.assign({},t),{orders:n.filter((e=>e.items.length>0)),showCartButton:!0})):(0,i.ZT)()}))));var g=r(90466),m=r(59597);const f=(0,i.gQ)("removeItemFromCart",(e=>(0,i.xJ)((t=>{const r=(0,d.W)(t);if(!r)return(0,i.ZT)();const n=(0,g.L)(r.orders,e.orgId);if(!n)return(0,i.ZT)();const s=n.items.filter((t=>t!==e));return s.length===n.items.length?(0,i.ZT)():(0,p.j)((0,m.F)(r,n.orgId,(e=>Object.assign(Object.assign({},e),{items:s}))))}))));let v=!1;function b(){const e=(0,n.I0)();(0,s.useEffect)((()=>{v||(e((0,u.R)()),v=!0)}),[e]);return[(0,n.v9)(d.W),{update:(0,s.useCallback)((t=>{e(l(t))}),[e]),removeItem:(0,s.useCallback)((t=>{e(f(t))}),[e]),clearEmptyItems:(0,s.useCallback)((()=>{e(h())}),[e])}]}},54722:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(2784),s=r(26486);function i(){return(0,n.useContext)(s.E)}},64016:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(2784);const s=e=>{const[t,r]=(0,n.useState)(e),s=(0,n.useRef)(e);return e!==s.current&&(r(e),s.current=e),[t,r]}},67933:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(2784),s=r(93277);function i(e,t){const r=(0,n.useRef)();(0,n.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]);const i=(0,n.useRef)(e);(0,s.L)((()=>{i.current=e}));return(0,n.useCallback)(((...e)=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{i.current(...e)}),t)}),[t])}},95849:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(2784),s=r(93277);function i(e){const t=(0,n.useRef)((()=>{throw new Error("Cannot call an event callback while rendering")})),r=(0,n.useCallback)(((...e)=>t.current(...e)),[]);return(0,s.L)((()=>{t.current=e})),r}},93527:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2784),s=r(27215),i=r(93277);function a(e,...t){const r=(0,s.I0)(),a=(0,n.useRef)(t),o=(0,n.useCallback)(((...t)=>{const n=a.current.length?a.current:t;r(e(...n))}),[]);return(0,i.L)((()=>{a.current=t})),o}},86467:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(2784),s=r(28038);function i(e){const[t,r]=(0,n.useState)(!1),{ref:i,refCallback:a}=(0,s.C)(null==e?void 0:e.ref);return(0,n.useEffect)((()=>{const t=i.current;if(!t)return;const n=()=>r(!0),s=()=>r(!1);return t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s),(null==e?void 0:e.loseHoverOnClick)&&t.addEventListener("click",s),()=>{t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",s),(null==e?void 0:e.loseHoverOnClick)&&t.removeEventListener("click",s)}}),[null==e?void 0:e.loseHoverOnClick,i.current]),{ref:i,refCallback:a,isHovered:t}}},93277:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(2784);const s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect},56409:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(2784),s=r(93108);function i(e){const{root:t,rootMargin:r,threshold:i,isIntersectInitial:a=!1}=e,o=(0,n.useRef)(null),[c,d]=(0,n.useState)(a);return(0,n.useEffect)((()=>{if(c||!o.current)return;const e=(0,s.A)(o.current,{root:t,rootMargin:r,threshold:i},(e=>{d(e.some((e=>!1!==e.isIntersecting)))}));return()=>{e.disconnect()}}),[c,t,r,i]),[o,c]}},28038:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var n=r(2784);function s(e){const t=(0,n.useRef)(null),r=e||t,[,s]=(0,n.useState)(r.current),i=(0,n.useCallback)((e=>{r.current=e,s(e)}),[r]);return{ref:r,refCallback:i}}},47111:(e,t,r)=>{"use strict";r.d(t,{H:()=>s,S:()=>i});var n=r(2784);const s=(0,n.createContext)({});function i(){return(0,n.useContext)(s)}},78535:(e,t,r)=>{"use strict";r.d(t,{k:()=>d,y:()=>o});var n=r(62209),s=r(86550),i=r(11979),a=r(32996);function o(e){const t=(0,a.Fg)(),r=e.applyTheme(t),n=t.rtl?"rtl":"ltr";return{s:r,dir:n,css:s.iv,theme:t,inline:e=>(0,s.Qo)(e,n)}}const c=e=>{const t=function(){if("undefined"!=typeof Map){const e=new Map;return{set:e.set.bind(e),get:e.get.bind(e)}}let e,t;return{set:(r,n)=>{e=r,t=n},get:r=>{if(r===e)return t}}}();return r=>{const s=t.get(r);if(s)return s;const a=n.mM.create((0,i.i)("function"==typeof e?e(r):e,r.rtl?"rtl":"ltr"));return t.set(r,a),a}},d=e=>({applyTheme:c(e)})},60774:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,T:()=>i});var n=r(2784);const s=n.createContext({}),i=()=>n.useContext(s)},40545:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(52322);function s({color:e="currentColor",width:t=16,height:r=16}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},91880:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(52322);function s(){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,n.jsx)("path",{fill:"#30AD00",fillRule:"evenodd",d:"M8.579.41a1 1 0 00-1.157 0l-.92.653a1 1 0 01-.672.18l-1.124-.105a1 1 0 00-1.002.578l-.47 1.026a1 1 0 01-.492.491l-1.026.471a1 1 0 00-.578 1.002l.105 1.124a1 1 0 01-.18.671l-.653.92a1 1 0 000 1.157l.653.921a1 1 0 01.18.671l-.105 1.124a1 1 0 00.578 1.002l1.026.47a1 1 0 01.491.492l.471 1.026a1 1 0 001.002.578l1.124-.105a1 1 0 01.671.18l.92.653a1 1 0 001.158 0l.92-.653a1 1 0 01.672-.18l1.123.105a1 1 0 001.002-.578l.471-1.026a1 1 0 01.492-.491l1.025-.471a1 1 0 00.579-1.002l-.105-1.124a1 1 0 01.18-.671l.652-.92a1 1 0 000-1.157l-.653-.921a1 1 0 01-.18-.671l.106-1.124a1 1 0 00-.579-1.002l-1.026-.47a1 1 0 01-.491-.492l-.47-1.026a1 1 0 00-1.003-.578l-1.123.105a1 1 0 01-.672-.18L8.58.41zM5 11L4 5l2 1 2-2 2 2 2-1-1 6H5z",clipRule:"evenodd"})}))}},16499:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,n.jsx)("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"})}))}},2442:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12.5 21c1.933 0 3.5 1.567 3.5 3.5S14.433 28 12.5 28 9 26.433 9 24.5s1.567-3.5 3.5-3.5zm10 0c1.933 0 3.5 1.567 3.5 3.5S24.433 28 22.5 28 19 26.433 19 24.5s1.567-3.5 3.5-3.5zm-10 2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm10 0c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM5.383 4c1.353 0 2.53.904 2.89 2.193l.044.178 2.257 10.534c.104.488.55.819 1.038.789l.113-.014 13.449-2.373c.438-.077.767-.433.819-.865l.007-.12V10H11V8h17v6.322c0 1.395-.96 2.597-2.302 2.918l-.177.036-13.448 2.374c-1.531.27-3.003-.673-3.412-2.153l-.043-.173L6.361 6.79c-.09-.422-.44-.734-.861-.783L5.383 6H4V4h1.383z"})}))}},6946:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"})}))}},77408:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",clipRule:"evenodd",d:"M9,6C7.3,6,6,7.3,6,9v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V9\n\tc0-1.7-1.3-3-3-3H9z M8,9c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H9c-0.6,0-1-0.4-1-1V9z M13,11h-1v1v9h2v-3h2.5\n\tc1.9,0,3.5-1.6,3.5-3.5S18.4,11,16.5,11H13z M14,16v-3h2.5c0.8,0,1.5,0.7,1.5,1.5S17.3,16,16.5,16H14z"})}))}},54796:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M16 12a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"}),(0,n.jsx)("path",{d:"M21.8 9.24L20.72 6h-9.44L10.2 9.24 5 11.32V23a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V11.32zM25 23a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V12.68l4.8-1.92.92-2.76h6.56l.92 2.76 4.8 1.92z"})]}))}},83034:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 24v3a2 2 0 01-2 2h-2.303l-2.806-1.871A1.998 1.998 0 018 25.465v-5.72a7.001 7.001 0 013.088-12.686A5.001 5.001 0 0121 8v.382l5 2.5V22a2 2 0 01-2 2h-8zM7 14a5.002 5.002 0 014-4.9V12a1 1 0 002 0V9.1a5.002 5.002 0 011.5 9.232l-.5.288V27h-1.697L10 25.465V18.62l-.5-.288A5.002 5.002 0 017 14zm10.236-4.646a6.997 6.997 0 00-4.096-2.262A3 3 0 0119 8v.382l-1.447.724a.988.988 0 00-.317.248zM19 14c0-1.092-.25-2.126-.696-3.047.048-.016.096-.035.143-.059L20 10.118l4 2V22h-8v-2.255A6.992 6.992 0 0019 14z",clipRule:"evenodd"})}))}},20851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M13 13a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-6 0a2 2 0 1 1 2 2 2 2 0 0 1-2-2z"}),(0,n.jsx)("path",{d:"M24 15.14V10.5a4.5 4.5 0 0 0-9 0v11a2.5 2.5 0 0 1-5 0V19H8v2.5a4.5 4.5 0 0 0 9 0v-11a2.5 2.5 0 0 1 5 0v4.64a4 4 0 1 0 2 0zM23 21a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})]}))}},46950:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M25.71 24.29l-5.4-5.39A7.92 7.92 0 0 0 22 14a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l5.39 5.4zM8 14a6 6 0 1 1 10.28 4.2l-.08.08A6 6 0 0 1 8 14z"})}))}},17159:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M24.62 20l2.5-5-2.5-5H17V6H7.38l-2.5 5 2.5 5H15v8h-4v2h10v-2h-4v-4zm-1.24-8l1.5 3-1.5 3H17v-6zM8.62 14l-1.5-3 1.5-3H15v6z"})}))}},67585:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(52322);function s(){return(0,n.jsxs)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M40 0H0v40h40V0Z",fill:"#19AA1E"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0h40v13.125L0 6.875V0Z",fill:"#FFB919"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 35.625 40-6.25V40H0v-4.375Z",fill:"#82D714"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 6.084 13.962 2.182C15.7 7.166 17.768 6.563 20 6.563c3.091 0 5.868 1.157 7.89 3.189.254.256.495.524.72.803L40 12.335v1.58l-10.233-1.598a10.27 10.27 0 0 1 1.17 4.743c0 2.143-.479 4.28-1.47 6.425l-.03.065-.42.902h-.996c-2.055 0-3.418.614-4.309 1.704-.7.855-1.104 2.008-1.24 3.266l-.005.04-.02.2-.008.088-.016.17a31.28 31.28 0 0 0-.105 1.427L40 28.584v1.582l-40 6.25v-1.582l17.702-2.766-.008-.355-.003-.1-.001-.051-.003-.08c-.016-.43-.055-.982-.118-1.65l-.012-.127-.022-.22c-.127-1.265-.526-2.432-1.224-3.3-.881-1.097-2.232-1.72-4.27-1.733h-1.057l-.421-.902c-1.011-2.167-1.5-4.325-1.5-6.49 0-2.722 1.104-5.354 3.048-7.308.056-.057.112-.112.17-.167L0 7.665v-1.58Z",fill:"#fff"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8.125c5.584 0 9.375 4.298 9.375 8.935 0 1.862-.406 3.799-1.354 5.83-5.495 0-6.851 3.934-7.108 6.41l-.016.165a31.03 31.03 0 0 0-.151 2.128l-1.488.232v-.048c-.006-.56-.06-1.346-.16-2.358l-.004-.044c-.237-2.47-1.565-6.486-7.115-6.486-.948-2.03-1.354-3.967-1.354-5.829 0-4.637 3.79-8.935 9.375-8.935Z",fill:"#0070CC"})]}))}},86631:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(52322);const s={down:"0",up:"180",right:"-90",left:"90"};function i({direction:e,size:t=24,color:r="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:r,style:{transform:`rotate(${s[e||"down"]||0}deg)`}},{children:(0,n.jsx)("path",{d:"M15.793 9.4l1.414 1.414L12 16.024l-5.207-5.21L8.207 9.4 12 13.195z"})}))}},27492:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(52322);function s({color:e="currentColor",size:t=16}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16"},{children:(0,n.jsx)("path",{fill:e,d:"M3 3l2.5 3L8 3l2.5 3L13 3v9H3z"})}))}},26125:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);const s=({height:e=24,width:t=87})=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,fill:"none",viewBox:"0 0 87 24"},{children:[(0,n.jsx)("mask",Object.assign({id:"a",width:"24",height:"24",x:"0",y:"0",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},{children:(0,n.jsx)("path",{fill:"#299400",d:"M18.0408 23.9889c.5303-.0111 1.0643-.0445 1.5871-.1371.5303-.0964 1.0272-.2446 1.5093-.4929.4784-.2372.9122-.5522 1.2868-.9228.3745-.3706.6934-.8005.9308-1.2712.2447-.4781.4005-.9635.4969-1.4898.0964-.5188.1261-1.0451.1372-1.5713.0074-.2409.0074-.4818.0111-.7227V6.6152c0-.24089 0-.48178-.0111-.72267-.0111-.52255-.0445-1.0525-.1372-1.57134-.0964-.52625-.2522-1.01545-.4969-1.48981-.2411-.46696-.5563-.89685-.9308-1.27116-.3746-.3706-.8121-.685606-1.2868-.922789-.4858-.24089-.979-.396542-1.5093-.492897-.5228-.0926501-1.0568-.126004-1.5871-.13712202-.1001 0-.2003-.00370599-.3634-.00741198H6.99011L5.96663.011118C5.43634.022236 4.90235.0555899 4.37948.14824 3.8492.244595 3.35229.396541 2.87021.641137c-.47837.237183-.91224.552193-1.28677.922793-.37454.3706-.693452.80049-.930782 1.27115-.248455.47808-.400495.96356-.49691 1.48981-.1001238.51884-.12979 1.04509-.1446232 1.57134C.00370828 6.13712.00370828 6.37801 0 6.6189v10.7659c0 .2409.00370828.4818.0111248.7227.0111249.5225.0444994 1.0525.1372062 1.5713.096416.5263.252163 1.0155.49691 1.4898.241038.467.556239.8969.930779 1.2712.37454.3706.81211.6856 1.28677.9228.48579.2409.97899.3965 1.50927.4929.52287.0926 1.05686.126 1.58715.1371.10012 0 .20025.0037.36341.0074H16.4425l1.5909-.0074.0074-.0037Z"})})),(0,n.jsxs)("g",Object.assign({mask:"url(#a)"},{children:[(0,n.jsx)("path",{fill:"#19AA1E",d:"M0 0h24v24H0z"}),(0,n.jsx)("path",{fill:"#FFB919",fillRule:"evenodd",d:"M0 0h24v7.875L0 4.125V0Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#82D714",fillRule:"evenodd",d:"m0 21.375 24-3.75V24H0v-2.625Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m0 3.65057 8.37739 1.30895C9.42023 4.29942 10.6609 3.9375 12 3.9375c1.8547 0 3.5206.6943 4.7336 1.91353.1531.15385.2975.31471.4328.48179L24 7.40055v.94887l-6.1397-.95931c.4561.87533.7022 1.8506.7022 2.84589 0 1.2858-.2876 2.5678-.8821 3.855l-.0181.039-.2525.541h-.5971c-1.2329 0-2.0507.3688-2.5854 1.0224-.4198.5132-.6626 1.205-.7443 1.9598l-.0025.0236-.0119.1206-.0051.0525-.0097.1026c-.0313.337-.0522.6228-.0628.8557L24 17.1506v.9488l-24 3.75v-.9488l10.6209-1.6596-.0046-.213-.0014-.0601-.0009-.0308-.0017-.0475c-.0095-.2583-.0332-.5894-.0711-.9907l-.0073-.0761-.013-.1318c-.0762-.7588-.3154-1.4594-.73409-1.9802-.52909-.658-1.33937-1.0322-2.56235-1.0397l-.03719-.0001h-.59705l-.25249-.541c-.60678-1.3003-.90023-2.5952-.90023-3.894 0-1.63332.66263-3.21271 1.8289-4.38497.03367-.03384.06768-.06728.10204-.10031L0 4.59942v-.94885Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#0073FA",fillRule:"evenodd",d:"M12 4.875c3.3506 0 5.625 2.57897 5.625 5.361 0 1.1169-.2437 2.2791-.8123 3.4975-3.297 0-4.1108 2.3612-4.2647 3.8468l-.0098.099c-.0522.5302-.0823.9556-.0906 1.2763l-.893.1396-.0002-.0289c-.0034-.3362-.0352-.8078-.0953-1.4148l-.0026-.0265c-.1422-1.4824-.9389-3.8915-4.26923-3.8915-.56859-1.2184-.81227-2.3806-.81227-3.4975 0-2.78203 2.27437-5.361 5.625-5.361Z",clipRule:"evenodd"})]})),(0,n.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M35.234 4c-3.8621 0-6.7586 2.30303-6.7338 6.303h3.5897c-.0495-1.59997.9902-3.15148 3.1441-3.15148 1.6339 0 2.6737 1.06666 2.6737 2.42424 0 1.40604-1.1388 2.18184-2.9708 3.05454-2.4014 1.1394-3.8373 1.6727-6.4367 2.5212v4.6061h12.8734v-3.1515h-8.0211c1.2409-.5066 2.4487-1.0628 3.5401-1.5758 2.8966-1.3576 4.6048-2.8848 4.6048-5.62424C41.4974 6.10909 38.9722 4 35.234 4Zm11.8336 3.39394h7.427V4.24242H43.6017V19.7576h3.4659V7.39394Zm12.6259-3.15152h-3.466V19.7576h3.4412l6.4615-9.91518v9.91518h3.4659V4.24242h-3.4659l-6.4367 9.91518V4.24242ZM87 13.9394h-3.5897c-.5446 1.7212-2.2033 2.9091-4.1591 2.9091-2.847 0-4.7038-2.4-4.7038-4.8485 0-2.44848 1.8073-4.84848 4.8028-4.84848 1.9805 0 3.5155 1.18787 4.0601 2.90908H87C86.4801 6.59394 83.6826 4 79.2512 4c-4.9018 0-8.1697 3.3697-8.1697 8s3.2679 8 8.1697 8c4.4314 0 7.2289-2.5455 7.7488-6.0606Z",clipRule:"evenodd"})]}))},77786:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(52322);function s({size:e=64}={}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e,height:e,viewBox:"0 0 64 64"},{children:[(0,n.jsx)("defs",{children:(0,n.jsx)("rect",{id:"i2v4gc9jka",width:"64",height:"64",x:"0",y:"0",rx:"8"})}),(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:(0,n.jsx)("g",{children:(0,n.jsx)("g",{children:(0,n.jsxs)("g",Object.assign({transform:"translate(-44 -120) translate(28 108) translate(16 12)"},{children:[(0,n.jsx)("mask",Object.assign({id:"qkf4unla0b",fill:"#fff"},{children:(0,n.jsx)("use",{xlinkHref:"#i2v4gc9jka"})})),(0,n.jsx)("use",{fill:"#D8D8D8",xlinkHref:"#i2v4gc9jka"}),(0,n.jsxs)("g",Object.assign({mask:"url(#qkf4unla0b)"},{children:[(0,n.jsx)("path",{fill:"#19AA1E",d:"M0 0H64V64H0z"}),(0,n.jsx)("path",{fill:"#FFB919",d:"M0 0L64 0 64 21 0 11z"}),(0,n.jsx)("path",{fill:"#82D714",d:"M0 57L64 47 64 64 0 64z"}),(0,n.jsx)("path",{fill:"#FFF",d:"M0 9.735l22.34 3.49c2.78-1.76 6.089-2.725 9.66-2.725 4.946 0 9.388 1.851 12.623 5.103.408.41.793.839 1.154 1.285L64 19.735v2.53l-16.373-2.558c1.217 2.334 1.873 4.935 1.873 7.589 0 3.429-.767 6.848-2.352 10.28l-.049.104-.673 1.443h-1.592c-3.288 0-5.469.983-6.895 2.726-1.12 1.369-1.766 3.213-1.984 5.226l-.007.063-.032.322-.013.14-.026.273c-.084.9-.14 1.661-.168 2.282L64 45.735v2.53l-64 10v-2.53l28.323-4.426-.013-.568-.004-.16-.002-.082-.004-.127c-.026-.689-.09-1.572-.19-2.642l-.02-.203-.034-.351c-.203-2.023-.841-3.892-1.958-5.28-1.41-1.755-3.571-2.753-6.833-2.773h-1.691L16.9 37.68c-1.618-3.467-2.401-6.92-2.401-10.384 0-4.355 1.767-8.567 4.877-11.693.09-.09.18-.18.272-.268L0 12.265v-2.53z"}),(0,n.jsx)("path",{fill:"#0073FA",d:"M32 13c8.935 0 15 6.877 15 14.296 0 2.978-.65 6.078-2.166 9.327-8.792 0-10.962 6.296-11.373 10.258l-.026.264c-.139 1.414-.22 2.548-.241 3.403l-2.382.372v-.077c-.01-.896-.094-2.154-.254-3.772L30.55 47c-.38-3.953-2.504-10.377-11.385-10.377C17.65 33.373 17 30.274 17 27.296 17 19.877 23.065 13 32 13z"})]}))]}))})})}))]}))}},61955:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(52322);function s({color:e="currentColor",width:t=19,height:r=19}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 19 19",fill:e},{children:(0,n.jsx)("path",{d:"M7 15c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm5 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zM6.7 7l.6 3.5c0 .3.3.4.6.4l5.7-.8.3-3.1H6.7zm-.2-1h8.6l-.6 4.9-6.5 1c-.8.1-1.5-.4-1.7-1.2l-1-5.2c0-.3-.2-.5-.4-.5H4V4h.9c.7 0 1.3.5 1.5 1.2l.1.8z"})}))}},34922:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(52322);const s=({height:e=24,width:t=88})=>(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 88 24"},{children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,n.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,n.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,n.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,n.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,n.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,n.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,n.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,n.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,n.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,n.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,n.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,n.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,n.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,n.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,n.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,n.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,n.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"prefix__f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,n.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,n.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,n.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,n.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,n.jsx)("path",{fill:"#21A038",d:"M22.024 4.622a11.93 11.93 0 011.407 2.365L12.74 14.974l-4.47-2.839V8.72l4.469 2.839 9.284-6.937z"}),(0,n.jsx)("path",{fill:"url(#prefix__a)",d:"M3.711 11.894c0-.153.004-.305.012-.457l-2.708-.134a11.996 11.996 0 00.877 5.144 11.869 11.869 0 002.546 3.856l1.92-1.945a9.137 9.137 0 01-1.96-2.964 9.245 9.245 0 01-.687-3.5z"}),(0,n.jsx)("path",{fill:"url(#prefix__b)",d:"M12.737 2.747c.151 0 .301.006.45.013l.136-2.745a11.58 11.58 0 00-5.078.889 11.659 11.659 0 00-3.807 2.58l1.92 1.947a8.986 8.986 0 012.925-1.987 8.9 8.9 0 013.454-.697z"}),(0,n.jsx)("path",{fill:"url(#prefix__c)",d:"M12.737 21.041c-.151 0-.301 0-.451-.012l-.136 2.744a11.549 11.549 0 005.077-.888 11.697 11.697 0 003.805-2.58l-1.917-1.946a9.014 9.014 0 01-2.925 1.986 8.89 8.89 0 01-3.453.696z"}),(0,n.jsx)("path",{fill:"url(#prefix__d)",d:"M17.825 4.343l2.282-1.704A11.59 11.59 0 0012.733 0v2.747a8.9 8.9 0 015.092 1.596z"}),(0,n.jsx)("path",{fill:"#21A038",d:"M24.473 11.894c.002-.714-.06-1.428-.184-2.131l-2.526 1.886v.245a9.243 9.243 0 01-.776 3.71 9.11 9.11 0 01-2.197 3.07l1.822 2.04a11.855 11.855 0 002.855-3.994 11.986 11.986 0 001.006-4.826z"}),(0,n.jsx)("path",{fill:"url(#prefix__e)",d:"M12.737 21.041a8.908 8.908 0 01-3.66-.786 9.025 9.025 0 01-3.03-2.227l-2.013 1.846a11.72 11.72 0 003.941 2.894c1.5.675 3.122 1.022 4.762 1.02v-2.747z"}),(0,n.jsx)("path",{fill:"url(#prefix__f)",d:"M6.685 5.115L4.864 3.074a11.846 11.846 0 00-2.857 3.994A11.974 11.974 0 001 11.894h2.711c0-1.278.264-2.542.776-3.71a9.146 9.146 0 012.198-3.07z"}),(0,n.jsx)("path",{d:"M68.73 6.802l3.358-2.479H60.849v14.896h11.239V16.74h-8.032v-3.815h6.852v-2.479h-6.852V6.802zm-15.443 3.324h-3.902V6.801h6.227l3.356-2.487H46.18v14.897h6.695c3.753 0 5.907-1.705 5.907-4.677 0-2.844-1.951-4.408-5.494-4.408zm-.558 6.605h-3.344v-4.128h3.344c2.03 0 2.982.692 2.982 2.064s-1.013 2.064-2.982 2.064zM80.35 4.321h-6.118v14.895h3.206v-4.22h2.912c3.903 0 6.317-2.058 6.317-5.346 0-3.288-2.414-5.33-6.317-5.33zm-.068 8.195h-2.844V6.801h2.844c2.053 0 3.186 1.016 3.186 2.859s-1.133 2.856-3.186 2.856zm-38.915 3.186a5.574 5.574 0 01-2.698.676c-2.82 0-4.864-2.016-4.864-4.793s2.045-4.799 4.864-4.799a4.753 4.753 0 012.841.881l2.243-1.655-.151-.108c-1.309-1.152-3.057-1.762-5.058-1.762-2.17 0-4.139.732-5.544 2.063a7.19 7.19 0 00-2.199 5.305 7.44 7.44 0 002.186 5.382c1.411 1.384 3.375 2.146 5.53 2.146 2.252 0 4.22-.786 5.553-2.219l-2.008-1.499-.695.382z",fill:"#1FA037"})]}))]}))},2556:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(52322);function s({color:e="currentColor",size:t=16}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M12.326 14.3l-1.145-4.92L15 6.07 9.966 5.64 8 1 6.034 5.639 1 6.07 4.819 9.38 3.674 14.3 8 11.69z"})}))}},45718:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(52322);function s({lang:e}){return"ru"===e?(0,n.jsxs)("svg",Object.assign({width:127,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("rect",{width:127,height:40,rx:5,fill:"#262626"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.289 15.005a7.002 7.002 0 0 1 13.422 0A4.5 4.5 0 0 1 26.5 24H21v4.586l2.793-2.793 1.414 1.414L20 32.414l-5.207-5.207 1.414-1.414L19 28.586V24h-5.5a4.5 4.5 0 0 1-.211-8.995ZM20 12a5.001 5.001 0 0 0-4.937 4.205l-.159.993-.992-.164A2.5 2.5 0 1 0 13.5 22h13a2.5 2.5 0 1 0-.412-4.966l-.992.164-.159-.993A5.001 5.001 0 0 0 20 12Z",fill:"#30AD00"}),(0,n.jsx)("path",{d:"M46.246 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.079-.972-2.079-2.62 0-1.691.9-2.591 2.052-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.961 3.393 1.413 0 2.538-.756 2.826-2.196ZM48.672 11.849l1.665 2.15h1.017l-2.016-2.555 1.827-2.286h-.972l-1.539 1.98h-.603v-1.98h-.828V14h.828v-2.151h.621ZM51.69 12.722c0 .89.755 1.395 1.664 1.395.855 0 1.36-.288 1.656-.783.01.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.01-1.116c.008-1.36-.595-1.998-1.927-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.989.225-3.276.558-3.276 1.7Zm3.338-1.053v.306c0 1.143-.729 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM59.794 14h.82V9.158h-.82v2.205c-.45.108-.819.162-1.143.162-.684 0-1.026-.243-1.026-.963V9.158h-.819v1.575c0 1.044.54 1.503 1.548 1.503.441 0 .882-.072 1.44-.198V14ZM61.665 12.722c0 .89.756 1.395 1.665 1.395.855 0 1.359-.288 1.656-.783.009.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.009-1.116c.009-1.36-.594-1.998-1.926-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.99.225-3.276.558-3.276 1.7Zm3.339-1.053v.306c0 1.143-.73 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM68.687 9.869h1.656v-.711h-4.13v.71h1.655V14h.82V9.869ZM73.144 10.868h-1.151v-1.71h-.82V14h1.962c1.116 0 1.819-.405 1.819-1.602 0-1.026-.55-1.53-1.81-1.53Zm-.08 2.42h-1.071v-1.71h1.053c.737 0 1.106.18 1.106.82 0 .648-.368.89-1.088.89ZM82.106 9.068c0-1.098-.864-1.71-2.07-1.71-1.386 0-2.286.855-2.268 2.15h.846c.018-1.08.702-1.466 1.404-1.466.774 0 1.224.459 1.224 1.134 0 1.152-1.35 2.385-3.654 4.086V14h4.698v-.765h-3.582c1.827-1.314 3.402-2.655 3.402-4.167ZM87.559 8.267v-.792H83.49V14h.918V8.267h3.15ZM92.85 8.816V14h.918V7.475h-.918l-3.51 5.175V7.475h-.918V14h.918l3.51-5.184ZM100.879 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.08-.972-2.08-2.62 0-1.691.9-2.591 2.053-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.96 3.393 1.414 0 2.539-.756 2.827-2.196ZM48.047 31.651v-2.86h-1.04v-5.785H41.91l-.104 2.223c-.117 2.548-.52 3.562-1.3 3.562h-.377v2.86h1.404V30h5.109v1.651h1.404Zm-2.587-7.423v4.563H42.3c.547-.533.807-1.534.91-3.38l.066-1.183h2.184ZM53.568 30h1.547v-6.994h-5.044l-.13 2.509c-.143 2.652-.676 3.263-1.248 3.263h-.156V30h.286c1.6 0 2.405-1.352 2.587-4.264l.104-1.508h2.054V30ZM62.456 30v-6.994h-2.977c-1.742 0-2.678.806-2.678 2.223 0 1.001.546 1.651 1.287 1.95L56.333 30h1.755l1.43-2.418h1.39V30h1.548ZM59.7 24.228h1.209v2.132h-1.274c-.78 0-1.261-.273-1.261-1.014 0-.715.52-1.118 1.326-1.118ZM69.903 20.575 66.393 30h1.69l.728-2.093h3.822L73.374 30h1.807l-3.536-9.425h-1.742Zm-.61 5.954 1.416-4.043 1.43 4.043h-2.847ZM77.597 23.981v-.975H76.05V30h1.547v-3.718c0-1.261.442-2.171 1.625-2.171s1.326.923 1.326 1.872V30h1.547v-4.394c0-1.664-.69-2.756-2.38-2.756-.974 0-1.715.403-2.118 1.131ZM88.346 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.39 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.74-2.392 1.768-2.392ZM95.461 24.579v-1.56a4.193 4.193 0 0 0-.403-.026c-.845.013-1.52.481-1.898 1.261v-1.248h-1.52V30h1.546v-3.666c0-1.404.56-1.794 1.534-1.794.234 0 .481.013.741.039ZM102.708 26.516c0-2.522-1.742-3.666-3.445-3.666-1.703 0-3.445 1.144-3.445 3.666 0 2.522 1.742 3.653 3.445 3.653 1.703 0 3.445-1.131 3.445-3.653Zm-3.445 2.392c-.975 0-1.846-.78-1.846-2.392 0-1.612.87-2.405 1.846-2.405.975 0 1.846.793 1.846 2.405 0 1.612-.871 2.392-1.846 2.392ZM105.526 20.575h-1.547v1.56h1.547v-1.56Zm0 2.431h-1.547V30h1.547v-6.994ZM111.908 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.391 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.741-2.392 1.768-2.392Z",fill:"#fff"})]})):(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"136",height:"40",viewBox:"0 0 136 40"},{children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("path",{id:"hvcz4j5vma",d:"M5 40h126a5 5 0 005-5V5a5 5 0 00-5-5H5a5 5 0 00-5 5v30a5 5 0 005 5z"}),(0,n.jsx)("path",{id:"dzo48k5k4c",d:"M10.436 7.538c-.291.308-.463.786-.463 1.405v22.116c0 .62.172 1.097.463 1.405l.073.072 12.39-12.389v-.292l-12.39-12.39-.073.073z"}),(0,n.jsx)("path",{id:"l5jm4jaf4d",d:"M22.899 19.855v.292l4.129 4.132.094-.053 4.893-2.78c1.397-.795 1.397-2.095 0-2.889l-4.893-2.78-.093-.053-4.13 4.131z"}),(0,n.jsx)("path",{id:"sttyh0eeee",d:"M10.436 32.464c.46.488 1.221.548 2.078.061l14.608-8.3-4.223-4.224-12.463 12.463z"}),(0,n.jsx)("path",{id:"t2eivhn8hf",d:"M10.436 7.538l12.463 12.463 4.223-4.224-14.608-8.3c-.402-.229-.783-.337-1.121-.337-.384 0-.713.139-.957.398"})]}),(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsx)("mask",Object.assign({id:"6szubt340b",fill:"#fff"},{children:(0,n.jsx)("use",{xlinkHref:"#hvcz4j5vma"})})),(0,n.jsx)("use",{fill:"#262626",xlinkHref:"#hvcz4j5vma"}),(0,n.jsx)("path",{fill:"#FFF",d:"M77.264 21.751c.942 0 1.704.39 2.143.845l.096.106h.064v-.693h1.773v7.637c0 3.141-1.853 4.43-4.044 4.43-1.98 0-3.202-1.277-3.71-2.377l-.06-.136 1.627-.677c.29.693.999 1.514 2.143 1.514 1.343 0 2.198-.798 2.266-2.297l.005-.2v-.611h-.064c-.419.515-1.225.966-2.239.966-2.127 0-4.076-1.853-4.076-4.237 0-2.4 1.949-4.27 4.076-4.27zm42.056.251l2.22 5.42h.064l2.139-5.42h2.075l-5.131 11.789h-1.946l1.899-4.214-3.329-7.575h2.009zm-29.909-.251c1.97 0 3.042 1.4 3.501 2.377l.1.225.233.588-5.686 2.352c.434.854 1.111 1.29 2.061 1.29.883 0 1.515-.404 1.989-1.029l.106-.148 1.45.967-.065.093-.152.2c-.56.69-1.633 1.592-3.328 1.592-2.416 0-4.221-1.869-4.221-4.253 0-2.529 1.821-4.254 4.012-4.254zm-21.275 0c2.352 0 4.269 1.789 4.269 4.254 0 2.449-1.917 4.253-4.269 4.253-2.352 0-4.269-1.804-4.269-4.253 0-2.465 1.917-4.254 4.269-4.254zm-9.314 0c2.353 0 4.27 1.789 4.27 4.254 0 2.449-1.917 4.253-4.27 4.253-2.352 0-4.269-1.804-4.269-4.253 0-2.465 1.917-4.254 4.269-4.254zm-11.078-4.704c1.908 0 3.295.709 4.354 1.66l.173.161-1.273 1.273c-.773-.725-1.82-1.289-3.254-1.289-2.659 0-4.737 2.143-4.737 4.801 0 2.658 2.078 4.801 4.737 4.801 1.723 0 2.706-.693 3.335-1.322.472-.472.796-1.134.946-2.023l.037-.248h-4.318v-1.804h6.073c.065.322.097.709.097 1.127 0 1.354-.371 3.029-1.563 4.221-1.16 1.208-2.642 1.853-4.607 1.853-3.641 0-6.702-2.965-6.702-6.605 0-3.641 3.061-6.606 6.702-6.606zm65.642 4.682c2.069 0 3.689 1.16 3.79 3.246l.006.212v4.792h-1.802v-.965h-.065c-.433.66-1.126 1.223-2.379 1.223-1.641 0-3.105-1.078-3.105-2.751 0-1.833 1.817-2.814 3.603-2.814.81 0 1.486.243 1.854.432l.092.05v-.129c-.016-1.029-.997-1.608-1.962-1.608-.642 0-1.257.195-1.625.776l-.08.141-1.656-.691c.579-1.319 1.978-1.914 3.329-1.914zm-28.889-4.23V30h-1.868V17.499h1.868zm17.309 0c2.068 0 4.101 1.497 4.101 3.882 0 2.314-1.912 3.791-3.913 3.879l-.188.004H99.2V30h-1.865V17.499h4.471zm6.996 0V30h-1.865V17.499h1.865zm-40.666 5.928c-1.289 0-2.401 1.047-2.401 2.578 0 1.514 1.112 2.578 2.401 2.578 1.289 0 2.4-1.064 2.4-2.578 0-1.531-1.111-2.578-2.4-2.578zm-9.314 0c-1.288 0-2.4 1.047-2.4 2.578 0 1.514 1.112 2.578 2.4 2.578 1.289 0 2.401-1.064 2.401-2.578 0-1.531-1.112-2.578-2.401-2.578zm18.603 0c-1.289 0-2.368 1.095-2.368 2.594 0 1.482 1.079 2.562 2.368 2.562 1.272 0 2.271-1.08 2.271-2.562 0-1.499-.999-2.594-2.271-2.594zm36.251 2.757c-.917 0-1.979.37-1.979 1.335 0 .755.853 1.061 1.463 1.061 1.078 0 2.075-.82 2.22-1.978l-.29-.136c-.38-.169-.759-.282-1.414-.282zm-24.2-2.789c-.913 0-2.167.771-2.223 2.288l-.001.193 3.803-1.579c-.21-.531-.838-.902-1.579-.902zm12.378-4.156H99.2v4.285h2.654c1.395 0 2.187-1.174 2.187-2.143 0-.944-.725-2.042-2.008-2.136l-.179-.006zM71.409 6.866c.872 0 1.603.304 2.196.913.592.61.888 1.35.888 2.221 0 .877-.295 1.618-.884 2.224-.59.607-1.323.91-2.2.91-.877 0-1.61-.303-2.199-.91-.59-.606-.884-1.347-.884-2.224 0-.877.294-1.619.884-2.225.59-.606 1.322-.909 2.2-.909zm-26.94 0c.43 0 .841.084 1.231.251.392.168.704.391.94.67l-.529.528c-.396-.474-.944-.712-1.642-.712-.632 0-1.178.222-1.639.666-.46.445-.69 1.021-.69 1.731 0 .71.23 1.286.69 1.73a2.282 2.282 0 001.64.666c.67 0 1.227-.223 1.675-.67.29-.29.458-.695.502-1.215H44.47v-.72h2.907c.029.156.043.306.043.452 0 .838-.248 1.505-.745 2.003-.566.592-1.3.888-2.205.888-.866 0-1.602-.3-2.208-.9-.607-.6-.909-1.346-.909-2.234 0-.889.303-1.633.91-2.234.605-.6 1.341-.9 2.207-.9zM52.028 7v.737h-2.732V9.64h2.463v.721h-2.463v1.902h2.732V13h-3.503V7h3.503zm24.485 0l2.916 4.667h.034l-.034-1.156V7h.772v6h-.805l-3.05-4.894h-.034l.034 1.157V13h-.77V7h.937zM65.804 7v.737h-1.676V13h-.77V7.737H61.68V7h4.123zM60.71 7v6h-.771V7h.771zm-3.754 0v.737H55.28V13h-.771V7.737h-1.676V7h4.123zm14.454.603c-.643 0-1.186.225-1.63.675-.443.45-.666 1.024-.666 1.722s.223 1.272.666 1.722a2.2 2.2 0 001.63.674c.642 0 1.186-.224 1.63-.674.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722a2.203 2.203 0 00-1.63-.675z",mask:"url(#6szubt340b)"}),(0,n.jsx)("use",{fill:"#00D4FF",xlinkHref:"#dzo48k5k4c"}),(0,n.jsx)("use",{fill:"#FFCD00",xlinkHref:"#l5jm4jaf4d"}),(0,n.jsx)("use",{fill:"#F53349",xlinkHref:"#sttyh0eeee"}),(0,n.jsx)("use",{fill:"#00F076",xlinkHref:"#t2eivhn8hf"})]}))]}))}},32942:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(52322);function s({lang:e}){return"ru"===e?(0,n.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,n.jsx)("mask",Object.assign({id:"path-3-inside-1",fill:"white"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z"})})),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z",fill:"white",stroke:"white",strokeWidth:"2",mask:"url(#path-3-inside-1)"})]})):(0,n.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM43.8057 10.1083C45.1177 10.1083 45.9277 10.9923 45.9277 12.4443C45.9277 13.9033 45.1207 14.7843 43.8057 14.7843C42.4877 14.7843 41.6807 13.9033 41.6807 12.4443C41.6807 10.9923 42.4917 10.1083 43.8057 10.1083ZM63.3428 10.1083C64.6548 10.1083 65.4658 10.9923 65.4658 12.4443C65.4658 13.9033 64.6578 14.7843 63.3428 14.7843C62.0248 14.7843 61.2178 13.9033 61.2178 12.4443C61.2178 10.9923 62.0288 10.1083 63.3428 10.1083ZM81.355 10.1083C82.667 10.1083 83.477 10.9923 83.477 12.4443C83.477 13.9033 82.67 14.7843 81.355 14.7843C80.037 14.7843 79.23 13.9033 79.23 12.4443C79.23 10.9923 80.041 10.1083 81.355 10.1083ZM102.806 10.1078C104.059 10.1078 104.815 10.9638 104.815 12.3778V12.6878H101.635V12.7378C101.664 13.5278 102.123 14.0278 102.834 14.0278C103.372 14.0278 103.74 13.8338 103.906 13.4818H104.761C104.559 14.2888 103.839 14.7848 102.81 14.7848C101.52 14.7848 100.73 13.8998 100.73 12.4608C100.73 11.0218 101.536 10.1078 102.806 10.1078ZM75.5531 8.43731V14.6973H74.7021V13.9863H74.6311C74.3631 14.4783 73.8371 14.7723 73.2171 14.7723C72.0721 14.7723 71.3481 13.8703 71.3481 12.4443C71.3481 11.0213 72.0791 10.1203 73.2171 10.1203C73.8331 10.1203 74.3541 10.4133 74.5981 10.9103H74.6641V8.43731H75.5531ZM68.4144 10.1076C69.5434 10.1076 70.1804 10.6696 70.1804 11.6216V14.6976H69.3244V14.0646H69.2544C68.9854 14.5156 68.4934 14.7716 67.9014 14.7716C67.0334 14.7716 66.4004 14.2476 66.4004 13.4246C66.4004 12.6136 67.0044 12.1466 68.0754 12.0806L69.2954 12.0096V11.6216C69.2954 11.1456 68.9814 10.8766 68.3734 10.8766C67.8774 10.8766 67.5334 11.0596 67.4354 11.3776H66.5744C66.6654 10.6036 67.3934 10.1076 68.4144 10.1076ZM93.5152 9.07371V10.2157H94.4912V10.9637H93.5152V13.2797C93.5152 13.7507 93.7092 13.9577 94.1522 13.9577C94.2882 13.9577 94.3672 13.9487 94.4912 13.9367V14.6777C94.3462 14.7017 94.1802 14.7227 94.0072 14.7227C93.0192 14.7227 92.6252 14.3747 92.6252 13.5067V10.9637H91.9112V10.2157H92.6252V9.07371H93.5152ZM37.8267 8.73101C39.5957 8.73101 40.6337 9.81801 40.6337 11.696C40.6337 13.602 39.6037 14.698 37.8267 14.698H35.6707V8.73101H37.8267ZM47.4703 10.1948L48.2773 13.6308H48.3443L49.2693 10.1948H50.1223L51.0483 13.6308H51.1183L51.9213 10.1948H52.8093L51.5733 14.6978H50.6513L49.7203 11.3818H49.6503L48.7233 14.6978H47.8103L46.5693 10.1948H47.4703ZM56.1195 10.1078C57.1245 10.1078 57.6775 10.7118 57.6775 11.7828V14.6978H56.7895V12.0058C56.7895 11.2818 56.4745 10.9228 55.8175 10.9228C55.1605 10.9228 54.7425 11.3608 54.7425 12.0638V14.6978H53.8535V10.1948H54.7085V10.9098H54.7755C54.9945 10.4098 55.4415 10.1078 56.1195 10.1078ZM59.983 8.43701V14.698H59.094V8.43701H59.983ZM86.9355 10.1078C87.9405 10.1078 88.4935 10.7118 88.4935 11.7828V14.6978H87.6055V12.0058C87.6055 11.2818 87.2905 10.9228 86.6335 10.9228C85.9765 10.9228 85.5585 11.3608 85.5585 12.0638V14.6978H84.6695V10.1948H85.5245V10.9098H85.5915C85.8105 10.4098 86.2575 10.1078 86.9355 10.1078ZM96.5856 8.43701V10.918H96.6556C96.8746 10.414 97.3506 10.112 98.0286 10.112C98.9876 10.112 99.5796 10.72 99.5796 11.791V14.698H98.6896V12.01C98.6896 11.291 98.3546 10.926 97.7266 10.926C96.9986 10.926 96.5936 11.386 96.5936 12.068V14.698H95.7046V8.43701H96.5856ZM69.2954 12.6636L68.1954 12.7336C67.5754 12.7746 67.2944 12.9856 67.2944 13.3826C67.2944 13.7886 67.6464 14.0236 68.1294 14.0236C68.7994 14.0236 69.2954 13.5976 69.2954 13.0396V12.6636ZM81.355 10.8973C80.583 10.8973 80.148 11.4683 80.148 12.4443C80.148 13.4283 80.583 13.9943 81.355 13.9943C82.125 13.9943 82.563 13.4243 82.563 12.4443C82.563 11.4683 82.125 10.8973 81.355 10.8973ZM43.8057 10.8973C43.0337 10.8973 42.5987 11.4683 42.5987 12.4443C42.5987 13.4283 43.0337 13.9943 43.8057 13.9943C44.5757 13.9943 45.0137 13.4243 45.0137 12.4443C45.0137 11.4683 44.5757 10.8973 43.8057 10.8973ZM63.3428 10.8973C62.5708 10.8973 62.1358 11.4683 62.1358 12.4443C62.1358 13.4283 62.5708 13.9943 63.3428 13.9943C64.1128 13.9943 64.5508 13.4243 64.5508 12.4443C64.5508 11.4683 64.1128 10.8973 63.3428 10.8973ZM73.4691 10.9183C72.7211 10.9183 72.2661 11.4973 72.2661 12.4443C72.2661 13.3993 72.7161 13.9743 73.4691 13.9743C74.2181 13.9743 74.6811 13.3913 74.6811 12.4483C74.6811 11.5093 74.2131 10.9183 73.4691 10.9183ZM37.7227 9.57401H36.5977V13.854H37.7227C38.9707 13.854 39.6907 13.077 39.6907 11.708C39.6907 10.36 38.9587 9.57401 37.7227 9.57401ZM102.801 10.8638C102.144 10.8638 101.685 11.3278 101.635 12.0308H103.909C103.889 11.3238 103.459 10.8638 102.801 10.8638Z",fill:"white"})]}))}},49058:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(52322);function s(){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 304 180",fill:"none"},{children:[(0,n.jsx)("path",{fill:"#19AA1E",d:"M106.4 122.894v-64.33a8.866 8.866 0 017.803-8.81l88.375-10.75a16.45 16.45 0 0112.904 4.02 16.47 16.47 0 015.551 12.332v60.668a11.402 11.402 0 01-10.019 11.32l-87.577 10.647a15.19 15.19 0 01-11.909-3.707 15.22 15.22 0 01-5.128-11.377v-.013z"}),(0,n.jsx)("path",{fill:"#19AA1E",d:"M208.227 52.644l-.101 75.84-77.051 9.419.101-75.841 77.051-9.418z"}),(0,n.jsx)("path",{fill:"#C4C4C4",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,n.jsx)("path",{fill:"url(#thanks-photo-a)",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,n.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,n.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,n.jsx)("path",{fill:"#C4C4C4",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,n.jsx)("path",{fill:"url(#thanks-photo-b)",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,n.jsx)("path",{fill:"#169523",d:"M130.087 43.758c7.22-.888 14.997.583 17.378 3.258 2.407 2.687-1.52 5.577-8.714 6.464-7.208.875-14.985-.583-17.366-3.27-2.394-2.688 1.52-5.578 8.714-6.452h-.012z"}),(0,n.jsx)("path",{fill:"#C4C4C4",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,n.jsx)("path",{fill:"url(#paint2_linear)",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,n.jsx)("path",{fill:"url(#paint3_linear)",d:"M163.653 55.61c5.32 0 9.627-1.648 9.627-3.714l.101-.19-.215.202c-1.115.99-3.319 1.8-6.27 2.155-.963.127-1.938.19-2.913.203-4.193.038-8.17-.887-9.842-2.37l-.19-.19c.028.064.057.127.088.19 0 2.053 4.307 3.714 9.627 3.714h-.013z"}),(0,n.jsx)("path",{fill:"#169523",d:"M160.639 41.92c5.041-.609 10.488.405 12.16 2.281 1.672 1.876-1.064 3.905-6.106 4.513-5.041.634-10.488-.406-12.16-2.282-1.672-1.876 1.064-3.891 6.106-4.512z"}),(0,n.jsx)("path",{fill:"url(#paint4_radial)",fillRule:"evenodd",d:"M173.964 46.927c-.089 2.13-4.674 3.853-10.298 3.853-5.7 0-10.298-1.762-10.298-3.93 0-.43.329-.76.519-1.128.076-.152.127-.304.165-.583v.419c-.051.05-.051.063 0 0 .253 1.901 4.471 3.41 9.627 3.41 5.307 0 9.614-1.61 9.614-3.6v-.127c0 .076.025.152.038.215.05.228.19.38.316.57.178.28.279.571.317.888v.013z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"url(#paint5_linear)",d:"M172.963 48.613c-.608.469-1.469.887-2.533 1.242-2.394.76-4.965.989-7.448.925a20.878 20.878 0 01-6.764-1.191c-1.165-.444-2.457-1.204-2.837-2.345-.02-.1-.028-.203-.026-.304v3.473c.026.76.532 1.305 1.115 1.736a11.988 11.988 0 004.902 1.762c3.413.572 6.907.45 10.273-.355a9.137 9.137 0 003.42-1.546c.468-.393.899-.925.899-1.572v-3.473c0 .62-.38 1.153-1.013 1.648h.012z"}),(0,n.jsx)("path",{fill:"#19AA1E",d:"M189.088 68.26c17.037-2.383 30.805 10.522 30.767 28.813-.038 18.279-13.857 35.037-30.881 37.42-17.024 2.37-30.793-10.521-30.755-28.8.026-18.292 13.858-35.05 30.882-37.433h-.013z"}),(0,n.jsx)("path",{fill:"url(#paint6_linear)",d:"M146.427 77.654c-8.386 15.21-6.245 34.352 9.284 44.34 5.827 3.74 12.16 6.795 18.19 10.141a36.831 36.831 0 01-1.938-1.141c-15.542-10.014-17.645-29.167-9.247-44.366 8.36-15.173 25.688-23.577 42.433-15.743l.672.33c-5.612-3.106-11.134-6.567-16.936-9.292-16.72-7.834-34.06.532-42.458 15.73z"}),(0,n.jsx)("path",{fill:"#262626",d:"M174.908 128.2c12.65 7.308 29.729 1.403 38.149-13.19 8.419-14.594 4.989-32.349-7.661-39.658-12.65-7.308-29.729-1.403-38.149 13.19-8.419 14.593-4.989 32.349 7.661 39.658z"}),(0,n.jsx)("g",Object.assign({filter:"url(#filter0_ii)"},{children:(0,n.jsx)("path",{fill:"url(#paint7_linear)",d:"M214.459 115.846l.064-.101c8.93-15.49 5.244-34.352-8.234-42.148-13.477-7.783-31.654-1.546-40.584 13.944-8.93 15.477-5.244 34.352 8.234 42.135 9.17 5.299 20.52 4.107 29.64-2.079-8.74 5.894-19.431 7.086-28.044 2.104-12.819-7.402-16.138-25.643-7.423-40.74 8.715-15.11 26.157-21.347 38.975-13.944 12.806 7.403 16.138 25.643 7.423 40.753l-.051.076z"})})),(0,n.jsx)("g",Object.assign({filter:"url(#filter1_ii)"},{children:(0,n.jsx)("path",{fill:"url(#paint8_linear)",fillRule:"evenodd",d:"M176.725 127.369c12.072 6.972 28.348 1.394 36.354-12.46 7.992-13.868 4.686-30.765-7.398-37.737-12.071-6.972-28.348-1.394-36.353 12.46-7.98 13.868-4.687 30.765 7.397 37.737zm33.884-13.868a39.886 39.886 0 01-1.748 2.713c-8.145 11.535-21.952 16.149-32.098 10.293-.29-.163-.577-.332-.861-.507-11.387-6.566-14.313-22.842-6.523-36.33 7.777-13.487 23.306-19.09 34.706-12.51.291.162.579.33.862.506 10.133 5.857 13.034 20.117 7.144 32.933a37.283 37.283 0 01-1.482 2.902z",clipRule:"evenodd"})})),(0,n.jsx)("path",{fill:"#19AA1E",fillRule:"evenodd",d:"M175.535 129.701c12.818 7.403 30.273 1.167 38.975-13.943 8.715-15.085 5.383-33.338-7.423-40.741-12.818-7.403-30.273-1.166-38.975 13.944-8.715 15.084-5.396 33.338 7.423 40.74zm1.469-2.167c11.919 6.883 28.069 1.229 36.075-12.626 7.992-13.867 4.813-30.676-7.119-37.572-11.919-6.895-28.069-1.242-36.075 12.613-7.992 13.868-4.813 30.689 7.119 37.585z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#fff",d:"M204.237 93.866c2.28-.418 3.737-2.991 3.23-5.73-.506-2.737-2.786-4.613-5.066-4.195-2.293.418-3.75 2.979-3.243 5.717.507 2.738 2.787 4.627 5.067 4.208h.012zm-8.22 1.775c.836-.152 1.342-1.166 1.14-2.282-.203-1.103-1.052-1.863-1.888-1.711-.823.152-1.33 1.166-1.14 2.282.216 1.09 1.052 1.863 1.888 1.71z"}),(0,n.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M94.747 158.324c-34.808 9.659-79.61-13.766-52.06-80.823C63.105 27.786 109.3 29.434 121.65 31.78c16.504 3.144 21.381 11.18 16.238 16.301-6.143 6.11-16.124-.52-31.616 1.788-11.4 1.711-29.361 5.45-38.608 27.595 11.983-29.51 70.313-37.52 62.966 15.668"}),(0,n.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M168.15 29.624l24.447-17.34-6.283 22.854 39.9-27.697-18.848 36.33 54.264-24.846-26.651 32.223M76.367 109.407c2.964-3.993 8.905-13.094 22.902-15.275 24.497-3.815 36.391 35.798 5.611 47.447-15.871 6.008-18.455-14.058.507-19.23l-29.02-12.942zm-3.242-19.33c11.324-22.97 63.308-29.6 51.756 19.812L73.125 90.076zm87.767 64.71c8.575 15.668 55.885 32.527 85.779 18.888 44.308-20.219 16.935-70.783-5.194-91.99-14.972-14.362-17.834-21.765-23.357-17.937-4.522 3.144-2.85 14.768.063 22.437 4.725 12.397 22.674 27.304 4.624 42.819-12.11 10.395-35.011 8.975-50.794.406-13.49-7.314-27.613-17.62-31.717-9.507-1.482 2.941.659 10.394 7.119 16.707 11.425 11.13 32.844 23.425 63.156 24.401l-49.679-6.224zm47.956 14.35c-12.996-.482-44.713-9.545-55.353-24.896l55.353 24.896z"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",Object.assign({id:"thanks-photo-a",x1:"105.032",x2:"131.176",y1:"96.11",y2:"96.11",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".01",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:".3",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".57",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"thanks-photo-b",x1:"213.155",x2:"226.784",y1:"87.173",y2:"87.173",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".19",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:".43",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".7",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".99",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint2_linear",x1:"120.675",x2:"148.175",y1:"53.696",y2:"53.696",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".25",stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".48",stopColor:"#E6F6E6",stopOpacity:".5"}),(0,n.jsx)("stop",{offset:".51",stopColor:"#C5EAC6",stopOpacity:".58"}),(0,n.jsx)("stop",{offset:".62",stopColor:"#49BC4D",stopOpacity:".88"}),(0,n.jsx)("stop",{offset:".68",stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint3_linear",x1:"153.951",x2:"173.381",y1:"53.658",y2:"53.658",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#194B41"}),(0,n.jsx)("stop",{offset:".17",stopColor:"#19513F"}),(0,n.jsx)("stop",{offset:".41",stopColor:"#196338"}),(0,n.jsx)("stop",{offset:".69",stopColor:"#19812D"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint5_linear",x1:"153.343",x2:"173.964",y1:"50.603",y2:"50.603",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".71",stopColor:"#199029"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint6_linear",x1:"139.384",x2:"200.261",y1:"121.285",y2:"67.9",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".14",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint7_linear",x1:"190.114",x2:"190.114",y1:"70.251",y2:"133.035",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#16961A"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#0D5810"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"paint8_linear",x1:"191.203",x2:"191.203",y1:"74.168",y2:"130.386",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#0D5810"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#16961A"})]})),(0,n.jsxs)("filter",Object.assign({id:"filter0_ii",width:"59.565",height:"63.283",x:"160.331",y:"69.997",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dx:".5",dy:".25"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,n.jsxs)("filter",Object.assign({id:"filter1_ii",width:"53.464",height:"56.705",x:"164.474",y:"73.918",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dx:".5",dy:".25"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,n.jsxs)("radialGradient",Object.assign({id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(7.55646 0 0 7.50847 163.666 47.953)",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#fff",stopOpacity:".5"}),(0,n.jsx)("stop",{offset:".05",stopColor:"#E4F5E4",stopOpacity:".56"}),(0,n.jsx)("stop",{offset:".35",stopColor:"#52BF56",stopOpacity:".88"}),(0,n.jsx)("stop",{offset:".49",stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".64",stopColor:"#199029"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#195441"})]}))]})]}))}},75891:(e,t,r)=>{"use strict";r.d(t,{m:()=>x});var n=r(52322),s=r(2784),i=r(45554);function a({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M10.8 11L9.6 7.6 8 10.1 6.4 7.7 5.2 11h-2l2.9-7.2L8 6.7l1.9-2.9 2.9 7.2h-2z"})}))}function o({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M10.9 11.8l-.9-1.2c1.5-1.1 1.7-3.3.6-4.7l-.3-.3L8 10.9 5.7 5.6c-1.3 1.3-1.3 3.5 0 4.8l.3.3-.9 1.2C4 10.9 3.2 9.5 3.2 8c0-1.7.9-3.4 2.4-4.2l.7-.4 1.6 3.8 1.6-3.8.7.4c1.5.9 2.4 2.5 2.4 4.2.2 1.5-.6 2.9-1.7 3.8z"})}))}function c({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M11 12L9.5 9 8 12 6.5 9 5 12 3 8l2-4 1.5 3L8 4l1.5 3L11 4l2 4-2 4z"})}))}function d({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M11 7V3h-1L8 5 6 3H5v4H3v1l5 5 5-5V7h-2zm-3 3.9L5.6 8.5h.9V5.6l.4.4L8 7.1 9.1 6l.4-.4v2.9h.9L8 10.9z"})}))}function l({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M13 11h-3v-1h.4l-.9-2.4L8 10.1 6.4 7.7 5.6 10H6v1H3v-1h.6l2.5-6.2L8 6.7l1.9-2.9 2.5 6.2h.6v1z"})}))}function u({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M10.3 11l-.9-2.3L8 10.5 6.6 8.6 5.7 11l-2.3-.5c0-2.3.8-4.5 2-6.5L8 6.3 10.6 4c1.3 2 2 4.2 2.1 6.5l-2.4.5z"})}))}function p({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M10 10.5l1-1V3.8c-.9-.6-2-.8-3-.8s-2.1.2-3 .8v5.8l1 1-1.1 1.6 1.2.9 1.1-1.5h1.6l1.1 1.5 1.2-1-1.1-1.6zm-2-1L6 8V5h4v3L8 9.5z"})}))}function h({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3z"})}))}function g({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M8.47 24h3.43a9 9 0 0 1-1.32-15.18L16 24l5.42-15.18A9 9 0 0 1 20.1 24h3.43A11 11 0 0 0 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58A11 11 0 0 0 8.47 24z"})}))}function m({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M18.22 14.1L16 10.65l-2.28 3.55-2.28-3.55L8 16l3.44 5.35 2.28-3.55L16 21.35l2.22-3.45 2.22 3.45L23.88 16l-3.44-5.35zm-6.78 3.55L10.38 16l1.06-1.65L12.5 16zm4.56 0L14.94 16 16 14.35 17 16v.05zm4.44 0l-1-1.6v-.1l1-1.6L21.5 16z"}),(0,n.jsx)("path",{d:"M16 6C8.83 6 3 10.49 3 16s5.83 10 13 10 13-4.49 13-10S23.17 6 16 6zm0 18c-6.07 0-11-3.59-11-8s4.93-8 11-8 11 3.59 11 8-4.93 8-11 8z"})]}))}function f({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M16 26.64L6 16.41V14h4V6h2.43L16 9.76 19.57 6H22v8h4v2.41zM8.4 16l7.6 7.78L23.6 16H20V8.45l-4 4.21-4-4.21V16z"})}))}function v({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22z"})}))}function b({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M20.38 24.14L18.73 20 16 23.67 13.27 20l-1.65 4.12L5 22.82V22A29.28 29.28 0 0 1 9.66 7.46l.64-1 5.7 5.19 5.7-5.19.64 1A29.28 29.28 0 0 1 27 22v.82zM19.27 16l2.35 5.88 3.38-.69a28.47 28.47 0 0 0-3.72-11.64L16 14.35l-5.28-4.8A28.47 28.47 0 0 0 7 21.19l3.34.67L12.73 16 16 20.33z"})}))}function y({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M24 7.15a15.39 15.39 0 0 0-8-2 15.39 15.39 0 0 0-8 2v12l3.66 2.92-3.37 3.37 1.42 1.41 3.7-3.7h5.18l3.7 3.7 1.42-1.41-3.37-3.37L24 19.15zm-14 4h12v2.42L16 17l-6-3.43zm6-4a15 15 0 0 1 6 1.2v.8H10v-.8a14.89 14.89 0 0 1 6-1.2zm2.3 14h-4.6l-3.7-3v-2.28l6 3.43 6-3.43v2.32z"})}))}class x extends s.PureComponent{render(){const{size:e}=this.props;switch(e){case 16:return this.getIcon16();case 32:return this.getIcon32()}}getIcon16(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,n.jsx)(p,{color:t});case"kharkov":return(0,n.jsx)(u,{color:t});case"moscow":return(0,n.jsx)(l,{color:t});case"praha":return(0,n.jsx)(d,{color:t});case"santiago":return(0,n.jsx)(c,{color:t});case"spb":return(0,n.jsx)(o,{color:t});default:return(0,n.jsx)(a,{color:t})}}getIcon32(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,n.jsx)(y,{color:t});case"kharkov":return(0,n.jsx)(b,{color:t});case"moscow":return(0,n.jsx)(v,{color:t});case"praha":return(0,n.jsx)(f,{color:t});case"santiago":return(0,n.jsx)(m,{color:t});case"spb":return(0,n.jsx)(g,{color:t});default:return(0,n.jsx)(h,{color:t})}}}x.displayName=(0,i.I)("../common/src/icons/mappings/metro")},71260:(e,t,r)=>{"use strict";r.d(t,{O:()=>v});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(31567),c=r(30007),d=r(45554),l=r(19871),u=r(86631),p=r(44277),h=r(82603),g=r(88944);class m extends s.PureComponent{constructor(){super(...arguments),this.state={arrows:"none"},this.scroller=s.createRef(),this.moveScroll=(e,t)=>{const{dir:r}=this.props,n=this.scroller.current;if(!n)return;const{offsetWidth:s,scrollLeft:i}=n,a=t+e;"rtl"!==r?i>t?n.scrollLeft=0:a>s&&(n.scrollLeft=a-s+e):i>=t?n.scrollLeft=Math.abs(a)-s:Math.abs(a)>s-t&&(n.scrollLeft=s+e)},this.detectScroll=()=>{const e=this.scroller.current;if(e){e.scrollWidth-e.clientWidth<=4?this.setState({arrows:"none"}):"none"===this.state.arrows&&this.onScroll()}},this.onScroll=()=>{if(!this.scroller.current)return;const{dir:e}=this.props,t="rtl"===e,{scrollLeft:r,scrollWidth:n,clientWidth:s}=this.scroller.current,i=Math.abs(r),a=n-s,o=i===a;0===r||i<4&&!o?this.setState({arrows:t?"left":"right"}):o||i>=a-4?this.setState({arrows:t?"right":"left"}):this.setState({arrows:"both"})},this.renderArrows=()=>{const{s:e,bgColor:t}=this.props;if("none"!==this.state.arrows){const r="right"!==this.state.arrows?(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow)},c.dx.n("wat-arrow-left"),{children:(0,n.jsx)(u.E,{direction:"left",color:t===o.O.white?o.O.gray_dddddd:o.O.black})})):null,s="left"!==this.state.arrows?(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow,e._right)},c.dx.n("wat-arrow-right"),{children:(0,n.jsx)(u.E,{direction:"right",color:t===o.O.white?o.O.gray_dddddd:o.O.black})})):null;return(0,n.jsx)(l.e,{left:r,right:s,currentIndex:this.getArrowIndex(),maxIndex:2,minIndex:0,onChange:this.scroll})}return null},this.getArrowIndex=()=>{let e=1;return"right"===this.state.arrows?e=0:"left"===this.state.arrows&&(e=2),e},this.scroll=e=>{const t=this.scroller.current,{dir:r}=this.props,n="rtl"===r;if(t){let r=0;switch(e){case 0:r=n?-t.scrollWidth:0;break;case 1:"right"===this.state.arrows?r=t.scrollWidth:"left"===this.state.arrows&&(r=n?-t.scrollWidth:0);break;case 2:r=t.scrollWidth}t.scrollLeft=r}}}componentDidMount(){setTimeout(this.detectScroll,0)}componentDidUpdate(){this.detectScroll()}render(){const{children:e,s:t,showDivider:r=!1,bgColor:s}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(t.wrapper,r&&t._divider)},c.dx.n("wat-wrapper-tabs"),{style:{"--bg-color":s}},{children:[this.renderArrows(),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.content),ref:this.scroller,onScroll:"none"!==this.state.arrows?this.onScroll:h.ZT},c.dx.n("wat-contents-tabs"),c.dx.s(this.state.arrows),{children:e(this.moveScroll)}))]}))}}m.displayName=(0,d.I)("../common/src/kit/arrowedScrollWrapper");const f={wrapper:{position:"relative",display:"flex",alignItems:"center",height:48,zIndex:p.W.base,background:"var(--bg-color)"},content:{zIndex:p.W.base,margin:"0 24px",width:"100%",height:"100%",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},arrow:{position:"absolute",background:"var(--bg-color)",top:12,height:24,width:24,left:0,paddingLeft:8,zIndex:p.W.top,"::before":{content:'""',backgroundImage:"linear-gradient(to right, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))",pointerEvents:"none",height:44,width:72,position:"absolute",left:0,paddingLeft:8,top:-12}},_divider:{boxShadow:g.q.innerBorderBottomBase},_right:{left:"auto",right:0,paddingRight:8,paddingLeft:0,"::before":{left:"auto",right:0,paddingRight:8,paddingLeft:0,backgroundImage:"linear-gradient(to left, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))"}}},v=(0,a.D2)(f)(m)},88780:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var n=r(52322),s=r(2784),i=r(84544),a=r(31567),o=r(30007),c=r(65632),d=r(78535),l=r(54722);const u=(0,s.memo)((({id:e,src:t,src2x:r,backgroundColor:i,backgroundPosition:a,isLoadingForced:c,contain:u,overlay:h,width:g,height:m,borderRadius:f="0",renderPlaceholder:v,onClick:b,onError:y,onLoad:x})=>{const{css:j,s:w}=(0,d.y)(p),[I,C]=(0,s.useState)(!1),[O,_]=(0,s.useState)(!1),{userAgent:k}=(0,l.Z)(),S=v&&!c,M=(0,s.useMemo)((()=>r?/AppleWebKit/.test(k)?`-webkit-image-set(url("${t}") 1x, url("${r}") 2x)`:`image-set("${t}" 1x, "${r}" 2x)`:`url(${t})`),[t,r,k]);(0,s.useEffect)((()=>{if(!S&&!x&&!y)return;const e=new Image;e.onload=()=>{_(!0),x&&x(e)},e.onerror=e=>{C(!0),y&&y(e)},e.src=t}),[t,S,y,x]);const T=(0,s.useCallback)((()=>{b&&b({id:e,src:t})}),[t,e,b]);return!S||!I&&O?(0,n.jsx)("div",Object.assign({className:j(w.image,u&&w._imageContain,h&&w._imageOverlay,b&&w._imageClickable),style:{backgroundImage:M,backgroundColor:i,backgroundPosition:a,width:g||"100%",height:m||"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:f},onClick:T},o.dx.n("wat-image"))):(0,n.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",width:g||"100%",height:m||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:v(I?"error":"loading")}))})),p=(0,d.k)({image:{backgroundBlendMode:"multiply",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_imageContain:{backgroundSize:"contain"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${i.l.short}ms ease-out`,background:(0,c.j)(a.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}});u.displayName="BackgroundImg"},91856:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(52322),s=r(2784),i=r(30007),a=r(78535),o=r(40545),c=r(31567),d=r(63195);const l=({isChecked:e,dataN:t,isInvalid:r,backgroundColor:d,tickColor:l,onClick:p,disabled:h})=>{const{css:g,s:m}=(0,a.y)(u),f=(0,s.useCallback)((()=>{h||p(!e)}),[e,p,h]);return(0,n.jsx)("div",Object.assign({},i.dx.n(t),{tabIndex:0,onClick:f,style:{background:d||"transparent"},className:g(m.checkbox,r&&m._invalid,h&&m._disabled)},{children:e&&(0,n.jsx)("span",Object.assign({className:g(m.icon)},{children:(0,n.jsx)(o.J,{width:24,height:24,color:l||c.O.gray_262626})}))}))},u=(0,a.k)({checkbox:{position:"relative",display:"inline-flex",borderRadius:d.E.default,cursor:"pointer",minWidth:20,height:20,border:`1px solid ${c.O.gray_e6e6e6}`,boxSizing:"border-box",marginEnd:12,outline:"none"},icon:{position:"absolute",top:-3,start:-3},_invalid:{border:`1px solid ${c.O.red_fe5000}`},_disabled:{filter:"grayscale(1)",cursor:"default"}})},74747:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(54722);const s=e=>{const{featureReadOnly:t}=(0,n.Z)();return t?null:e.children||null}},96907:(e,t,r)=>{"use strict";r.d(t,{E:()=>h});var n=r(52322),s=r(2784),i=r(45554),a=r(82514),o=r(30007),c=r(84544),d=r(31567),l=r(65632);class u extends s.PureComponent{constructor(){super(...arguments),this.state={imgWidth:0,imgHeight:0,isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,onClick:t,s:r,width:s,height:i,alt:c,srcSet:d,borderRadius:l="0",cover:u=!1,overlay:p=!1,border:h}=this.props,{imgWidth:g,imgHeight:m}=this.state,f=u?"100%":m>=g?"auto":"100%",v=u||m>=g?"100%":"auto";return(0,n.jsx)("div",Object.assign({className:(0,a.iv)(r.imageWrapper,p&&r._imageOverlay,t&&r._imageClickable),style:{width:s||"100%",height:i||"100%",borderRadius:l,border:h},onClick:this.handleClick},o.dx.n("wat-image"),{children:(0,n.jsx)("img",{src:e,srcSet:d,alt:c,style:{objectFit:u?"cover":void 0,width:f,height:v}})}))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:r,height:s}=this.props;return t?(0,n.jsx)("div",Object.assign({},o.dx.n("wat-image-placeholder"),{style:{display:"flex",justifyContent:"center",alignItems:"center",width:r||"100%",height:s||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:t(e)})):null},this.onLoad=()=>{this.image&&this.setState({isError:!1,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.onError=e=>{this.props.onError&&this.props.onError(e),this.image&&this.setState({isError:!0,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.handleClick=()=>{const{id:e,src:t,onClick:r}=this.props;r&&r({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}u.displayName=(0,i.I)("../common/src/kit/img");const p={imageWrapper:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${c.l.short}ms ease-out`,background:(0,l.j)(d.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},h=(0,a.D2)(p)(u)},39595:(e,t,r)=>{"use strict";r.d(t,{v:()=>p});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(31567),c=r(82603);class d extends s.PureComponent{render(){const{children:e,s:t,maxHeight:r,inline:s=!1,styles:a}=this.props;return 1===e.length&&e[0]?(0,n.jsx)("span",Object.assign({className:(0,i.iv)(t.single,a)},{children:e[0]})):(0,n.jsx)("span",Object.assign({className:(0,i.iv)(t.kebabs,a),style:r?{maxHeight:r}:void 0},{children:(0,c.oA)(e).map(((e,r)=>(0,n.jsxs)("span",Object.assign({className:(0,i.iv)(t.item,this.themeToStyle(),s&&t._inline)},{children:["​",e]}),r)))}))}themeToStyle(){return"dark"===this.props.dotTheme?this.props.s._dark:void 0}}d.displayName=(0,a.I)("../common/src/kit/kebab");const l={position:"relative",marginStart:"-12px",paddingStart:"12px",marginEnd:"12px"},u={kebabs:{overflow:"hidden",display:"block"},single:Object.assign({},l),item:Object.assign(Object.assign({},l),{display:"inline-block","::before":{position:"absolute",display:"inline-block",start:"0",width:"12px",textAlign:"center",color:o.O.gray_e6e6e6,content:'"•"'},":last-child":{marginEnd:0},":first-child":{"::before":{content:"none"}}}),_inline:{display:"inline"},_dark:{"::before":{color:o.O.gray_262626}}},p=(0,i.D2)(u)(d)},48039:(e,t,r)=>{"use strict";r.d(t,{j:()=>d});var n=r(52322),s=r(2784),i=r(88780),a=r(56409),o=r(78535),c=r(96907);const d=(0,s.memo)((e=>{const{css:t,s:r}=(0,o.y)(l),{isLoadingForced:s=!1,lazyLoadVisibilityOffset:d,width:u,height:p,backgroundColor:h,borderRadius:g,isTrueImg:m=!1}=e,[f,v]=(0,a.S)({isIntersectInitial:s});return v?m?(0,n.jsx)(c.E,Object.assign({},e)):(0,n.jsx)(i.C,Object.assign({},e)):(0,n.jsxs)("div",Object.assign({className:t(r.root),style:{width:u,height:p}},{children:[!!h&&(0,n.jsx)("div",{className:t(r.background),style:{backgroundColor:h,borderRadius:g}}),(0,n.jsx)("div",{ref:f,className:t(r.visibleTrap),style:{inset:d}})]}))})),l=(0,o.k)({root:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},background:{width:"100%",height:"100%",overflow:"hidden"},visibleTrap:{position:"absolute",inset:0}})},21578:(e,t,r)=>{"use strict";r.d(t,{r:()=>g,Z:()=>m});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(31567),c=r(30007);const d=/^([^[\]]*)\[([^[\]]+)\]([^[\]]*)$/;function l(e){return e.replace(/[[\]]/g,"")}var u=r(60395);class p extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,onClick:r}=this.props;(t||r)&&e.stopPropagation(),t||e.preventDefault(),r&&r(e)}}render(){return this.props.templated?this.renderTemplated(this.props.children):this.renderLink(this.props.children)}renderTemplated(e){if("string"!=typeof e)return this.renderLink(e);const t=function(e){const t=e.match(d);return t&&4===t.length?""===t[1]&&""===t[3]?[t[2]]:t.slice(1):[l(e)]}(e);return 1===t.length?this.renderLink(t[0]):(0,n.jsxs)("span",Object.assign({ref:this.props.containerRef},{children:[t[0],this.renderLink(t[1]),t[2]]}))}renderLink(e){const{href:t,color:r,s,external:a,dataN:o="wat-kit-link",dataT:d,ariaLabel:l,block:p,styles:h,title:g,containerRef:m,dataId:f,onClick:v}=this.props,b=c.dx.n(o),y=d?c.dx.t(d):void 0,x=(0,i.iv)(s.link,"dark"===r&&s._dark,"gray"===r&&s._gray,"inherit"===r&&s._inherit,p&&s._block,!t&&!v&&s._notClickable,h);return t?(0,n.jsx)("a",Object.assign({href:t,target:a?"_blank":void 0,className:x,ref:m,"data-id":f,onClick:this.handleClick,title:g},b,y,(0,u.P)({label:l}),{children:e})):(0,n.jsx)("button",Object.assign({ref:m,className:x,"data-id":f,onClick:this.handleClick,title:g},b,y,(0,u.P)({label:l}),{children:e}))}}const h={link:{color:o.O.blue_0072ce,textDecoration:"none",cursor:"pointer",userSelect:"text",display:"inline",textAlign:"inherit",border:"none",padding:0,backgroundColor:"transparent",":hover":{color:o.O.gray_262626}},_dark:{color:o.O.gray_262626,":hover":{color:o.O.gray_929292}},_gray:{color:o.O.gray_929292,":hover":{color:o.O.gray_262626}},_inherit:{cursor:"inherit",color:"inherit",":hover":{color:"inherit",opacity:1}},_block:{display:"block"},_notClickable:{cursor:"default"}},g=(0,a.D2)(h)(p),m=g},19871:(e,t,r)=>{"use strict";r.d(t,{e:()=>u});var n=r(52322),s=r(2784),i=r(82514),a=r(31567),o=r(45554),c=r(65632);class d extends s.PureComponent{constructor(){super(...arguments),this.onNextArrowClick=()=>{if("maxIndex"in this.props){this.checkIs("last")||this.props.onChange(this.props.currentIndex+1)}else this.props.onChange(this.props.currentIndex+1)},this.onPrevArrowClick=()=>{if("minIndex"in this.props){this.checkIs("first")||this.props.onChange(this.props.currentIndex-1)}else this.props.onChange(this.props.currentIndex-1)}}render(){const{s:e,children:t}=this.props;return t?(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.main)},{children:[(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.arrowWrapper)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow,e.arrowLeft,this.checkIs("first")&&e._hidden),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow,e.arrowRight,this.checkIs("last")&&e._hidden),onClick:this.onNextArrowClick},{children:this.props.right}))]})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.childrenWrapper)},{children:t}))]})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow,this.checkIs("first")&&e._disabledArrow),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.arrow,this.checkIs("last")&&e._disabledArrow),onClick:this.onNextArrowClick},{children:this.props.right}))]})}checkIs(e){return"last"===e?"maxIndex"in this.props&&this.props.currentIndex===this.props.maxIndex:"minIndex"in this.props&&this.props.currentIndex===this.props.minIndex}}d.displayName=(0,o.I)("../common/src/kit/prevNextArrows");const l={main:{position:"relative"},arrowWrapper:{display:"flex",justifyContent:"space-between",height:"100%",position:"absolute",width:"100%"},arrow:{cursor:"pointer"},arrowLeft:{display:"flex",alignItems:"center",color:a.O.white,background:`linear-gradient(90deg, ${(0,c.j)(a.O.black,.5)} 0%, ${(0,c.j)(a.O.black,0)} 100%)`,zIndex:1},arrowRight:{display:"flex",alignItems:"center",color:a.O.white,backgroundImage:`linear-gradient(270deg, ${(0,c.j)(a.O.black,.5)} 0%, ${(0,c.j)(a.O.black,0)} 100%)`,zIndex:1},childrenWrapper:{height:"100%",marginTop:0,marginBottom:12,marginStart:24,marginEnd:24},_hidden:{visibility:"hidden"},_disabledArrow:{color:a.O.gray_e6e6e6}},u=(0,i.D2)(l)(d)},40254:(e,t,r)=>{"use strict";r.d(t,{i:()=>u});var n=r(52322),s=r(2784),i=r(30007),a=r(65632),o=r(86550),c=r(82514),d=r(2556);class l extends s.PureComponent{constructor(){super(...arguments),this.STAR_SIZE="small"===this.props.size?10:"medium"===this.props.size?16:this.props.size,this.renderStars=()=>{const{rating:e,s:t}=this.props,r=Math.ceil(Math.round(2*e)/2),s=Array(r).fill(""),i=this.STAR_SIZE*(Math.round(2*e)/2)+"px";return(0,n.jsx)("div",Object.assign({className:(0,o.iv)(t.ratingStars),style:{width:i}},{children:s.map(((e,t)=>this.renderStar(t,{isInactive:!1})))}))},this.renderBackgroundStars=()=>{const{s:e,rating:t,dir:r}=this.props,s=Math.floor(Math.round(2*t)/2),i=5-s,a=s*this.STAR_SIZE+"px",c=Array(i).fill("");return(0,n.jsx)("div",Object.assign({className:(0,o.iv)(e.backgroundStars),style:(0,o.Qo)({marginStart:a},r)},{children:c.map(((e,t)=>this.renderStar(t,{isInactive:!0})))}))}}render(){const{s:e}=this.props;return(0,n.jsxs)("div",Object.assign({},i.dx.n("wat-kit-rating"),{className:(0,o.iv)(e.rating),style:{height:this.STAR_SIZE}},{children:[this.renderStars(),this.renderBackgroundStars()]}))}renderStar(e,t){const{color:r,inactiveColor:s}=this.props;return(0,n.jsx)("span",Object.assign({style:{width:this.STAR_SIZE,height:this.STAR_SIZE}},{children:(0,n.jsx)(d.U,{color:t.isInactive?s||(0,a.j)(r,.2):r,size:this.STAR_SIZE})}),e)}}const u=(0,c.D2)({rating:{position:"relative",marginBottom:2,fontSize:0},ratingStars:{position:"absolute",start:0,margin:"auto",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"baseline"},backgroundStars:{display:"flex",alignItems:"baseline"}})(l)},8517:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(52322),s=r(78535);const i=(0,r(2784).memo)((({children:e,offset:t,gap:r,styles:i,containerRef:o})=>{const{css:c,s:d}=(0,s.y)(a);return(0,n.jsx)("div",Object.assign({ref:o,className:c(i,d.root),style:{gap:r,padding:`0 ${t}px`}},{children:e}))}));i.displayName="SnapCarousel";const a=(0,s.k)({root:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}})},81741:(e,t,r)=>{"use strict";r.d(t,{o:()=>l});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(86631),c=r(30007);class d extends s.PureComponent{constructor(){super(...arguments),this.handleShevronClick=()=>{const{isExpanded:e=!1,handleExpandClick:t}=this.props;t(e)},this.handleExpandClick=e=>{const{isExpanded:t=!1,handleExpandClick:r}=this.props;t||(e.stopPropagation(),r(t))}}render(){const{children:e,isExpanded:t=!1,withoutShevron:r,dataN:s,s:a}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(a.container,!t&&a._showPointer,!r&&a._shevronOffset)},c.dx.n(s||"wat-kit-spoiler"),c.dx.s(`wat-toggle-${t}`),{children:[!r&&(0,n.jsx)("div",Object.assign({className:(0,i.iv)(a.shevron)},c.dx.n("wat-kit-spoiler-shevron"),{onClick:this.handleShevronClick},{children:(0,n.jsx)(o.E,{direction:t?"up":"down"})})),(0,n.jsx)("div",Object.assign({},c.dx.n("wat-toggle"),{onClick:this.handleExpandClick},{children:e}))]}))}}const l=(0,a.D2)({container:{position:"relative"},shevron:{cursor:"pointer",position:"absolute",end:-4,top:-5,width:24,height:24,userSelect:"none"},_showPointer:{cursor:"pointer"},_shevronOffset:{paddingEnd:20}})(d)},57111:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n=r(52322),s=r(2784),i=r(81741);class a extends s.Component{constructor(){super(...arguments),this.state={isExpanded:this.props.initiallyExpanded||!1},this.toggle=e=>{const t=!e;this.props.onToggle&&this.props.onToggle(t),this.setState({isExpanded:t})}}render(){return(0,n.jsx)(i.o,Object.assign({isExpanded:this.state.isExpanded,handleExpandClick:this.toggle,withoutShevron:this.props.withoutShevron,dataN:this.props.dataN},{children:this.props.children(this.state.isExpanded,(()=>this.toggle(this.state.isExpanded)))}))}}},81136:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(52322),s=r(2784);const i=({template:e,render:t})=>{const r=(0,s.useMemo)((()=>a(e)),[e]);return(0,n.jsx)(n.Fragment,{children:r.map(((e,r)=>{var i;return(0,n.jsx)(s.Fragment,{children:"string"==typeof e?e:(null===(i=t[e.name])||void 0===i?void 0:i.call(t,e.text))||e.text},r)}))})};function a(e){const t=[];let r="",n="",s=!1;for(const i of e)switch(i){case"$":s=!0,n&&(t.push(n),n="");break;case"[":s=!1,n&&(t.push(n),n="");break;case"]":t.push({name:r||"default",text:n}),n="",r="";break;default:" "===i&&s&&(t.push({name:r,text:""}),s=!1,r=""),s?r+=i:n+=i}return n&&t.push(n),r&&t.push({name:r,text:""}),t}},82588:(e,t,r)=>{"use strict";function n(e,t,r){const n=e.concat([]);return n.splice(r,0,t),n}r.d(t,{_:()=>n})},31816:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(2784);const s=e=>{let t=e;const r=()=>t,s=(()=>{let e,t;return{notify(t){let r=e;for(;r;)r.fn(t),r=r.next},subscribe(r){const n={fn:r};return e&&t?(t.next=n,n.prev=t,t=n):(e=n,t=n),()=>{n.prev&&n.next?(n.prev.next=n.next,n.next.prev=n.prev):n.prev?(t=n.prev,t.next=void 0):n.next?(e=n.next,e.prev=void 0):(e=void 0,t=void 0)}}}})(),i=e=>e;return{use:(e=i)=>{const[t,a]=(0,n.useState)((()=>e(r())));return(0,n.useEffect)((()=>(a(e(r())),s.subscribe((t=>a(e(t)))))),[e]),t},get:r,set:e=>{"undefined"!=typeof window?(t=e(r()),s.notify(t)):console.error("Нельзя менять состояние атомов на сервере!",(new Error).stack)}}}},16164:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(27215),s=r(89003);function i(e,t,r){return(0,n.e$)((r=>{let n,i={},a={};return(o,c)=>{const d=e?e(o,c):{};if((0,s.w)(n,d)&&(0,s.w)(i,c))return a;const l=t?t(r,Object.assign(Object.assign({},c),d)):void 0;return i=c,n=d,a=Object.assign({},c,n,l),a}}),r)}},29714:(e,t,r)=>{"use strict";function n(e,t){return new Date(e+6e4*(new Date(e).getTimezoneOffset()+t))}r.d(t,{t:()=>n})},45554:(e,t,r)=>{"use strict";function n(e){const t=e.split("/");return t[t.length-1]}r.d(t,{I:()=>n})},97589:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(15419);function s(e,t){return"ru"!==e&&t.includes(e)?("cs"!==e&&"it"!==e&&"es"!==e||(e="en"),r(73515)(`./${e}.po`).then((e=>JSON.stringify(e)))):Promise.resolve(n.Z)}},39136:(e,t,r)=>{"use strict";r.d(t,{o:()=>h});var n=r(5163),s=r(83583),i=r(92095),a=r(29513),o=r(27567),c=r(19322),d=r(68680);class l{setLocaleData(e){this.currentLocaleData=e}format(e,t){return(0,c.Z)(e,t,{locale:this.currentLocaleData})}formatDistanceStrict(e,t,r){return(0,d.Z)(e,t,{locale:this.currentLocaleData,addSuffix:null==r?void 0:r.addSuffix})}}function u(e){return function(e){switch(e){case"ru":return r.e(1623).then(r.bind(r,28837));case"az":return r.e(9973).then(r.bind(r,59722));case"uz":return r.e(9018).then(r.bind(r,67031));case"uk":return r.e(5400).then(r.bind(r,90759));case"cs":return r.e(6601).then(r.bind(r,82502));case"es":return r.e(4462).then(r.bind(r,84963));case"ar":return r.e(6088).then(r.bind(r,89675));default:return Promise.resolve().then(r.bind(r,26842))}}(e).then((e=>e.default))}var p=r(83466);class h{constructor(e,t=new l){this.getLang=()=>this.lang,this.getLocale=()=>this.locale,this.translationController=e,this.tp=this.replaceEntitiesInProvider(new s.TranslationProvider(this.translationController)),this.dateFns=t,this.lang="ru",this.locale="ru_RU"}setLocale(e){return(0,n.mG)(this,void 0,void 0,(function*(){const{lang:t,countryCode:r}=e,[n,s]=yield Promise.all([this.fetchTranslations(t),this.fetchDateFnsLocaleData(t)]);this.dateFns.setLocaleData(s),this.lang=n,this.locale=(0,o.$)(n,r)}))}fetchTranslations(e){return new Promise((t=>{this.translationController.setLocale(e,(e=>{t(e)}),(r=>{(0,p.H)({message:`Set locale '${e}' error (${r})`,level:"fatal",id:"VQExy",payload:{type:"exception",subtype:"setLocale",data:r.stack}}),this.translationController.setLocale("ru",t)}))}))}replaceEntitiesInProvider(e){return{_t:(0,i.Z)(e._t,a.yX),_pt:(0,i.Z)(e._pt,a.yX),_nt:(0,i.Z)(e._nt,a.yX),_npt:(0,i.Z)(e._npt,a.yX),_gg:(0,i.Z)(e._gg,a.yX),_pgg:(0,i.Z)(e._pgg,a.yX),_ngg:(0,i.Z)(e._ngg,a.yX),_npgg:(0,i.Z)(e._npgg,a.yX)}}fetchDateFnsLocaleData(e){return u(e)}}},35712:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});const n=r(2784).createContext({})},27567:(e,t,r)=>{"use strict";function n(e,t){const[r,n=t]=e.split(/[-_]/);return`${r.toLowerCase()}_${n.toUpperCase()}`}r.d(t,{$:()=>n})},29513:(e,t,r)=>{"use strict";r.d(t,{C_:()=>s,yX:()=>i});var n=r(2961);const s=e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;function i(e){return e.replace(/&nbsp;/g,n.E8)}},15419:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n='{"meta":{"pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);", "language":"ru_RU"},"items":[]}'},48470:(e,t,r)=>{"use strict";r.d(t,{p:()=>u});var n=r(52322),s=r(2784);const i=(0,s.createContext)({addComponent:e=>{}});class a extends s.Component{constructor(e){super(e)}render(){return(0,n.jsx)(i.Provider,Object.assign({value:{addComponent:e=>{this.props.lazyProviderStore.addComponent(e)}}},{children:this.props.children}))}}let o;a.displayName="LazyProvider",o=r;function c(e){var t;return(t=class extends s.PureComponent{render(){return(0,n.jsx)(e,Object.assign({},this.props))}}).displayName="LazyComponentWrapper",t}const d="UnlazyComponent",l=new class{getExistsModuleByModuleId(e){return o(e)}getModuleByModuleId(e){return r.c[e]?this.getExistsModuleByModuleId(e):void 0}};function u(e){var t;return t=class extends s.Component{static getDerivedStateFromProps(e,t){const r=l.getModuleByModuleId(e.loader.moduleID.toString());return t.chunkName!==e.loader.chunkName?{chunkName:e.loader.chunkName,isLoading:!1,error:!1,component:r?c(r[d]):void 0}:null}constructor(e){super(e),this._mutableIsMounted=!1;const t=this.getExistsComponent();this.state={error:!1,isLoading:!1,chunkName:this.props.loader.chunkName,component:t?c(t):void 0}}componentWillUnmount(){this._mutableIsMounted=!1}componentDidMount(){this._mutableIsMounted=!0,this.onUpdateAndMountActions()}componentDidUpdate(){this.onUpdateAndMountActions()}render(){return this.state.error?this.props.renderPlaceholder("error"):this.state.isLoading||!this.state.component?this.props.renderPlaceholder("loading"):this.props.render(this.state.component)}onUpdateAndMountActions(){if(this.state.component||this.state.isLoading||this.state.error)return;const t=this.getExistsComponent();if(t)return this.setState({component:c(t)});this.setState({isLoading:!0,error:!1}),Promise.all([this.importWithRetries(),this.preventFlick()]).then((([e])=>{this._mutableIsMounted&&(e[d]?this.setState({component:c(e[d]),isLoading:!1,error:!1}):this.setState({component:void 0,error:!0,isLoading:!1}))})).catch((t=>{e(t,this.props.loader.chunkName),this._mutableIsMounted&&this.setState({component:void 0,error:!0,isLoading:!1})}))}preventFlick(){return new Promise((e=>{setTimeout((()=>{e()}),200)}))}importWithRetries(e=5,t=500){return new Promise(((r,n)=>{this.props.loader.asyncImport().then(r).catch((s=>{0!==e?setTimeout((()=>{this.importWithRetries(e-1,t).then(r,n)}),t):n(s)}))}))}getExistsComponent(){const e=l.getModuleByModuleId(this.props.loader.moduleID.toString());return e?e[d]:void 0}},t.displayName="LazyComponentLoader",t}},83945:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,d:()=>i});var n=r(24973);function s({center:e,zoom:t,mapSize:r,rotation:s,pitch:i}){const a=[e.lon,e.lat],o=[r.width,r.height];return[(0,n.screenPointToLonLat)([0,0],{zoom:t,center:a,mapSize:o,rotation:s,pitch:i}),(0,n.screenPointToLonLat)([o[0],0],{zoom:t,center:a,mapSize:o,rotation:s,pitch:i}),(0,n.screenPointToLonLat)([0,o[1]],{zoom:t,center:a,mapSize:o,rotation:s,pitch:i}),(0,n.screenPointToLonLat)([o[0],o[1]],{zoom:t,center:a,mapSize:o,rotation:s,pitch:i})]}function i({center:e,zoom:t,mapSize:r,pitch:n,rotation:i}){const[a,o,c,d]=s({center:e,zoom:t,mapSize:r,pitch:n,rotation:i});return`POLYGON((${a[0]} ${a[1]},${o[0]} ${o[1]},${d[0]} ${d[1]},${c[0]} ${c[1]},${a[0]} ${a[1]}))`}},39464:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(2784).createContext)({})},85707:(e,t,r)=>{"use strict";r.d(t,{_:()=>a,tT:()=>o});var n=r(2784),s=r(39464);const i={isPending:!1},a={isPending:!0,data:void 0,error:void 0};function o(e){const t=(0,n.useContext)(s.T).dispatch,r=e?t(e):void 0,[a,o]=(0,n.useState)(r?r.getState():i);return(0,n.useEffect)((()=>{if(!r)return void o(i);let e=a.data;const t=()=>{const{isPending:t,data:n,error:s}=r.getState();t&&void 0===n?o({isPending:t,error:s,data:e}):(o({isPending:t,data:n,error:s}),e=n)},n=r.subscribe(t);return t(),()=>{n()}}),[r]),a}},33730:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,i:()=>o});var n=r(52322),s=r(2784),i=r(17783);const a=(0,r(31816).c)(!1),o=s.memo((()=>{const e=a.use();return(0,n.jsx)(i.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{display:e?"block":"none"}}})}))},2968:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,r:()=>o});var n=r(54722),s=r(47111),i=r(82066),a=r(31140);function o(e,t,r){return{use:(n,s)=>{const[a,o,c]=d(e,n,t,r?Object.assign(Object.assign({},r),s):s);return(0,i.useQuery)(a,o,c)},prefetch:r=>{const n=t(r);return(0,a.pT)(l(n,e,r),u(n))},withQueryState:(r,n)=>{const s=t(r);return(0,a.i_)(l(s,e,r),n)},invalidate:r=>{const n=t(r);return(0,a.Dm)(l(n,e,r))},setQueryData:(r,n)=>{const s=t(r);return(0,a.bH)(l(s,e,r),n)}}}function c(e,t,r){return{use:(n,s)=>{const[a,o,c]=d(e,n,t,r?Object.assign(Object.assign({},r),s):s),l=(0,i.useInfiniteQuery)(a,o,c);return Object.assign(Object.assign({},l),{fetchNextPage:()=>l.fetchNextPage(),fetchPreviousPage:()=>l.fetchPreviousPage()})},prefetch:r=>{const n=t(r);return(0,a.pb)(l(n,e,r),u(n))},withQueryState:(r,n)=>{const s=t(r);return(0,a.i_)(l(s,e,r),n)},invalidate:r=>{const n=t(r);return(0,a.Dm)(l(n,e,r))},setQueryData:(r,n)=>{const s=t(r);return(0,a.vC)(l(s,e,r),n)}}}const d=(e,t,r,i)=>{const a=(0,n.Z)(),o=(0,s.S)();if(!t)return["void",()=>{throw 1},{enabled:!1}];const c=r(t),d=l(c,e,t),p=u(c);return[d,e=>p({config:a,services:o,context:e}),i]},l=(e,t,r)=>Array.isArray(e)&&e[0]?[t,e[0]]:[t,r],u=e=>"function"==typeof e?e:e[1]},31140:(e,t,r)=>{"use strict";r.d(t,{Dm:()=>a,bH:()=>d,i_:()=>o,pT:()=>s,pb:()=>i,qg:()=>l,vC:()=>c});var n=r(5163);const s=(e,t)=>({type:"query:prefetch",payload:(r,s)=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield r.prefetchQuery(e,(e=>t(Object.assign(Object.assign({},s),{context:e}))))}))}),i=(e,t)=>({type:"query:prefetch",payload:(r,s)=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield r.prefetchInfiniteQuery(e,(e=>t(Object.assign(Object.assign({},s),{context:e}))))}))}),a=e=>({type:"query:invalidate",payload:(t,r)=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield t.invalidateQueries(e)}))}),o=(e,t)=>({type:"query:getQueryState",payload:r=>t(r.getQueryState(e))}),c=(e,t)=>({type:"query:setInfinityQueryState",payload:r=>r.setQueryData(e,t)}),d=(e,t)=>({type:"query:setQueryState",payload:r=>r.setQueryData(e,t)}),l=(e,t)=>({dispatch:r})=>n=>s=>"query:getQueryState"===s.type?r(s.payload(e)):"query:prefetch"===s.type||"query:invalidate"===s.type?s.payload(e,t):"query:setQueryState"===s.type||"query:setInfinityQueryState"===s.type?s.payload(e):n(s)},42479:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,CO:()=>a,K2:()=>s,TM:()=>u,U4:()=>i,V7:()=>d,Vk:()=>p,hI:()=>c,oG:()=>l});var n=r(2961);const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sun","Sat"],a="HH:mm",o="h:mm a",c=n.yM,d="00:00",l=60,u=1440,p=60},37512:(e,t,r)=>{"use strict";r.d(t,{r_:()=>h,rZ:()=>s.rZ,$d:()=>g,DL:()=>s.DL,Nk:()=>m,lR:()=>p,yx:()=>d,y1:()=>l,Ci:()=>c,ku:()=>u});var n=r(42479),s=r(1160),i=r(22214),a=r(49228),o=r(82603);function c(e,t){return!d(e)&&!e[t.day]}function d(e){return e.is_24x7||!n.K2.find((t=>{const r=e[t];if(r){const e=r.working_hours[0];return!(e&&"00:00"===e.from&&"24:00"===e.to)}return!0}))}function l(e){const t=n.K2[0],r=e[t];return!d(e)&&(!!r&&(2!==r.working_hours.length&&n.K2.every((n=>{if(n===t)return!0;const s=e[n];return!!s&&(s.working_hours[0].from===r.working_hours[0].from&&s.working_hours[0].to===r.working_hours[0].to)}))))}function u(e){const t=(0,o.CE)(e,["comment","is_24x7"]),r=Object.keys(t).reduce(((t,r)=>e[r]?[...t,r]:t),[]),s=e[r[0]];return!(!s||r.length<7)&&n.K2.every((t=>{const r=e[t];return!!r&&function(e,t,r){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.findIndex((t=>r?r(e,t):e===t));return-1!==t&&(n.splice(t,1),!0)}))}(r.working_hours,s.working_hours,((e,t)=>e.from===t.from&&e.to===t.to))}))}function p(e,t){if(d(e))return{type:i.i8.aroundTheClock};const r=function(e,t){const r=[],i=n.K2.indexOf(t.day),o=r.concat(n.K2.slice(i),n.K2.slice(0,i+1)),c=(0,s.PE)(t.day,6),d=e[c],l=d?d.working_hours:[],u=(0,s.__)((0,s.NU)(l)),p=function(e,t){return t.map((t=>e[t])).map(((e,t)=>e?e.working_hours.map((e=>Object.assign(Object.assign({},e),{dayOffset:t}))):[])).reduce(((e,t)=>(null!=e?e:[]).concat(null!=t?t:[])))}(e,o),h=function(e,t,r){return e.reduce(((e,t)=>e.concat((0,s.__)(t))),(0,a.Z)(t)).filter((e=>e.dayOffset>0||e.time>r.time))}(p,u,t);return h.slice(0,2)}(e,t),o=r[0],c=r[1],l=(0,s.OK)(t.time,o.time,o.dayOffset);if(o.type===i.tw.close){if(l>=n.Vk)return{type:i.i8.opened};const e=c?(0,s.xm)(o,c):void 0;return l<=1?{type:void 0!==e?i.i8.willCloseInMinuteForBreak:i.i8.willCloseInMinute,breakType:e}:{type:void 0!==e?i.i8.willCloseInTimeForBreak:i.i8.willCloseInTime,breakType:e,minutesTo:l}}if(o.type===i.tw.open){const r=o.dayOffset,a=-1!==n.U4.indexOf(t.day);if(0===r){const r=g(e,t),a=(0,s.HG)(r,t.time),c=a&&(0,s.rZ)(a);return l>=n.Vk?{type:void 0!==c?i.i8.willOpenAtTimeFromBreak:i.i8.willOpenAtTime,breakType:c,time:o.time}:l<=1?{type:void 0!==c?i.i8.willOpenInMinuteFromBreak:i.i8.willOpenInMinute,breakType:c}:{type:void 0!==c?i.i8.willOpenInTimeFromBreak:i.i8.willOpenInTime,breakType:c,minutesTo:l}}return 1===r?{type:i.i8.willOpenTomorrowAtTime,time:o.time}:2!==r||a?{type:i.i8.willOpenAtDayAtTime,day:(0,s.PE)(t.day,o.dayOffset),time:o.time}:{type:i.i8.willOpenOvermorrowAtTime,day:(0,s.PE)(t.day,o.dayOffset),time:o.time}}}function h(e,t){const r=n.K2.indexOf(t.day);return n.K2.map(((t,n)=>{const i=e[t],a=i?i.working_hours:[],o=!a||!a.length,c=(0,s.DL)(a),d=(0,s.uR)(a),l=r===n;return{dayName:t,timeIntervals:c,breaks:d,breakTypes:d.map((e=>(0,s.rZ)(e))),closed:o,present:l}}))}function g(e,t){const r=e[t.day],n=r?r.working_hours:[];return(0,s.uR)(n)}function m(e){return{day:n.K2[e.getDay()],time:f(e)}}function f(e){return`${(0,s.jU)(e.getHours())}:${(0,s.jU)(e.getMinutes())}`}},22214:(e,t,r)=>{"use strict";var n,s,i;r.d(t,{CT:()=>s,i8:()=>n,tw:()=>i}),function(e){e[e.aroundTheClock=0]="aroundTheClock",e[e.opened=1]="opened",e[e.willCloseInMinuteForBreak=2]="willCloseInMinuteForBreak",e[e.willCloseInMinute=3]="willCloseInMinute",e[e.willCloseInTimeForBreak=4]="willCloseInTimeForBreak",e[e.willCloseInTime=5]="willCloseInTime",e[e.willOpenAtTime=6]="willOpenAtTime",e[e.willOpenAtDayAtTime=7]="willOpenAtDayAtTime",e[e.willOpenTomorrowAtTime=8]="willOpenTomorrowAtTime",e[e.willOpenOvermorrowAtTime=9]="willOpenOvermorrowAtTime",e[e.willOpenInMinute=10]="willOpenInMinute",e[e.willOpenInTime=11]="willOpenInTime",e[e.willOpenInMinuteFromBreak=12]="willOpenInMinuteFromBreak",e[e.willOpenInTimeFromBreak=13]="willOpenInTimeFromBreak",e[e.willOpenAtTimeFromBreak=14]="willOpenAtTimeFromBreak"}(n||(n={})),function(e){e[e.lunch=0]="lunch",e[e.rest=1]="rest"}(s||(s={})),function(e){e[e.open=0]="open",e[e.close=1]="close"}(i||(i={}))},1160:(e,t,r)=>{"use strict";r.d(t,{DL:()=>y,Eq:()=>x,HG:()=>o,NU:()=>u,OK:()=>h,PE:()=>l,Wl:()=>w,__:()=>p,jU:()=>b,rZ:()=>f,sx:()=>j,uR:()=>v,xm:()=>m});var n=r(22214),s=r(42479),i=r(15500),a=r(82228);function o(e=[],t){return e.find((e=>c(t,e)))}function c(e,t){const r=t.from,n=t.to>t.from?t.to:d(t.to);return e>=r&&e<n}function d(e){const t=e.split(":");return`${Number(t[0])+24}:${t[1]}`}function l(e,t){return s.K2[(s.K2.indexOf(e)+t)%7]}function u(e){const t=(0,i.Z)(e,(e=>e.from>e.to));if(t)return{from:s.V7,to:t.to}}function p(e){if(!e)return[];const t=e.to<e.from;return[{type:n.tw.open,time:e.from,dayOffset:e.dayOffset||0},{type:n.tw.close,time:e.to,dayOffset:(e.dayOffset||0)+Number(t)}]}function h(e,t,r){const n=g(e),i=g(t);return i.m-n.m+(i.h-n.h)*s.oG+r*s.TM}function g(e){const t=e.split(":");return{h:+t[0],m:+t[1]}}function m(e,t){if(e.dayOffset===t.dayOffset)return f({from:e.time,to:t.time})}function f(e){const t=e.to!==s.V7?e.to:d(e.to);return e.from>="12:00"&&t<="16:00"?n.CT.lunch:n.CT.rest}function v(e=[]){return e.reduce(((e,t)=>{const r=(0,a.Z)(e);return r&&(r.to=t.from),e.concat({from:t.to,to:""})}),[]).slice(0,-1)}function b(e){return e<10?`0${e}`:`${e}`}function y(e){return e.length?[e.reduce(((e,t)=>(e.from||(e.from=t.from),e.to=t.to,e)),{from:"",to:""})]:[]}function x(e,t,r,n=!0){const i=j(e,r?s.A0:s.CO),a=j(t,r?s.A0:s.CO);return r&&n?`${i} ${a}`:`${i}${s.hI}${a}`}function j(e,t){return t!==s.CO&&e?w(e):e}function w(e){const[t,r]=e.split(":").map((e=>Number(e))),n=t>=12&&t<24?"pm":"am";return`${t%12?b(t%12):12}:${r<10?b(r):r}&nbsp;${n}`}},8814:(e,t,r)=>{"use strict";r.d(t,{N:()=>n,o:()=>s});const n=e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),s=e=>btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt("0x"+t,16)))))},17271:(e,t,r)=>{"use strict";function n(e){const{str:t,start:r=0,end:n=e.str.length,letterInTheEnd:s=!1}=e;if(!t)return t;const i=t.slice(r,n);return s?a(i):i}function s(e,t,r){const n=e.split(/<br\s*\/?>/),s=[];let o=0;for(let e=0;e<n.length&&o<t;e++){const a=i(n[e]),c=a.replace(/&[-#0-9a-z]+;/gi," "),d=Math.ceil(c.length/r)||1;if(o+d>t){const e=r*(t-o);let n=a.substr(0,e);if(/&[-#0-9a-z]*$/.test(n)){const t=a.substr(e).match(/^[-#0-9a-z]*;/);t&&(n+=t[0]||"")}s.push(n);break}s.push(a),o+=d}for(;s.length>0&&!s[s.length-1];)s.pop();return s.length?((s.length<n.length||s[s.length-1].length<n[n.length-1].length)&&(s[s.length-1]=a(s[s.length-1])+"…"),s.join("<br>")):""}function i(e){return e.replace(/<[^>]*>/g,"")}function a(e){return e.replace(/(&[-#0-9a-z]+;|[^0-9a-zа-яё])+$/i,"")}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e){return e.trim().split("\n").map((e=>e.trim())).join("\n").replace(/(\n\n\n+)/g,"\n\n\n").replace(/[^\S\n]+/g," ")}function d(e){const t=e.charAt(1);return(r=t).toUpperCase()!==r||function(e){return/^\s$/.test(e)}(t)||!t?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e;var r}function l(e){return e.split("").reduce(((e,t)=>0|(e<<5)-e+t.charCodeAt(0)),0)+2147483647+1}r.d(t,{Ez:()=>o,M3:()=>i,Sf:()=>s,Y2:()=>c,dL:()=>l,gs:()=>d,tW:()=>n})},62209:(e,t,r)=>{"use strict";r.d(t,{iv:()=>a,mM:()=>s});var n=r(44884);const{StyleSheet:s,StyleSheetServer:i,css:a}=n.StyleSheet.extend([{selectorHandler:(e,t,r)=>-1===e.indexOf("&")?null:r(e.replace(/&/g,t))}])},86550:(e,t,r)=>{"use strict";r.d(t,{Qo:()=>s.O,Qv:()=>i,iv:()=>n.iv});var n=r(62209),s=r(11979);const i=n.mM.rehydrate},11979:(e,t,r)=>{"use strict";r.d(t,{O:()=>n,i:()=>s});const n=r(44985).default?r(44985).default:r(44985);function s(e,t){const r={};for(const s in e)e.hasOwnProperty(s)&&(r[s]=n(e[s],t||"ltr"));return r}},32996:(e,t,r)=>{"use strict";r.d(t,{Fg:()=>l,gh:()=>u,nH:()=>o});var n=r(52322),s=r(2784),i=r(30007),a=r(55135);const o=({children:e,theme:t})=>(0,n.jsx)(d.Provider,Object.assign({value:t},{children:(0,n.jsx)(c,Object.assign({rtl:t.rtl},{children:s.Children.only(e)}))})),c=({rtl:e,children:t})=>(0,n.jsx)("div",Object.assign({},i.dx.n("wat-theme"),i.dx.s(e?"rtl":"ltr"),{dir:e?"rtl":"ltr",style:{height:"100%"}},{children:t})),d=s.createContext(a.n.dgis_ltr_desktop),l=()=>s.useContext(d),u=e=>a.n[(0,a.A)("2gis"===e.brandCode?"dgis":"urbi",e.rtl?"rtl":"ltr",e.isMobileDevice?"mobile":"desktop")]},65632:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var n=r(88834),s=r(82603);function i(e,t){if(1===t)return e;const r=(0,n.o)(e);return r?function(e,[t,r,n]){return`rgba(${t}, ${r}, ${n}, ${(0,s.DB)(e,2)})`}(t,r):e}},23586:(e,t,r)=>{"use strict";r.d(t,{M_:()=>a,VP:()=>i,jr:()=>o});var n=r(5163),s=r(2968);const{use:i,withQueryState:a,invalidate:o}=(0,s.r)("entity menu photos",(e=>({services:t})=>(0,n.mG)(void 0,void 0,void 0,(function*(){return yield t.marketApi.getPriceListImages(e)}))),{staleTime:1/0,cacheTime:1/0})},94560:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,Q:()=>a});var n=r(2968);const{use:s,prefetch:i}=(0,n.r)("Rostelecom ads",(e=>({services:t})=>{const{entityId:r}=e;return r?t.rosconnectApi.checkConnection({entityId:r}):void 0})),a=i;function o(e,t){return s({entityId:e},{staleTime:1/0,cacheTime:1/0,enabled:"building"===t})}},9700:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(45537);const s=(e,t)=>{return window.confirm(e||void 0)?t():(0,n.ZT)()}},35795:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(45537),s=r(93357);const i=(0,n.gQ)("fetchIfMissing",((e,t)=>(0,n.xJ)((r=>(0,s.G)(e(r))?t:(0,n.ZT)()))))},74173:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,L:()=>s});var n=r(45537);const s=(0,n.gQ)("showUgcLawPopup",(({openPopup:e,after:t})=>(window.__afterUgcLawPopup=t,e()))),i=function(e){const t=window.__afterUgcLawPopup;return window.__afterUgcLawPopup=void 0,t?t(e):(0,n.ZT)()}},79899:(e,t,r)=>{"use strict";r.d(t,{R:()=>u});var n=r(32753),s=r(45537),i=r(81813),a=r(93357),o=r(50216),c=r(32034),d=r(31504),l=r(69587);const u=(0,s.gQ)("syncCart",(()=>(0,s.vP)((0,n.Bk)({}),(0,s.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;const r=(0,l.t)(t).reduce(((t,{branchId:r,productId:n})=>((0,a.G)((0,i.E$)({state:e,branchId:r,productId:n}))&&(t[r]||(t[r]=[])).push(n),t)),{});return(0,s.Mf)(...Object.keys(r).map((e=>(0,d.H)({branchId:e,productIds:r[e]}))))})),(0,s.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;let r=!1;const n=t.orders.map((t=>{const n=t.items.map((t=>{var n,s,o,c;const d=(0,i.Gt)({state:e,productId:t.productId}),l=(0,i.E$)({state:e,branchId:t.branchId,productId:t.productId});if((0,a.G)(l))return r=!0,Object.assign(Object.assign({},t),{deleted:!0});{const e=null===(n=d.data)||void 0===n?void 0:n.product,i=l.data;if(e&&i&&(t.name!==e.name||t.description!==e.description||(null===(s=t.price.fixed)||void 0===s?void 0:s.value)!==(null===(c=null===(o=i.price_value)||void 0===o?void 0:o.fixed)||void 0===c?void 0:c.value)))return r=!0,Object.assign(Object.assign({},t),{name:e.name,description:e.description,price:i.price_value||{},deleted:!1});if(t.deleted)return Object.assign(Object.assign({},t),{deleted:!1})}return t}));return Object.assign(Object.assign({},t),{items:n})}));return r&&(0,o.j)({orders:n,showCartButton:!0,customer:t.customer})})))))},81412:(e,t,r)=>{"use strict";r.d(t,{UG:()=>d,gS:()=>l});var n=r(45537),s=r(67368),i=r(65149),a=r(30632),o=r(15057),c=r(93697);const d=e=>{const{statusId:t,email:r}=e;return(0,n.xJ)((c=>{const d=(0,o.bG)(c);if(!d||!d.data)return(0,n.ZT)();const l=(0,a.j)({new_email:r,email:d.data.email,email_confirmed:d.data.email_confirmed});return(0,a.N)({new_email:d.data.new_email,email:d.data.email,email_confirmed:d.data.email_confirmed})?(0,s.EC)({statusId:t,email:d.data.new_email||d.data.email,clientId:e.clientId}):l&&e.email?(e=>{const{locale:t,statusId:r,email:s,clientId:a}=e;return(0,n.xJ)((e=>{const c=(0,o.bG)(e);return c&&c.data?(0,i.Q)({email:s,userId:c.data.user_id,locale:t,statusId:r,clientId:a}):(0,n.ZT)()}))})({email:e.email,locale:e.locale,clientId:e.clientId,statusId:t}):(0,n.ZT)()}))},l=e=>(0,n.Rh)((({authClientId:t})=>(0,c.g)(Object.assign(Object.assign({},e),{authClientId:t}))))},74078:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(45537);const s=e=>(0,n.Rh)((({featureReadOnly:t})=>t?(0,n.ZT)():e))},55135:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,n:()=>i});const n={colors:{green_30ad00_brand:"#30ad00",green_299400_brand:"#299400",blue_0082c8_brand:"#0082c8",blue_41a5db_brand:"#41a5db"}},s={colors:{green_30ad00_brand:"#ffba00",green_299400_brand:"#ffba00",blue_0082c8_brand:"#ffba00",blue_41a5db_brand:"#ffba00"}},i={};for(const e of["dgis","urbi"])for(const t of["ltr","rtl"])for(const r of["desktop","mobile"]){const o=a(e,t,r);i[o]=Object.assign(Object.assign({},"dgis"===e?n:s),{urbi:"urbi"===e,rtl:"rtl"===t,mobile:"mobile"===r})}function a(e,t,r){return`${e}_${t}_${r}`}},9885:(e,t,r)=>{"use strict";function n(e,t="2gis"){if("urbi"===t)switch(e){case"com":case"sa":return"urbi-sa.com";case"iq":return"urbi-iq.com";case"eg":return"urbi-eg.com";case"om":return"urbi-om.com";case"qa":return"urbi.qa";case"bh":return"urbi.bh";case"kw":return"urbi-kw.com";case"ae":return"maps.urbi.ae";default:return`2gis.${e}`}return`2gis.${e}`}r.d(t,{K:()=>n})},24550:(e,t,r)=>{"use strict";r.d(t,{B:()=>d,o:()=>c});var n=r(88111),s=r(4037),i=r(9885),a=r(82603);const o=["ru","ua","kz","kg","uz","az","by","cl","ae","sa","eg","cy","it","cz","om","bh","qa","kw","iq"],c=["branch","firm","geo","building","attraction","gate","street","road","crossroad","place","region","district","districtArea","district_area","livingArea","living_area","division","city","settlement","country","adm_div","parking","station","stationPlatform","station_platform","stationEntrance","station_entrance","stop","metro","route","exchange","kilometer_road_sign"];function d(e){if("custom"===e.type)return e.url;const t=function(e){switch(e.type){case"branch":return[{type:"firm",entityId:e.id,tab:e.tab}];case"geo":case"building":case"attraction":case"gate":case"street":case"road":case"crossroad":case"place":case"region":case"district":case"districtArea":case"district_area":case"livingArea":case"living_area":case"division":case"city":case"adm_div":case"parking":return[{type:"geo",entityId:e.id,tab:e.tab}];case"point":return[{type:"geo",point:e.point}];case"station":case"stop":case"metro":return[{type:"station",entityId:e.id,tab:e.tab}];case"stationEntrance":case"station_entrance":return[{type:"stationEntrance",entityId:e.id,tab:e.tab}];case"stationPlatform":case"station_platform":return[{type:"platform",entityId:e.id,tab:e.tab}];case"route":return[{type:"route",entityId:e.id,tab:e.tab}];case"buildingServices":return[{type:e.slugType,entityId:e.id,tab:"services"}];case"buildingProviders":return[{type:e.slugType,entityId:e.id,tab:"providers"}];case"inBuildingBranches":return[{type:e.slugType,entityId:e.id,tab:"inside"}];case"organizationBranches":return[{type:"branches",orgId:e.id,filters:"filters"in e?e.filters:void 0}];case"product":return[{type:"product",productId:e.id}];case"catalogSearch":case"awards2gis2022":return[{type:"search",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"branchOffers":return[{type:"prices",branchId:e.branchId,categoryId:e.categoryId},{type:"offers",query:e.query,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"directions":return[{type:"directions",tab:e.tab,points:e.points}];case"gallery":return[{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,s.C)(e.entityType),entityId:e.entityId,photoId:e.photoId}];case"realty":return[{type:"realty",category:e.category,filters:e.filters,at:e.entityId}];case"realtyRent":return[{type:"realty",category:"rent",filters:e.filters,at:e.entityId}];case"realtyDaily":return[{type:"realty",category:"daily",filters:e.filters,at:e.entityId}];case"realtyAd":return(0,a.oA)([e.category&&{type:"realty",category:e.category,at:e.entityId},{type:"realtyAd",id:e.id,tab:e.tab}]);case"realtySales":return[{type:"realty",category:"sale",filters:e.filters,at:e.entityId}];case"collection":return[{type:"collection",collectionId:e.id}];case"guidebook":return[{type:"guidebook"}];case"interesting":return[{type:"interesting"}];case"award2019":return[{type:"award2019"}];case"metroLayer":case"metroLayerMoscow":return[{type:"search",query:e.query},{type:"layer",value:"metro"}];case"project":case"root":return[];case"rubrics":return[{type:"rubrics"}];case"subrubrics":return[{type:"rubrics"},{type:"subrubrics",parentId:e.id}];case"favorites":return[{type:"favorites"}];case"defaultEntity":return e.id?[{type:"geo",entityId:e.id}]:void 0;case"traffic":return[{type:"traffic"}];default:return}}(e);return t?function(e,t){const{cityAlias:r,lang:s,isMobile:a,domain:c,brandCode:d}=e;r&&t.unshift({type:"region",code:r});s&&t.unshift({type:"lang",lang:s});const l=(0,n.M)(t);if(!l)return"";if(c){const e=(0,i.K)(c,d);return`${a&&!o.includes(c)?`https://m.${e}`:`https://${e}`}${l}`}return l}(e,t):void 0}},32387:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,r:()=>a});var n=r(82800);var s=r(76448);const i=8;function a(e,t,r){const a=function(e){return e.some((e=>!!("object"===e.type&&e.entity&&e.entity.id&&["metarubric","rubric"].includes(e.entity.type))&&n.S.includes(e.entity.id)))}(e),o=[...e];return a&&o.splice(2,0,{type:"object",entity:{type:"special",id:"6"},search_attributes:{handling_type:0,suggest_parts:[{is_suggested:!1,text:t._gg("Недвижимость")}],suggested_text:t._gg("Недвижимость")}}),o.slice(0,r?s.vT:i)}},60395:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(28515);function s(e){const{label:t,hidden:r,pressed:s,iCanNotUseButtonSoTabIndexOnClick:a}=e,o=a?(c=a,e=>{if(e.keyCode===n.q7||e.keyCode===n.Fx)return c()}):void 0;var c;return{"aria-label":t,"aria-hidden":i(r||void 0),"aria-pressed":i(s),tabIndex:o?0:void 0,onKeyDown:o}}function i(e){switch(e){case!0:return"true";case!1:return"false";default:return}}},72020:(e,t,r)=>{"use strict";function n(e,t){return(r,n)=>{const s=r[e],i=t(s,n);return s===i?r:Object.assign(Object.assign({},r),{[e]:i})}}r.d(t,{x:()=>n})},15478:(e,t,r)=>{"use strict";function n(e){return e&&e>=8?"high":e&&e>=5?"middle":e&&e>=1?"low":"closed"}r.d(t,{b:()=>n})},5160:(e,t,r)=>{"use strict";function n(e,t,r){return{id:r,tag:t,name:e,caption:e,search_query:e,icon_url:`/public/dashboard/${t}.svg`,type:"metarubric"}}r.d(t,{N:()=>n})},34216:(e,t,r)=>{"use strict";function n(e){return e*Math.PI/180}function s(e,t){const r=n(e.lat),s=n(t.lat),i=n(t.lat-e.lat),a=n(t.lon-e.lon),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r)*Math.cos(s)*Math.sin(a/2)*Math.sin(a/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Math.trunc(6371e3*c)}r.d(t,{c:()=>s})},22176:(e,t,r)=>{"use strict";function n(e){return!!e&&"metro_moscow_mcc"===e}r.d(t,{Z:()=>n})},13087:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});const n=["metro_moscow_D1","metro_moscow_D2","metro_moscow_D3","metro_moscow_D4","metro_moscow_D5"];function s(e){return!!e&&-1!==n.indexOf(e)}},61518:(e,t,r)=>{"use strict";function n(e){var t,r,n,s;return"has_discount"in e?!(!e.has_discount||!(null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.discount)):!!(null===(s=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===s?void 0:s.discount)}r.d(t,{e:()=>n})},84768:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(72020),s=r(34291);const i=(e,t)=>(0,n.x)("data",(0,n.x)(e,(0,s.aq)(t)))},33369:(e,t,r)=>{"use strict";r.d(t,{X:()=>s,i:()=>i});const n=e=>t=>{const{necessaryRubricList:r=[],sufficientRubricList:n=[]}=e;if(!t||"branch"!==t.type||!t.rubrics||!t.rubrics.length)return!1;const s=t.rubrics.map((e=>e.id));return r.length?s.every((e=>r.includes(e))):!!n.length&&s.some((e=>n.includes(e)))},s=n({sufficientRubricList:["492"]}),i=n({necessaryRubricList:["159","161","162","164","165","166","1203","10803","15791","51459","112537"]})},4037:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});const n=e=>{switch(e){case"branch":return"firm";case"station":return"station";case"station_platform":return"platform";case"station_entrance":return"stationEntrance";case"route":return"route";default:return"geo"}}},22838:(e,t,r)=>{"use strict";function n(e){return(null==e?void 0:e.fixed)?{currency:e.fixed.currency,min:e.fixed.value,max:e.fixed.value}:(null==e?void 0:e.range)?{currency:e.range.currency,min:e.range.min,max:e.range.max}:(null==e?void 0:e.from)?{currency:e.from.currency,min:e.from.value,max:e.from.value}:void 0}r.d(t,{Z:()=>n})},56656:(e,t,r)=>{"use strict";function n(e){if(e&&e.data)switch(e.data.source){case"favorites":case"catalog":case"tUgc":case"realty":case"exchange":case"infrastructure":return e.data;default:return}}r.d(t,{X:()=>n})},72366:(e,t,r)=>{"use strict";function n(e){var t;return e&&"group"in e?null===(t=e.group)||void 0===t?void 0:t.find((e=>!!e.is_main_in_group)):void 0}r.d(t,{m:()=>n})},90466:(e,t,r)=>{"use strict";function n(e,t){return e.find((e=>e.orgId===t))}r.d(t,{L:()=>n})},43288:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>o,Pn:()=>i,rZ:()=>a});var n=r(38821),s=r(94844);const i="adsImage";function a(e){return{id:i,url:(0,n.W)(e.url,"original"),preview_urls:s.v.reduce(((t,r)=>Object.assign(Object.assign({},t),{[r]:(0,n.W)(e.url,r)})),{}),modification_time:"",creation_time:"",status:"active",is_visible:!0}}function o(e,t){return{id:i,url:(0,n.W)(e.url,"original"),preview_urls:s.v.reduce(((t,r)=>Object.assign(Object.assign({},t),{[r]:(0,n.W)(e.url,r)})),{}),modification_time:"",creation_time:"",real_object_type:t,height:0,width:0,copyright:{},owner:{id:"",name:"",avatar:null}}}},25627:(e,t,r)=>{"use strict";function n(e){const t=e.replace("T","-").split(":")[0];return t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}$/)?t:"unknown_version"}r.d(t,{n:()=>n})},96764:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(82603),s=r(30595);function i(e,t){if(!e||0===Object.keys(e).length)return;const r=[];return(0,n.Ed)(e,((e,n)=>{if("sort"!==n&&void 0!==e)switch(n){case"category_ids":r.push({entity:{id:e,type:"productCategory"}});break;case"rubric_id":r.push({entity:{id:e,type:"rubric"}});break;case"subway":r.push({entity:{id:e,type:"station"}});break;case"district_id":r.push({entity:{id:e,type:"adm_div",subtype:"district"}});break;case"price":const i=e.split(","),a=i[0];if(!a)break;r.push({name:n,min:+a,max:i[1]?+i[1]:void 0});break;default:n.split(s.ZA).forEach((n=>{r.push(function({value:e,name:t,filtersAttributes:r}){const n=r&&r.find((e=>e.tag===t));if("range"===(n&&n.type)){const[r,n]=e.split(",").map((e=>+e));return{name:t,max:n,min:r}}return{name:t,value:e}}({value:e,name:n,filtersAttributes:t}))}))}})),r.length?r:void 0}},52451:(e,t,r)=>{"use strict";function n(e){if("reviews"in e&&e.reviews&&e.reviews.general_rating)return{stars:e.reviews.is_org_reviews&&e.reviews.org_rating?Math.round(10*e.reviews.org_rating)/10:Math.round(10*e.reviews.general_rating)/10,count:e.reviews.is_org_reviews&&e.reviews.org_review_count?e.reviews.org_review_count:e.reviews.general_review_count}}r.d(t,{A:()=>n})},35697:(e,t,r)=>{"use strict";function n(e){if(e&&0!==Object.keys(e).length&&e.sort)return{name:e.sort}}r.d(t,{C:()=>n})},97:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=(e,t)=>{const{isoDate:r,currentDate:n,onlyDate:s=!1}=e,{tp:i,dateFns:a}=t;if(!Date.parse(r))return;return r.split("T")[0]===n.toISOString().split("T")[0]&&!s?i._t("сегодня"):a.format(new Date(r),"d MMMM yyyy")}},96788:(e,t,r)=>{"use strict";function n(e){if(void 0===e)return;const t=-e,r=Math.round(t),n=r<0?"-":"+",s=Math.abs(r);return`${n}${s<10?`0${s}`:s}:00`}r.d(t,{k:()=>n})},75716:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"link":return e.value;case"phone":return`tel:${e.value}`;default:return}}r.d(t,{Y:()=>n})},11497:(e,t,r)=>{"use strict";function n(e){if(!e)return;const{regionId:t,overlapRegionId:r,baseOverlapRegionId:n}=e;return t&&"0"!==t?t:r&&"0"!==r?r:n&&"0"!==n?n:void 0}r.d(t,{Y:()=>n})},69587:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(82603);const s=e=>(0,n.xH)(e.orders.map((e=>e.items)))},87198:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(54722),s=r(2784);const i=e=>{const{platform:t,type:r}=e,{appsFlyerBaseLinks:i}=(0,n.Z)(),a=i["ios"===t?"ios":"android"];return(0,s.useMemo)((()=>{if(!a)return;const e=function(e){const{promoType:t,baseLink:r,platform:n}=e;switch(t){case"firmCardPromo":return`${r}nw2S/f328dc28`;case"mainScreen":return`${r}nw2S/b02371aa`;case"mobilePromo":return`${r}nw2S/50402e0b`;case"modalFirmPromo":return`${r}nw2S/fbf3c446`;case"sideMenu":return`${r}nw2S/9cc0731a`;case"geoCardPromo":return`${r}nw2S/3bd14e61`;case"modalPromo":return`${r}nw2S/c18039ac`;case"modalGeoPromoDirect":return`${r}nw2S/a30eb06c`;case"routeSearchFullScreenBanner":return`${r}nw2S/993e6375`;case"transportCardPromo":return`${r}nw2S/51b44ba4`;case"modalGeoPromo":return`${r}nw2S/f89db534`;case"fullScreen":return`${r}nw2S/8da9308b`;case"fullScreenRouteSearch":return`${r}nw2S/993e6375`;case"exchangeFullScreenBanner":return`${r}nw2S/e79846d0`;case"fullScreenInteresting":return`${r}nw2S/ed138fdc`;case"desktopOvercastAppPopup":switch(n){case"android":return`${r}8wIz/q7gkcih6`;case"ios":return`${r}7wAM/p8mhvygo`;default:return`${r}nw2S/oqyn3tpt`}case"desktopMapAppPopup":switch(n){case"android":return`${r}8wIz/cdr6zkem`;case"ios":return`${r}7wAM/kygziawk`;default:return`${r}nw2S/58exc9l6`}case"desktopCardAppBanner":return`${r}nw2S/vvxsumlp`;case"routeSearchSmall":return`${r}nw2S/aimcx6mn`;case"bottomOvercastChoicePopup":return`${r}nw2S/adqalco7`;case"bottomOvercastPopup":return`${r}nw2S/7iemvkgz`;case"fullscreenChoicePopup":return`${r}nw2S/o2407auy`;default:return`${r}nw2S/be0544d1`}return`${r}nw2S/be0544d1`}({baseLink:a,promoType:r,platform:t});return{marketName:"ios"===t?"App Store":"Google Play",rating:4.5,link:e,platformName:"ios"===t?"iOS":"Android"}}),[t,a,r])}},56464:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(22838);function s({realtyItem:e}){if(!e)return;const{product:t,offer:r,branch:s}=e;return{product:{entity:{id:t.id,type:"orgProduct"},name:t.name,categories:t.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:s.id,type:"branch"},org:s.org.id},price:(0,n.Z)(r.price_value)},hasToTheShopButton:!!r.url}}},30924:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(25010);function s(e){var t;const{review:r,orgId:s}=e,i=(0,n.K)(r.date_created),a=+new Date(r.date_created);if(!Number.isNaN(a))return{reviewId:r.id,source:r.provider,rating:r.rating,rateOnly:0===r.text.length,author:r.user.id,createdAt:{timestamp:a,utcOffset:i},owner:{entity:{type:r.object.type,id:r.object.id},org:s},gallerySize:null===(t=r.photos)||void 0===t?void 0:t.length,status:void 0}}},25767:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(9079),s=r(20481);const i=["70000001034749602","70000001031433208","70000001032557652","70000001028282363","70000001028283460","70000001028283560"];function a(e){const{entity:t,isMiniCard:r,withoutFmcg:a}=e;if(r){const e=(0,s.k)(t);return(null==e?void 0:e.adsBuyHere.org_id)&&-1!==i.indexOf(e.adsBuyHere.org_id)?e:function(e){var t,r,n;if("branch"!==e.type||!e.ads||!e.ads.options)return;const s=null===(t=e.ads.options.buy_here)||void 0===t?void 0:t.find((e=>!!e.cta_list)),i=(null===(r=null==s?void 0:s.videos)||void 0===r?void 0:r.length)||(null===(n=null==s?void 0:s.images)||void 0===n?void 0:n.length)?"fmcg":"buyHere";return s?{adsBuyHere:s,adsPosition:i}:void 0}(t)}return!a&&(0,n.A)(t)||(0,s.k)(t)}},68674:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(90466);function s(e,t){if(!e)return 0;if(t){const r=(0,n.L)(e.orders,t);return r?i(r):0}return e.orders.reduce(((e,t)=>e+i(t)),0)}function i(e){return e.items.filter((e=>e.qty>0)).length}},78188:(e,t,r)=>{"use strict";function n(e){return Object.assign({top:e.top,left:e.left,bottom:e.top,right:e.left,x:e.left,y:e.top,height:0,width:0})}r.d(t,{Y:()=>n})},35789:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(88834),s=r(39475),i=r(48956);var a=r(31567);function o(e){return/^#[0-9a-f]{3,6}$/i.test(e)?e===a.O.green_30ad00?a.O.white:(t=e,r=[a.O.gray_262626,a.O.white],(0,s.v)((0,i.N)((0,n.o)(t),r.map(n.o)))):a.O.gray_262626;var t,r}},11252:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(22766);const s=e=>{const t=(0,n.J)(e).reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]]);return{zoom:13,lon:(t[0][0]+t[1][0])/2,lat:(t[0][1]+t[1][1])/2}}},99167:(e,t,r)=>{"use strict";function n(e){var t,r;return e.region_id&&"0"!==e.region_id&&"adm_div"in e?null===(r=null===(t=e.adm_div)||void 0===t?void 0:t.find((e=>("city"===e.type||"settlement"===e.type)&&e.city_alias)))||void 0===r?void 0:r.city_alias:void 0}r.d(t,{i:()=>n})},71880:(e,t,r)=>{"use strict";r.d(t,{n:()=>c});var n=r(59420);function s(e,t){if((0,n.Y)(e.subtype,e.route_logo))return;const r=e.routes&&e.routes.length||0;return 0!==r?t._nt(["%% маршрут","%% маршрута","%% маршрутов"],r):void 0}var i=r(61009),a=r(82603);const o=(e,t)=>e.name||e.name_back?t._t("Километровый знак"):void 0;function c(e,t,{withFloors:r,withRoutesCount:n}={}){return function(e,t,{withFloors:r,withRoutesCount:n}={}){switch(e.type){case"branch":return(0,i.aR)(e);case"building":return(0,i.o_)(e,t,{withFloors:r});case"route":return(0,i.vs)(e,t);case"station":case"station_platform":return(0,a.oA)([...(0,i.DO)(e,t),!!n&&s(e,t)]);case"station_entrance":return(0,i.DO)(e,t);case"point":return(0,i.s8)(e);case"kilometer_road_sign":return(0,a.oA)([o(e,t)]);default:return(0,i.Oc)(e,t)}}(e,t,{withFloors:r,withRoutesCount:n}).map((e=>(0,a.Ez)(e)))}},23710:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(98934);function s(e){var t;return"address"in e&&(null===(t=e.address)||void 0===t?void 0:t.makani)?e.address.makani:"point"in e&&e.point?(0,n.d)(e.point):void 0}},9079:(e,t,r)=>{"use strict";function n(e){if("branch"!==e.type||!e.ads||!e.ads.options)return;const t=s(e.ads.options.buy_here),r=s(e.ads.options.map_buy_here);return r?{adsBuyHere:r,adsPosition:"buyHereOnMap"}:t?{adsBuyHere:t,adsPosition:"fmcg"}:void 0}function s(e){if(e)return e.find((e=>{var t,r;const n=!!(null===(t=null==e?void 0:e.images)||void 0===t?void 0:t.length),s=!!(null===(r=null==e?void 0:e.videos)||void 0===r?void 0:r.length);return n||s}))}r.d(t,{A:()=>n})},4456:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(37144).HP)((function(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas").getContext("webgl",e);if(t){const e=function(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(t);return/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|mali-4|mali-3|mali-2)/.test(e)?`${e} - GPU из блэклиста`:e}}}catch(e){}return}))},34688:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});function n(e){return e&&"group"in e?s(e.group):void 0}function s(e){if(e&&e.length)return e.map((e=>({id:e.id,type:e.type,subtype:e.subtype})))}},38821:(e,t,r)=>{"use strict";function n(e,t){if(e&&!e.use_default_value&&e.img_url)return s(e.img_url,t)}function s(e,t){if("original"===t)return e.replace("/previews/","/raws/");const r="?api-version=2.0";return e.endsWith("/")?`${e}${t}${r}`:`${e.replace(/image.([a-zA-Z0-9]+)$/,`image_${t}.$1`)}${r}`}r.d(t,{P:()=>n,W:()=>s})},53699:(e,t,r)=>{"use strict";function n(e){var t;return"parking"===e.type||!(!("group"in e)||!(null===(t=e.group)||void 0===t?void 0:t.find((e=>"parking"===e.type))))}r.d(t,{i:()=>n})},95308:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var n=r(82603);const s=(e,t)=>[e.name,e.name_back].filter(n.Gg).join(" / ")||t._t("Километровый знак")},21637:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(38821);function s(e,t){if("branch"!==e.type||!e.ads)return;if(e.ads.is_social)return{image:void 0};const r=e.ads.options&&e.ads.options.logo;return r?{image:(0,n.P)(r,t)}:void 0}},55472:(e,t,r)=>{"use strict";function n(e){const t=e.find((e=>"primary"===e.kind))||e[0];return t?t.id:void 0}r.d(t,{o:()=>n})},42317:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(82603);function s(e){let t;switch(e.origin){case"adsIconForPoi":t=e.markerData.position;break;case"marker":t=e.marker.lonLat;break;case"poi":case"map":case"ppna":case"ppnot":case"geometry":t=e.lngLat;break;case"etaMarker":case"photo":t=e.point}if(t)return{lon:(0,n.DB)(t[0]),lat:(0,n.DB)(t[1])}}},88850:(e,t,r)=>{"use strict";function n(e,t){if(!t)return e;const r=t.topLeft[0]+t.bottomRight[0],n=t.topLeft[1]+t.bottomRight[1];return{width:Math.max(e.width-r,0),height:Math.max(e.height-n,0)}}r.d(t,{o:()=>n})},3842:(e,t,r)=>{"use strict";function n(e){switch(e){case"bigbullet":case"commercial":return"large";case"middlebullet":return"medium";case"smallbullet":return"small"}return"small"}r.d(t,{Z:()=>n})},89848:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var n=r(83466);function s(e){switch(e){case"adm_div.district_area":case"adm_div.settlement":case"adm_div.division":case"adm_div.city":case"adm_div.district":case"adm_div.place":case"adm_div.country":case"adm_div.region":case"adm_div.living_area":return"adm_div";case"branch":case"branch.deleted":return"branch";case"building":return"building";case"attraction":return"attraction";case"crossroad":return"crossroad";case"street":return"street";case"route":return"route";case"parking":return"parking";case"road":return"road";case"station.metro":case"station.entrance":case"station":return"station_platform";case"coordinates":return"point";case"kilometer_road_sign":return"kilometer_road_sign";default:return(0,n.H)({message:"Неожиданный тип маркера",level:"error",id:"3smuq",payload:{type:"debug",subtype:"UnexpectedMarkerType",data:e}}),e}}},88657:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});const n=["161","164","159","1203","9786","21501","58871","110317","110408","165","162","110411","51459","110376","52248","166","15791","111593","363","469","879","10803","111594","112656","112658","21387","558","16677"],s=["305","652","5603","382","651","110355","58858","20165","13102","13726","56759","14942","69989","13597","51009","53986","70190","67142","50870","110479","110353","110351","110352","69491","110975","110998","405","7689"];function i(e){if(e.length)return e.every((e=>n.includes(e.id)))?"menu":e.every((e=>s.includes(e.id)))?"prices":void 0}},97294:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(2101);const s=e=>{switch(e){case"android":case"ios":return n.O[e];case"online":return n.O.android}}},37999:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=e=>({category:e.sysCode?{id:e.sysCode}:void 0,adsHighlight:e.isCommercial||!1,isPersonal:e.isPersonal,adsPriority:e.isCityCommercial?"city":void 0,isContext:!!e.isContext||void 0})},23146:(e,t,r)=>{"use strict";r.d(t,{Pj:()=>l,a3:()=>p,h:()=>d});var n=r(82603),s=r(14897),i=r(25278),a=r(97698),o=r(34688),c=r(55472);c.o;const d=()=>(0,a.P1)([({entity:e})=>e,({position:e})=>e,({currentCongestion:e})=>e],((e,t,r)=>(0,n.uv)(Object.assign(Object.assign({adsId:u(e),entity:{id:e.id===i.k8?void 0:e.id,type:e.id===i.k8?"point":e.type,subtype:"subtype"in e?e.subtype:void 0,segmentInfo:(0,s.U)(e)},geoPosition:"point"in e&&e.point?p(e.point):void 0,hybridEntities:(0,o.c)(e)},function(e){if("branch"!==e.type)return;return{adsSearch:e.stat&&e.stat.is_advertised,mainRubric:e.rubrics?(0,c.o)(e.rubrics):void 0,isDeleted:!!e.is_deleted,org:e.org&&e.org.id,contextRubric:e.stat&&e.stat.rubr}}(e)),{resultClass:e.stat&&e.stat.source_type,personalPriority:e.stat&&e.stat.personal_priority,position:t,currentCongestion:r})))),l=d();function u(e){var t,r,n,s,i,a;if("branch"!==e.type)return;const o=null===(n=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.buy_here_owner)||void 0===n?void 0:n.find((e=>!!e.ads_id)),c=null===(a=null===(i=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.buy_here)||void 0===a?void 0:a.find((e=>!!e.ads_id));return c?c.ads_id:o?o.ads_id:void 0}function p(e){let t=e.lon%360,r=e.lat%180;return t<-180?t+=360:t>180&&(t-=360),r<-90?r+=180:r>90&&(r-=180),{lon:t,lat:r}}},20481:(e,t,r)=>{"use strict";function n(e){var t,r,n;if("branch"!==e.type)return;const s=null===(n=null===(r=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.buy_here)||void 0===n?void 0:n.find((e=>!!e.is_primary&&!e.videos&&!e.images));return s?{adsBuyHere:s,adsPosition:"buyHere"}:void 0}r.d(t,{k:()=>n})},14897:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});const n=e=>{const{locale:t,region_id:r,segment_id:n}=e;if(!t)return;if(!r&&!n)return;const s="0"===r?n:r;return s?{baseLocale:t,segmentId:s}:void 0}},52101:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(97),s=r(90563);function i(e){var t,r,i;const{entity:a,format:o,ctx:{tp:c,dateFns:d}}=e;if(!(0,s.Q)(a))return;if((0,s.y)(a))return"long"===o?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании."):c._t("Филиал временно не работает");const l=null===(r=null===(t=a.flags)||void 0===t?void 0:t.temporary_closed_parameters)||void 0===r?void 0:r.value,u=l?(0,n.l)({isoDate:l,currentDate:new Date,onlyDate:!0},{tp:c,dateFns:d}):void 0;switch(null===(i=a.flags)||void 0===i?void 0:i.temporary_closed){case"unknown":return"short"===o?c._t("Филиал временно не работает"):u?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе %1",[u]):c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании.");case"opening_soon":return"short"===o?c._t("Скоро открытие"):u?c._t("Компания откроет здесь новый офис %1",[u]):c._t("Компания скоро откроет здесь новый офис. Уточняйте информацию у компании.");default:return"short"===o?c._t("Филиал закрыт для посещения"):c._t("Компания закрыла свой офис, но, возможно, предоставляет услуги онлайн или через доставку. Уточните по телефону")}}},46017:(e,t,r)=>{"use strict";function n(e){return"timezone_offset"in e&&e.timezone_offset||0}r.d(t,{d:()=>n})},25010:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});const n=e=>{const t=e.match(/(\+|-)?\d\d:\d\d$/);return(null==t?void 0:t[0])||"+00:00"}},87576:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});const n=["open_card","search_by_org","search_by_query","search_by_rubric","phone","order","link","search_buy_here"];function s(e,t,r=n){const s=e.filter((e=>-1!==r.indexOf(e.type)));return s.find((e=>{const r=!!e.platforms&&-1!==e.platforms.indexOf(t),n=!e.platforms||!e.platforms.length;return r||n}))||s[0]}},29853:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});const n=["ae","cl","cz","cy","it"],s={min:2,max:20},i={min:2,max:16},a={min:9,max:20},o={min:9,max:16};function c(e){const{project:t,is3d:r,hasTmpZoomLimits:c}=e;let d=r?s:i,l=0;return c?r?a:o:(t&&(n.includes(t.country_code)&&(d=r?a:o),l=t.zoom_level.max),{min:d.min,max:Math.max(l,d.max)})}},72899:(e,t,r)=>{"use strict";function n(e){return e.replace("http://","https://")}r.d(t,{J:()=>n})},80750:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(82603);function s(e){if(!e)return!1;const t=(0,n.CE)(e,["options"]);return!(0,n.xb)(t)}},55850:(e,t,r)=>{"use strict";function n(e){return"branch"===e.type}r.d(t,{J:()=>n})},1199:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});const n=e=>"building"===e.type},40314:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=e=>"adm_div"===e.type&&"city"===e.subtype},11890:(e,t,r)=>{"use strict";function n(e){return"branch"===e.type&&(!(!e.dates||!e.dates.deleted_at)||!!e.is_deleted)}r.d(t,{t:()=>n})},48389:(e,t,r)=>{"use strict";function n(e){const t="reviews"in e?e.reviews:void 0;return!!t&&!!t.items&&t.items.some((e=>e.is_reviewable))}r.d(t,{s:()=>n})},19007:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});const n=["open_card","search_by_org","search_by_query","search_by_rubric","order","search_buy_here"];function s(e){return-1===n.indexOf(e)}},37929:(e,t,r)=>{"use strict";function n(e){switch(e){case"branch":case"station":case"station_entrance":case"station_platform":case"route":return!1;default:return!0}}r.d(t,{M:()=>n})},59420:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(22176),s=r(13087);function i(e,t){switch(e){case"mcc":case"mcd":case"metro":case"premetro":case"light_metro":return!0;default:return(0,n.Z)(t)||(0,s.I)(t)}}},80327:(e,t,r)=>{"use strict";function n(e){return"group"in e&&!!e.group&&!!e.group.length}r.d(t,{O:()=>n})},85581:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});const n=e=>!(!e||e.temporary)},67129:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof window&&(navigator.standalone||matchMedia&&matchMedia("(display-mode: standalone)").matches)}r.d(t,{$:()=>n})},38773:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"station":case"station_entrance":case"station_platform":return!0;default:return!1}}r.d(t,{t:()=>n})},90563:(e,t,r)=>{"use strict";function n(e){var t;return!!s(e)||!!(null===(t=e.flags)||void 0===t?void 0:t.temporary_closed)}function s(e){return"temporary_unavailable_atm_services"in e&&!!e.temporary_unavailable_atm_services}r.d(t,{Q:()=>n,y:()=>s})},31535:(e,t,r)=>{"use strict";function n(e){return!!e&&/\S+@\S+\.\S+/.test(e)}r.d(t,{v:()=>n})},23816:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});const n={az:"2GIS",uz:"2GIS",ru:"2ГИС"};function s(e,t,r){if("urbi"===r)return"Urbi";switch(e){case"UA":return"SLL";case"AE":case"SA":case"IQ":case"EG":case"OM":case"BH":case"QA":case"KW":return"Urbi";case"CL":case"CY":case"CZ":case"IT":return"2GIS Local Search Limited";default:return n[t]||n.ru}}},4206:(e,t,r)=>{"use strict";function n(e){return e.join(" · ")}r.d(t,{r:()=>n})},98999:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(56677);const s={font11:{3:" :,.!ijlI",4:"frt1",5:"-гyz7",6:"абвеёзкстухчьэяГacehknsuvxFJL2",7:"$₽дийлнопрцъБЕЁЗРТУЬbdgopqABEKPRSTVXYZ0345689",8:"#&—фыАВДИЙКЛНПСХЧЪЭЯwCDGHNU",9:"@жмшюОФЦOQ",10:"щМЫmMW",11:"%ЖШ",12:"№ЩЮ"},font13:{3:" :,.!ijl",4:"ftI",5:"-r1",6:"гyz7",7:"азкстухчьэяacksvxL2",8:"$бвдеёийлнопрцъГЕЁЗТУbdeghnopquEFJPSTVYZ345689",9:"#₽&—АБВКРСХЧЬЯABCDKRUX0",10:"мфыДИЙЛНОПЦЪЭwGHNOQ",11:"@жшщюФ",12:"МЫmMW",13:"%Ж",14:"№ШЩЮ"}};function i(e,t){const r=function(e){const t={};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];for(const e of n)t[e]=+r}return t}(s[t]);let i=1,a=0;const o=e.split(" ");return o.forEach(((e,t)=>{t>0&&t!==o.length-1&&(a+=r[" "]);let s=0;for(const t of e)s+=r[t]||5;a+=s,a>n.d&&(i++,a=s)})),{width:i>1?n.d:a,lines:i}}const a={name:16,default:13,button:22,exchange:16},o=12,c=14,d=8;function l(e){let t=0,r=0;for(const n of e){const e=u(n);t=Math.max(t,e.width),r+=e.height}return{width:t,height:r}}function u(e){const{width:t,lineCount:r}=h(e),s=p(e)*r;return{width:r>1?n.d:t,height:s}}const p=e=>{var t;switch(null===(t=e[0])||void 0===t?void 0:t.type){case"name":return a.name;case"exchange":return a.exchange;case"link":case"order":return a.button;default:return a.default}},h=e=>{let t=0,r=1;for(const s of e){const a="name"===s.type||"exchange"===s.type?"font13":"font11",l=i(s.text,a);let u=l.width;if("rating"===s.type&&(u+=o),"link"!==s.type&&"order"!==s.type||(u+=2*d),1===e.length){t=u,r=l.lines;break}t>0&&(u+=c),t+=u,t>n.d&&(t=u,r++)}return{width:t,lineCount:r}}},94498:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(31567);function s(e){switch(e){case"almostClosed":return n.O.orange_ff8800;case"closed":return"#B61919"}return n.O.green_299400}},95429:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(87576);const s=e=>{var t,r;const s=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.actions;if(s)return(0,n.k)(s,"online",["link","order"])}},56677:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});const n=190},58924:(e,t,r)=>{"use strict";r.d(t,{E:()=>c,S:()=>s});var n=r(11259);const s={passage:"#0f6ec1",walkway:"#626262",crossing:"#626262",default:"#0f6ec1",inactive:"#99aabb",border:"#ffffff",border2:(0,n.X)("#141414",1),"pedestrian-underground":"#626262"},i={img:r(16248).Z,size:[22,22],offset:[11,11]},a={img:r(80732).Z,size:[18,18],offset:[9,9]},o=(e,t)=>({color:t[e],hoveredColor:(0,n.X)(t[e],.8),borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),c=e=>({lineStylesByZoom:{14:{passage:{width:5.73,borderWidth:3,border2Width:.5},walkway:{width:4,borderWidth:2,border2Width:.5},crossing:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5},"pedestrian-underground":{width:4,borderWidth:2,border2Width:.5}},20:{passage:{width:10.5,borderWidth:5.5,border2Width:.8},walkway:{width:5.5,borderWidth:3,border2Width:.5},crossing:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5},"pedestrian-underground":{width:5.5,borderWidth:3,border2Width:.5}}},lineStyles:{passage:o("passage",e),walkway:o("walkway",e),crossing:o("crossing",e),inactive:o("inactive",e),"pedestrian-underground":o("pedestrian-underground",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}},waypointStyles:{start:i,finish:i,pedestrian:a,bus:i,trolleybus:i,tram:i,shuttle_bus:i,metro:i,suburban_train:i,funicular_railway:i,monorail:i,river_transport:i,cable_car:i,light_rail:i,premetro:i,light_metro:i,aeroexpress:i,mcd:i,mcc:i}})},59597:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(19888);function s(e,t){if(0===e.length)return[t];const r=e.findIndex((e=>e.orgId===t.orgId));return-1===r?[...e,t]:(0,n.g)(e,t,r)}var i=r(90466);function a(e,t,r){const n=(0,i.L)(e.orders,t)||{orgId:t,items:[],createdDate:(new Date).getTime()};return Object.assign(Object.assign({},e),{orders:s(e.orders,r(n))})}},77386:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(82603);const s=(e,t)=>{var r,s,i,a,o,c,d,l,u,p,h,g,m,f;if(200===e.code)return{id:e.id,url:e.url,real_object_type:t.objectType,height:0,width:0,preview_urls:e.preview_urls,copyright:{type:"image",value:"",url:null!==(s=null===(r=e.copyright)||void 0===r?void 0:r.url)&&void 0!==s?s:void 0,code:null!==(a=null===(i=e.copyright)||void 0===i?void 0:i.code)&&void 0!==a?a:"user",icon:null!==(c=null===(o=e.copyright)||void 0===o?void 0:o.icon)&&void 0!==c?c:"",title:(null===(d=e.copyright)||void 0===d?void 0:d.title)||(null===(l=t.user)||void 0===l?void 0:l.display_name)||""},owner:{id:(null===(u=t.user)||void 0===u?void 0:u.user_id)||(null===(p=e.owner)||void 0===p?void 0:p.id)||(0,n.by)(),name:(null===(h=t.user)||void 0===h?void 0:h.display_name)||(null===(g=e.owner)||void 0===g?void 0:g.name)||"",avatar:(null===(m=t.user)||void 0===m?void 0:m.avatar)||(null===(f=e.owner)||void 0===f?void 0:f.avatar)||""},creation_time:e.creation_time||(new Date).toISOString(),modification_time:e.modification_time||(new Date).toISOString()}}},70997:(e,t,r)=>{"use strict";r.d(t,{$n:()=>i,ax:()=>a,jY:()=>s});var n=r(27087);const s={sale:{categoryId:"70241201812761646",defaultTypeId:"1067258717690367200"},rent:{categoryId:"70241201812768719",defaultTypeId:"5049376148110570281"},daily:{categoryId:"70241201813054308"},saleCommercial:{categoryId:"70241201812768717"},rentCommercial:{categoryId:"70241201812768720"}},i={[s.sale.defaultTypeId]:"Квартира",[s.rent.defaultTypeId]:"Квартира"};function a(e){return(0,n.uc)(s).find((t=>s[t].categoryId===e))}},40743:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(83466),s=r(30924);const i=function(e){const{review:t,orgId:r,ownerName:i,frameId:a}=e,o=(0,s.H)({orgId:r,review:t});if(!o)return void(0,n.H)({message:"Не удалось сформировать payload.reviewItem для события тап в кнопку редактирования отзыва",level:"error",id:"dewf55",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}});return{action:"tap",uiElement:{name:"myReviewEdit",ownerName:i,frameUuid:a},payload:{reviewItem:Object.assign({},o)}}}},28317:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(64841),s=r(51615);function i(){n.tO.local.removeItem(s.T)}},51615:(e,t,r)=>{"use strict";r.d(t,{T:()=>s,z:()=>i});var n=r(64841);const s="savedReview";function i(e){n.tO.local.setItem(s,JSON.stringify(e))}},88912:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(22214),s=r(37512);function i(e,t){const r=(0,s.lR)(e,(0,s.Nk)(t));return r?r.type===n.i8.opened||r.type===n.i8.aroundTheClock?"open":r.type===n.i8.willCloseInMinute||r.type===n.i8.willCloseInMinuteForBreak||r.type===n.i8.willCloseInTime||r.type===n.i8.willCloseInTimeForBreak?"almostClosed":"closed":"closed"}},41491:(e,t,r)=>{"use strict";function n(e,t){return void 0===t.width&&void 0!==t.height?e.replace("{height}",t.height.toString()).replace("w={width}","").replace("&",""):void 0!==t.width&&void 0===t.height?e.replace("{width}",t.width.toString()).replace("h={height}","").replace("&",""):void 0!==t.width&&void 0!==t.height?e.replace("{width}",t.width.toString()).replace("{height}",t.height.toString()):e.replace("h={height}","").replace("w={width}","").replace("&","").replace("?","")}r.d(t,{B:()=>n})},37123:(e,t,r)=>{"use strict";function n(e){var t,r;return!!(null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.branded_advertiser)}r.d(t,{n:()=>n})},1025:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(2961);function s(e,t){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${t&&t.isBreakable?" ":n.E8}`)}n.E8},30317:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(59153);function s(e,t){const r=t.addressSeparator+" ";switch(e.type){case"branch":case"building":if(e.address){return(0,n.O5)(e.type,e.address,{order:t.addressOrder,separator:t.addressSeparator,useSingleComponentForBranch:!1,useBuildingNameForBranch:"branch"===e.type&&!e.group}).map((e=>e.value)).join(r)}}}},18939:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(82603),s=r(48912);function i(e,t,r){var i,a;const o=null===(i=e.name_ex)||void 0===i?void 0:i.extension;return[e.name_ex&&o?(null===(a=e.name_ex)||void 0===a?void 0:a.primary)+t+o:e.name,(0,s.z)(r,e)].filter(n.Gg).join(t)}},76086:(e,t,r)=>{"use strict";function n(e){var t,r;return"search_attributes"in e&&(null===(t=e.search_attributes)||void 0===t?void 0:t.suggested_text)?null===(r=e.search_attributes)||void 0===r?void 0:r.suggested_text:void 0}r.d(t,{R:()=>n})},48912:(e,t,r)=>{"use strict";r.d(t,{R:()=>l,z:()=>d});var n=r(82603),s=r(17271),i=r(76086),a=r(30317),o=r(18939),c=r(95308);function d(e,t){switch(t.type){case"street":return e._t("улица");case"road":return e._t("дорога");case"station":switch(t.subtype){case"railway":return e._t("станция");case"metro":return""}return e._t("остановка");case"route":return function(e,t){if("metro"===t)return"";const r={bus:e._t("автобус"),trolleybus:e._t("троллейбус"),tram:e._t("трамвай"),shuttle_bus:e._t("маршрутное такси"),suburban_train:e._t("электричка"),funicular_railway:e._t("фуникулер"),monorail:e._t("монорельсовая дорога"),river_transport:e._t("речной транспорт"),cable_car:e._t("канатная дорога"),light_rail:e._t("скоростной трамвай"),premetro:e._t("метротрам"),light_metro:e._t("лёгкое метро")};return t&&r[t]||e._t("маршрут")}(e,t.subtype)}return"adm_div"===t.type&&"district"===t.subtype?e._t("район"):""}function l({tp:e,config:t},r){var l;if("history"===r.type&&r.text)return r.text;const u=(0,i.R)(r)||"";if("market"===r.type)return r.name||u;const{entity:p}=r;if(!p)return u;const h="search_attributes"in r&&!!(null===(l=r.search_attributes)||void 0===l?void 0:l.dgis_found_by_address),g=t.comma+" ";let m;switch(p.type){case"adm_div":case"station":m=[p.name,d(e,p)].filter(n.Gg).join(g);break;case"parking":m=p.name;break;case"branch":m=h&&(0,a.i)(p,t)||(0,o.L)(p,g,e);break;case"rubric":case"street":m=p.name&&u&&u.toLowerCase()!==p.name.toLowerCase()?u:p.name;break;case"attraction":m=p.name||p.subtype_name;break;case"building":m=h?(0,a.i)(p,t)||p.name:p.building_name||(0,a.i)(p,t)||p.name;break;case"road":case"route":m=[(0,s.Ez)(d(e,p)),p.name].filter(n.Gg).join(" ");break;case"attribute":m=p.extend&&p.extend.search_name&&!u.toLowerCase().includes(p.extend.search_name.toLowerCase())?p.extend.search_name:void 0;break;case"directory":m=(0,s.Ez)(u);break;case"org":m=function(e,t){if(!e.name_ex||!e.name_ex.primary)return e.name;if(e.name_ex.extension)return[e.name_ex.primary,e.name_ex.extension].join(t);const r=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name;if(r)return[e.name_ex.primary,(0,s.gs)(r)].join(t);return e.name_ex.primary}(p,g);break;case"kilometer_road_sign":m=(0,c.e)(p,e)}return m||u}},97822:(e,t,r)=>{"use strict";function n(e){return!("object"!==e.type||!e.search_attributes)&&3===e.search_attributes.handling_type}r.d(t,{F:()=>n})},26346:(e,t,r)=>{"use strict";function n(e,t){const r=e.floors&&e.floors.ground_count;if(r)return t._nt(["%%&nbsp;этаж","%%&nbsp;этажа","%%&nbsp;этажей"],r)}r.d(t,{X:()=>n})},94641:(e,t,r)=>{"use strict";function n(e,t){switch(e){case"bus":return t._t("Автобус");case"suburban_train":return t._t("Электричка");case"trolleybus":return t._t("Троллейбус");case"tram":return t._t("Трамвай");case"shuttle_bus":return t._t("Маршрутка");case"metro":return t._t("Метро");case"river_transport":return t._t("Речной транспорт");case"funicular_railway":return t._t("Фуникулер");case"monorail":return t._t("Монорельс");case"cable_car":return t._t("Канатная дорога");case"light_rail":return t._t("Скоростной трамвай");case"premetro":return t._t("Метротрам");case"light_metro":return t._t("Лёгкое метро");case"aeroexpress":return t._t("Аэроэкспресс");case"mcc":return t._gg("МЦК");case"mcd":return t._gg("Московский центральный диаметр");default:return t._t("Транспорт")}}r.d(t,{F:()=>n})},22977:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var n=r(1160);const s=e=>{const{dayItem:t,tp:r,dateFns:s,is12h:i}=e,{start_hour:a,start_minute:o,finish_hour:c,finish_minute:d}=t,l=(0,n.jU)(a),u=(0,n.jU)(o),p=(0,n.jU)(c),h=(0,n.jU)(d),g=new Date(0,0,0,Number(l),Number(u),0,0),m=new Date(0,0,0,Number(p),Number(h),0,0),f=s.format(g,i?"hh:mm aaaa":"HH:mm"),v=s.format(m,i?"hh:mm aaaa":"HH:mm");return r._pt("Временной период","%1 - %2",[f,v])},i=e=>{const{wdays:t,tp:r,dateFns:n,is12h:i}=e,a=[],o=(e=>{for(let t=1;t<e.length;t++)if(e[t].start_hour!==e[t-1].start_hour||e[t].start_minute!==e[t-1].start_minute||e[t].finish_hour!==e[t-1].finish_hour||e[t].finish_minute!==e[t-1].finish_minute)return!1;return!0})(t);return o?s({dayItem:t[0],tp:r,dateFns:n,is12h:i}):(t.forEach((e=>{const t=((e,t,r,n)=>{const i=s({dayItem:e,tp:t,dateFns:r,is12h:n}),a=(e=>{const{day:t,tp:r}=e;switch(t){case"sun":return r._t("Вс");case"mon":return r._t("Пн");case"tue":return r._t("Вт");case"wed":return r._t("Ср");case"thu":return r._t("Чт");case"fri":return r._t("Пт");case"sat":return r._t("Сб");default:return}})({day:e.day,tp:t});return t._pt("Временной период","%1. - %2",[a,i])})(e,r,n,i);a.push(t)})),a.join("; "))};var a=r(29714);const o=e=>{var t,r,n;const{event:s,dateFns:o,tp:c,is12h:d,offset:l}=e;if("restriction"===s.type){return(e=>{const{startTime:t,finishTime:r,dateFns:n,wdays:s,tp:o,is12h:c,offset:d}=e;let l;const u=(e,t)=>n.format((0,a.t)(1e3*e,t),"d MMMM yyyy HH:mm");if(t&&r){const e=u(t,d),n=u(r,d);l=o._t("%1 – %2",[e,n])}if(t&&!r){const e=u(t,d);l=o._t("С %1",[e])}if(!t&&r){const e=u(r,d);l=o._t("По %1",[e])}const p=(null==s?void 0:s.length)?i({wdays:s,tp:o,dateFns:n,is12h:c}):void 0;return p&&l?o._pt("Временной период","%1: %2",[l,p]):p||l})({startTime:null===(t=s.data)||void 0===t?void 0:t.start_time,finishTime:null===(r=s.data)||void 0===r?void 0:r.finish_time,wdays:null===(n=s.data)||void 0===n?void 0:n.wdays,dateFns:o,tp:c,is12h:d,offset:l})}return function(e,t){const r=new Date,n=new Date(e);return+r-e<864e5?t.formatDistanceStrict(n,r,{addSuffix:!0}):t.format(n,"d MMMM yyyy")}(1e3*s.timestamp,o)};function c(e,t,r,n,s){const i="2gis"===e.user.id?n.brandName:e.user.name,a=[],c=o({event:e,dateFns:r,tp:t,is12h:n.is12h,offset:s});return c&&a.push(c),i&&a.push(i),a.join(`${n.comma} `)}},30632:(e,t,r)=>{"use strict";function n(e){return!e.new_email&&(!!e.email&&!e.email_confirmed)}function s(e){return!(!e.email&&!e.new_email)&&(!!e.new_email&&e.new_email!==e.email)}r.d(t,{N:()=>n,j:()=>s})},22766:(e,t,r)=>{"use strict";function n(e){var t;return(null===(t=e.match(/(\d+(?:\.\d+)? \d+(?:\.\d+)?)/g))||void 0===t?void 0:t.map((e=>e.split(" ").map(parseFloat))))||[]}r.d(t,{J:()=>n})},23117:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(2784);const s=e=>{const t=(e=>{const[,t]=(0,n.useReducer)((e=>e+1),0),r=(0,n.useRef)(null),{replace:s,append:i}=e,a=s?s(e.format(e.value)):e.format(e.value),o=(0,n.useRef)(!1);return(0,n.useLayoutEffect)((()=>{if(null==r.current)return;const[,n,o,c,d]=r.current;let l=r.current[0];r.current=null;const u=c&&d,p="number"==typeof n.selectionStart?n.selectionStart:void 0,h=l.slice(p).search(e.accept||/\d/g),g=-1!==h?h:0,m=t=>(t.match(e.accept||/\d/g)||[]).join(""),f=m(l.substr(0,p)),v=e=>{let t=0,r=0;for(let n=0;n!==f.length;++n){let s=e.indexOf(f[n],t)+1,i=m(e).indexOf(f[n],r)+1;i-r>1&&(s=t,i=r),r=Math.max(i,r),t=Math.max(t,s)}return t};if(!0===e.mask&&o&&!d){let e=v(l);const t=m(l.substr(e))[0];e=l.indexOf(t,e),l=`${l.substr(0,e)}${l.substr(e+1)}`}let b=e.format(l);null==i||n.selectionStart!==l.length||d||(o?b=i(b):""===m(b.slice(-1))&&(b=b.slice(0,-1)));const y=s?s(b):b;return a===y?t():e.onChange(y),()=>{let t=v(b);if(null!=e.mask&&(o||c&&!u))for(;b[t]&&""===m(b[t]);)t+=1;n.selectionStart=n.selectionEnd=t+(u?1+g:0)}})),(0,n.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(o.current=!0)},t=e=>{"Delete"===e.code&&(o.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=r.current?r.current[0]:a,onChange:n=>{const s=n.target.value;r.current=[s,n.target,s.length>a.length,o.current,a===e.format(s)],t()}}})(e);return e.children(t)}},97813:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var n=r(68800);function s(){return(0,n.l)({isViewportChanged:!0})}},4279:(e,t,r)=>{"use strict";r.d(t,{AS:()=>i,BU:()=>s,CH:()=>o,I_:()=>j,Kr:()=>c,MT:()=>d,Ok:()=>C,QZ:()=>l,So:()=>y,Tq:()=>m,fN:()=>v,g$:()=>b,gR:()=>w,iH:()=>u,n4:()=>I,p4:()=>n,rP:()=>p,sZ:()=>a,tC:()=>f,yJ:()=>g,yQ:()=>h});const n=5,s=1280,i=700,a=18,o=16,c=2,d=10,l="car",u=2,p=840,h={tUgc:0,default:1,favorites:2,czars:3},g=["novosibirsk","omsk","moscow","spb","kemerovo","krasnoyarsk","ekaterinburg","tyumen","chelyabinsk","krasnodar"],m=["supermarket","education","kindergarten","hospital","pharmacy","sport","culture","bar"],f=["#025d29","#00883d","#05ac4b","#5fcc56","#b0e46e","#e5f497","#ffed98","#ffc76c","#ff914a","#ff5631","#eb2320","#b6001d"],v=["#0c7805","#7fcd33","#ffd46c","#ff5631"],b=24,y=10,x="dg5_auth",j=`${x}_access_token`,w=`${x}_refresh_token`,I="all",C="price_list_image"},25920:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>s,MT:()=>a,Ni:()=>o,ZM:()=>c,d:()=>i});var n=r(36459);const s="mobilePromo",i="withBottomOvercastChoicePopup",a="withBottomOvercastPopup",o="withFullscreenPopup",c="showPpAndBanner";(0,n.w)({name:s,percentRange:[0,.4],groups:["withOldBanners",c],forHumanFromSeo:!0,forCountries:["RU"]})},14349:(e,t,r)=>{"use strict";r.d(t,{M:()=>c,c:()=>d});var n=r(2968),s=r(2784),i=r(27215),a=r(8151);const{use:o}=(0,n.r)("tUGC events",(e=>({services:t})=>{const{regionCode:r}=e;return r?Promise.all([t.tUgcApi.getUserLayers({regionCode:r}),t.tUgcApi.get2GisLayers({regionCode:r})]):void 0}));function c(e){const t=(0,i.v9)(a.kL),r=(0,i.v9)((e=>e.appContext.showTrafficOnMap))&&(null==t?void 0:t.flags.traffic)?null==t?void 0:t.code:void 0,{data:n}=o({regionCode:r},e);return(0,s.useMemo)((()=>null==n?void 0:n.reduce(((e,t)=>[...e,...t.items]),[])),[n])}function d(e){const{id:t}=e,r=c({staleTime:1/0});return(0,s.useMemo)((()=>null==r?void 0:r.find((e=>e.id===t))),[r,t])}},7944:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(5163),s=r(2968),i=r(41491);function a({id:e,url:t,user:r,timestamp:n,preview_url:s}){return{id:e,url:t,creation_time:new Date(1e3*n).toISOString(),modification_time:new Date(1e3*n).toISOString(),owner:{id:r.auth_id||r.id,name:r.name},status:"active",block_reason:"",is_main:!0,is_visible:!0,preview_urls:{"656x340":(0,i.B)(s,{width:656,height:340}),"328x170":(0,i.B)(s,{width:328,height:170}),"232x232":(0,i.B)(s,{width:232,height:232}),"116x116":(0,i.B)(s,{width:116,height:116}),"176x176":(0,i.B)(s,{width:176,height:176}),"88x88":(0,i.B)(s,{width:88,height:88})}}}const{use:o}=(0,s.r)("tUGC photos",(e=>({services:t})=>(0,n.mG)(void 0,void 0,void 0,(function*(){return(yield t.tUgcApi.getPhotos(e)).items.map(a)}))))},5331:(e,t,r)=>{"use strict";var n=r(52322),s=r(61472),i=r(36841);const a={lang:"ru",rtl:!1,quotationStart:"«",quotationEnd:"»",comma:",",numbersShort:"# ##0,###",numbersStandard:"# ##0,###",currencyShort:"# ##0,## ¤",currencyStandard:"# ##0,00 ¤",addressSeparator:",",currencies:{RUB:"₽",EUR:"€",UAH:"₴",AED:"AED",KZT:"T",KGS:"c",CZK:"Kč",CLP:"clp.",UZS:"so‘m",AZN:"₼",USD:"$",BYN:"р.",OMR:"OMR",BHD:"BHD",QAR:"QAR",KWD:"KWD",IQD:"IQD"},isCyrillicLang:!0},o={is12h:!1,weekStartsOn:"Mon",countryCurrency:"RUB",countryPhoneCode:"+7",addressOrder:"straight",alwaysIncludeDivisionInDrilldown:!1,excludeCityFromFirmAddress:!1,useLandmark:!1,landmarkOrientation:"to",dashboardCarouselItems:["realty","interesting","guidebook"],featureRealty:!0,featureFullCoveragePPNG:!0,bssSendingMode:"full",featurePersonalDataAgreement:!1,featureSocialGraph:!0,feature2gisAwards2022:!0},c=Object.assign(Object.assign({},o),{dashboardCarouselItems:["interesting","guidebook"],featureRealty:!1,featureSocialGraph:!1,featureFullCoveragePPNG:!1,bssSendingMode:"none",featurePersonalDataAgreement:!1,feature2gisAwards2022:!1});const d={supportedLangs:r(3385).aP,defaultCountryCode:"RU",cookieDomain:".2gis.ru",baseDomain:"2gis.ru",isMiddleEast:!1,analytics:{},mapsapiTileServer:"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&r=g",mapsapiTileset:"online_sd",mapsapiRetinaTileset:"online_hd",jakartaZmkTileServer:"//tile{s}.maps.2gis.com/v2/ald?x={x}&y={y}&z={z}&ts=buyhere",photoTileServer:"//tile{s}.maps.2gis.com/ald?x={x}&y={y}&z={z}&ts=ald&type=mainphoto",jakartaTileServer:"",jakartaTileProtocol:"",jakartaTileSet:"",jakartaCommercialTileSet:"",jakartaFloorsUrl:"",ugcRulesUrl:"http://law.2gis.ru/informational-requirements/",licenseAgr:"http://law.2gis.ru/licensing-agreement/",dataSales:"https://content.2gis.ru/",desktopAppLink:"",businessLink:"",businessLinkWithoutRegion:"",showDataSalesLink:!0,showCallCenterNumber:!1,featureTaxiBanner:!1,showJobLink:!1,showApi2gisLink:!0,isEuDomain:!1,domainHasLimitedFunctionality:!1,featureAgents:!1,mapUseRtlTextPlugin:"depends-on-language"},l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i.v),{port:0,godmode:!1,prettyLogs:!1,photosPerPageInUserProfile:20,staticPath:"https://d-assets.2gis.ru/",networkTimeout:3e4,analyticsAutoTrackPageview:!0,isCountryRedirectsEnabled:!0,isDxEnabled:!0,ssoUrl:"https://2gis.ru/_/sso",jurisdictionCode:"ru_sng",jurisdictionStatus:"unknown",brandName:"2GIS",brandCode:"2gis",privacyUrl:"https://law.2gis.ru/privacy",appsFlyerBaseLinks:{ios:"https://2gis.onelink.me/",android:"https://2gis.onelink.me/"},isSearchBot:!1,mobileRedirect:!0,mobileRedirectHostname:"m",isConfigOverridden:!1,mapType:"3d",bundleVersion:"es6",jakartaVectorTilesKey:"10153539-2026-4a0c-b7a3-52ddb3fed411",availableExperiments:[],experiments:[],sberVisorApiKey:"2GIS",featureCart:!1,featureRealty:!1,featureRealtyRentDaily:!0,featureAdaptiveRedirect:!1,featureBroadcast:!1,featureAgents:!1,featurePhotoInReviews:!0,featureUrbiRedirect:!1,featureDashboardGTA:!0,featurePlaceCongestion:!0,reduxLogger:!1,xhrEnableTestHandles:!1,featureExchange:!1,realtyMapStyleId:"d4f7ed0c-2289-4979-b43b-e47eceb5c134",grayMapStyleId:"760af037-7450-48cd-ae98-49dc13902a05",featureBackTo2004:!1,customMapStyleId:"eb10e2c3-3c28-4b81-b74b-859c9c4cf47e",featureRealtyIsochrones:!0,featureFullCoveragePPNG:!1,bssSendingMode:"full",featurePersonalDataAgreement:!1,featureClickAndCollect:!1,featureReduceUGCForSeo:!1,isHumanFromSeo:!1,featureRoadAccidentHeatmap:!1,featureTouristLayer:!0,featurePhone:!1,featurePhoneLaw:!1,featureQuickFavorite:!1,featureChronologyPlaces:!0,signInUrl:"https://id.2gis.com/authorize",authClientId:"VDEDqs4X9Rn2cz3FbBqFnFmhVdn76fN8",authCodeUrl:"https://me.2gis.ru/_/auth/code",authClientSecret:"",featureBuildingAttributes:!1,featureSocialGraph:!1,featureRealtyTabFilters:!1,featureSuggestAdsLogo:!0,featureMenu:!1,featureAdInfo:!1,feature3dRelief:!1,featureNewYear:!1,feature3dModel:!0,etaRefreshTime:4e3,featureAlbumsCounts:!1}),d),c),a),u=Object.assign(Object.assign({},l),{photosPerPage:999,clientId:"34",port:3001});var p=r(28316),h=r(46287),g=r(8151);function m(e){return t=>r=>n=>{switch(n.type){case"UI/SET_LANG":{const r=(0,g.kL)(t.getState()),s=r&&r.country_code||"ru";e.setLocale({lang:n.payload.lang,countryCode:s});break}case"I18N/SET_LOCALE":e.setLocale(n.payload)}return r(n)}}function f(e){return t=>r=>n=>{if("I18N/WITH_INTL"===n.type){const r=n.payload(e);if(r)return t.dispatch(r)}return r(n)}}var v=r(37676);var b=r(51665),y=r(81813),x=r(65741),j=r(54947);const w=e=>({title:e}),I=({state:e,productId:t,brandName:r})=>{const n=(0,y.Gt)({state:e,productId:t}).data;return n?{title:`${n.product.name} — ${r}`}:w(r)},C=({state:e,entityId:t,brandName:r})=>{const n=(0,b.nM)({state:e,entityId:t}).data;if(n)switch(n.type){case"branch":return n.name_ex.extension?{title:`${n.name_ex.primary}, ${n.name_ex.extension} — ${r}`}:{title:`${n.name_ex.primary} — ${r}`};case"attraction":return{title:`${n.name||n.subtype_name} — ${r}`};case"route":case"building":case"station_platform":case"street":case"adm_div":case"crossroad":case"parking":case"gate":case"road":return n.name?{title:`${n.name} — ${r}`}:w(r);default:return w(r)}return w(r)},O=(e,t)=>"search"===e.type&&e.query?{title:`${e.query} — ${t}`}:w(t);const _=function(){let e;return(t,r,n)=>{const s=function(e,t){const r=e.appContext.frames[0],{brandName:n}=t;if(!r){const t=(0,g.Z_)(e);return{title:`${t.admDiv.data&&t.admDiv.data.name||"Global"} — ${n}`}}switch(r.type){case"entity":case"gallery":return C({state:e,entityId:r.entityId,brandName:n});case"search":return O(r,n);case"product":return I({state:e,productId:r.productId,brandName:n});default:return w(n)}}(t.getState(),n);s&&!(0,x.Z)(e,s)&&(e=s,window.isServerRendered||(r.setTitle(s.title),t.dispatch((0,j.T)())))}}();function k(e,t){return r=>n=>s=>{n(s),_(r,e,t)}}var S=r(98812),M=r(36053),T=r(45537),N=r(78444),P=r(16098),E=r(19463),L=r(57451),z=r(4279);const R=()=>{if("undefined"==typeof document)return{width:z.BU,height:z.AS};const e=document.body,t=document.documentElement;return{width:Math.max(e.offsetWidth,t.clientWidth,t.offsetWidth),height:Math.max(e.offsetHeight,t.clientHeight,t.offsetHeight)}};var F=r(71756),H=r(79754),B=r(60068),A=r(64273),D=r(79417);function Z(){const e="ryan";return(0,T.Mf)((0,F.Oo)({id:e,type:"window:popstate",handler:e=>(0,E.dc)(e.state)}),(0,F.Oo)({id:e,type:"window:resize",handler:()=>(0,T.vP)((0,P.nc)(R()),(0,L.en)())}),(0,F.Oo)({id:e,type:"window:message",handler:e=>function(e){if(e.data)try{const t=JSON.parse(e.data);if("mkb"===t.type&&t.id)return(0,T.vP)((0,D.IW)(),(0,A.xo)({id:t.id,type:"branch"}));if("state"===t.type&&t.url)return(0,B.k)({url:t.url})}catch(e){}return(0,T.ZT)()}(e)}),(0,F.Oo)({id:e,type:"common:escapeKeyUp",handler:()=>(0,H.rA)()}),(0,F.Oo)({id:e,type:"common:arrowLeftKeyDown",handler:()=>(0,H.$q)("backward")}),(0,F.Oo)({id:e,type:"common:arrowRightKeyDown",handler:()=>(0,H.$q)("forward")}),(0,F.Oo)({id:e,type:"common:spaceKeyDown",handler:()=>(0,H.$q)("forward")}),(0,F.Oo)({id:e,type:"common:arrowUpKeyDown",handler:()=>(0,H.$q)("backward")}),(0,F.Oo)({id:e,type:"common:arrowDownKeyDown",handler:()=>(0,H.$q)("forward")}),(0,F.Oo)({id:e,type:"myGeolocation:update",handler:e=>(0,H.CV)(e)}),(0,F.Oo)({id:e,type:"myGeolocation:error",handler:e=>(0,H.oD)(e)}))}var V=r(24973),U=r(22696),$=r(82603),W=r(54871);const q=(0,W.mq)("I18N/SET_LOCALE");(0,W.mq)("I18N/SYNC_LANG");var G=r(5330);var Q=r(93331),K=r(8814);var J=r(92007),Y=r(14866),X=r(20146),ee=r(40889);function te(){return(0,T.Mf)((0,X.m)({value:!1}),(0,J.yy)({showSlugsNeededOnlyForStartup:!1}),(0,N.zA)({timezone:(new Date).getTimezoneOffset()}),function(){const e=(0,$.by)();return(0,T.vP)((0,P.wI)({tabId:e}),(0,G.gF)({currentAdmDiv:g.Z_,refererHost:e=>e.session.refererHost,refererUrl:e=>e.session.refererUrl,utm:e=>e.session.utm,startURL:e=>e.session.startURL,dataLocale:Q.O,statHash:e=>e.session.statHash,searchFrameQuery:e=>{const t=e.appContext.frames[0];return t&&"search"===t.type&&"query"===t.searchType?t:void 0},sessionId:e=>e.session.sessionId},(({currentAdmDiv:t,refererHost:r,refererUrl:n,utm:s,startURL:i,dataLocale:a,statHash:o,searchFrameQuery:c,sessionId:d})=>{window.__bss={tabId:e,sessionId:d};const l=t.admDiv.data&&t.admDiv.data.overlapRegionId||"0";let u;return o&&(u=function(e){try{return JSON.parse((0,K.N)(e))}catch(e){return}}(o)),(0,U.X)({overlapRegionId:l,refererHost:r,refererUrl:n,utm:s,link:i,dataLocale:"0"===l?void 0:a,crossTab:u,searchFrameParams:c&&{frameId:c.id,query:c.query,rubricId:c.tabCatalog.rubricId||(0,ee.fp)(c)}})})))}(),Z(),(0,G.gF)({region:g.kL,lang:e=>e.appContext.lang},(({region:e,lang:t})=>{const r=e&&e.country_code||"ru";return q({lang:t,countryCode:r})})),(0,T.xJ)((e=>e.session.is3dEnabled?"force_3d"===(0,Y.z)("is3dDisabled")?(0,P.Tj)({is3dEnabled:!0}):(0,P.Tj)({is3dEnabled:(0,V.isWebGlAvailable)()}):(0,T.ZT)())),(0,N.mn)({time:Date.now()}),(0,P.nc)({width:window.innerWidth,height:window.innerHeight}))}var re=r(62220),ne=r(83466);function se(e){const{activeLayer:t,activeSublayer:r,zoom:n,rotation:s,pitch:i,relief:a,showSnow:o}=e.appContext,c=(0,re.ls)(e),d=t||o.allowSnowStyle?[{name:ie(t,o.allowSnowStyle)}]:void 0,l=(0,$.oA)([r?{name:ae(r)}:void 0,a?{name:"reliefSubLayer"}:void 0]);return{map:{inviewport:c,zoomLevel:n,rotation:s,pitch:i,enabledMapLayers:d,enabledMapSubLayers:l.length?l:void 0}}}function ie(e,t){if(t&&!e)return"winterLayer";switch(e){case"eta":return"ctxLayer";case"realty":return"realtyLayer";case"photos":return"photosLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"backTo2004":return"backTo2004Layer";case"roadAccident":return"trafficIncidentLayer";case"parkings":return"parkingLayer";case"tourism":return"touristLayer";default:return void(0,ne.H)({message:`Не удалось получить название слоя для поля map.enabledMapLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"q2ee0",payload:{type:"debug",subtype:"BssTrackerV3"}})}}function ae(e){switch(e){case"realtyPriceSale":return"realtyBuySubLayer";case"realtyPriceRent":return"realtyRentSubLayer";case"realtyWalkDistance":return"realtyWalkDistanceSubLayer";case"realtyIsochroneWalking":return"realtyPedestrianIsochrone";case"realtyIsochroneDriving":return"realtyCarIsochrone";default:return void(0,ne.H)({message:`Не удалось получить название подслоя для поля map.enabledMapSubLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"fw42g",payload:{type:"debug",subtype:"BssTrackerV3"}})}}var oe=r(89003);const ce=[["search","entity"],["search","product"],["product","entity"],["directions","direction"],["userProfile","collection"],["userProfile","currentReview"],["userProfile","entity"],["userProfile","achievements"],["userProfile","userFriendsActivity"],["publicFavorites","collection"],["collection","entity"],["entity","collection"],["prices","offer"],["prices","offers"],["prices","offers","offer"],["directions","entity"],["rubricator","rubric"],["entity","unconfirmedReviews"],["directions","tUgc"],["search","tUgc"],["entity","unconfirmedReviews","currentReview"],["entity","currentReview"],["entity","offer"],["entity","userFriendsActivity"],["realty","realtyCard"],["realty","entity"],["exchange","entity"]];const de=[["entity","pending","direction","error","tUgc","realtyCard"]];function le(e,t){let r=[...e];var n,s;r[0]&&(n=r[0].type,s=t.type,n===s||de.find((e=>e.includes(n)&&e.includes(s))))&&(r[0].victimsId&&(t.victimsId=r[0].victimsId),r=r.slice(1)),r=[t,...r];const i=ce.find((e=>{const t=[...e].reverse();return!(r.length<t.length)&&t.every(((e,t)=>{return("search"===(n=r[t]).type&&"offers"===n.searchType?n.searchType:"pending"===n.type?"entity":n.type)===e;var n}))}));return i?r.slice(0,i.length):[t]}function ue(e,t){return e.reduce(((e,r)=>r.every((e=>!!t.find((t=>t.id===e.id))))?e:[...e,r]),[])}var pe=r(79225);var he=r(96683);const ge={frames:[],graveyard:[],staticFrames:{map:{id:""},sidebar:{id:""},dashboard:{id:""}},center:{lat:55.035257,lon:82.901115},zoom:11,rotation:0,pitch:0,lang:"ru",defaultLocale:"ru_RU",activeLayer:void 0,activeSublayer:void 0,weak:{dashboard:{transitions:{rubricsId:(0,pe.Ue)(""),gtaId:(0,pe.Ue)("")}},rubricator:{transition:(0,pe.Ue)("")},rubric:{transition:(0,pe.Ue)("")},markers:{catalog:{},realty:{}},suggests:{},notifications:[],productsSearchCount:0,emailVerificationStatus:void 0,mapInteractionStarted:!1,isMapViewRepresentedInOriginalRequest:!1,isClearRootPageStart:!1,showSlugsNeededOnlyForStartup:!0,isLangRepresentedInOriginalRequest:!0,showPrivacyPolicyBanner:!1,wasBc:!1,newYearPlaceholder:{text:"",iconType:"tree"}},ruler:{isActive:!1,points:[]},showTrafficOnMap:!1,relief:!1,messenger:{isOpen:!1},doubleclick:{},showSnow:{status:"off",intensity:25,allowSnowStyle:!1}},me=[function(e,t){switch(t.type){case"MAP/SYNC_VIEW":return function(e,t){const r={};void 0!==t.lat&&void 0!==t.lon&&(r.center={lon:t.lon,lat:t.lat});void 0!==t.zoom&&(r.zoom=t.zoom);void 0!==t.rotation&&(r.rotation=t.rotation);void 0!==t.pitch&&(r.pitch=t.pitch);return Object.assign(Object.assign({},e),r)}(e,t.payload);case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{floors:{floorsId:t.id,currentFloor:t.currentFloor}})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{floors:void 0})}(e);case"MAP/SELECT_FLOOR":return function(e,t){if(!e.floors)return e;return Object.assign(Object.assign({},e),{floors:Object.assign(Object.assign({},e.floors),{currentFloor:t.floorIndex})})}(e,t.payload);case"UI/SET_DEFAULT_LOCALE":return Object.assign(Object.assign({},e),{defaultLocale:t.payload.locale});case"UI/SET_LANG":case"I18N/SYNC_LANG":return Object.assign(Object.assign({},e),{lang:t.payload.lang});case"UI/SET_STATIC_FRAMES_PARAMS":return Object.assign(Object.assign({},e),{staticFrames:{map:{id:t.payload.mapFrameId},sidebar:{id:t.payload.sidebarFrameId},dashboard:{id:t.payload.dashboardFrameId}}});case"UI/SET_RULER":return Object.assign(Object.assign({},e),{ruler:Object.assign(Object.assign({},e.ruler),t.payload)});case"UI/TOGGLE_TRAFFIC":return Object.assign(Object.assign({},e),{showTrafficOnMap:!e.showTrafficOnMap});case"UI/SET_SHOW_SNOW":return Object.assign(Object.assign({},e),{showSnow:Object.assign(Object.assign({},e.showSnow),t.payload)});default:return e}},function(e,t){switch(t.type){case"UI/ADD_FRAME":return function(e,t){const r=e.frames,n=Object.assign({},t.payload),s=le(e.frames,n),i=function(e,t){return!(!e.length||!t.length||e[e.length-1].id===t[t.length-1].id||1===e.length&&1===t.length&&e[0].type===t[0].type&&"tUgc"===e[0].type)}(r,s),a=i?[...e.graveyard,r]:e.graveyard;i&&(n.victimsId=r.map((e=>e.id)));return Object.assign(Object.assign({},e),{frames:s,graveyard:a})}(e,t);case"UI/REMOVE_FRAME":return function(e,t){const r=e.frames.find((e=>t.payload.id===e.id));if(!r)return e;const n=r.victimsId?(s=e.graveyard,i=r.victimsId,s.find((e=>e.every((e=>!!i.find((t=>t===e.id))))))):void 0;var s,i;return Object.assign(Object.assign({},e),{frames:n||e.frames.filter((e=>e.id!==t.payload.id)),graveyard:n?ue(e.graveyard,n):e.graveyard})}(e,t);case"UI/REMOVE_RIGHT_FRAMES":return function(e,t){let r=-1;if(e.frames.some(((e,n)=>e.id===t.payload.id&&(r=n,!0))),r<0)return e;return Object.assign(Object.assign({},e),{frames:e.frames.slice(r)})}(e,t);case"UI/REPLACE_FRAME":return function(e,t){const r=function(e,t){let r=!1;const n=e.map((e=>e.id!==t.id||e===t||(0,oe.w)(e,t)?e:(r=!0,t)));return r?n:e}(e.frames,t.payload);if(r===e.frames)return e;return Object.assign(Object.assign({},e),{frames:r})}(e,t);case"UI/CLEAR_FRAMES":return function(e){if(!e.frames.length)return e;return Object.assign(Object.assign({},e),{frames:[],graveyard:[]})}(e);case"UI/KILL_FRAMES":return function(e){if(!e.frames.length)return e;const t=e.frames;return Object.assign(Object.assign({},e),{frames:[],graveyard:[...e.graveyard,t]})}(e);case"UI/RESURRECT_FRAMES":return function(e){if(!e.graveyard.length)return Object.assign(Object.assign({},e),{frames:[],graveyard:[]});const t=e.graveyard[e.graveyard.length-1],r=t.map((t=>e.frames.find((e=>e.id===t.id))||t));return Object.assign(Object.assign({},e),{frames:r,graveyard:e.graveyard.slice(0,-1)})}(e);default:return e}},function(e,t){switch(t.type){case"UI/OPEN_POPUP":return function(e,t){return Object.assign(Object.assign({},e),{popup:"createReview"===t.type?Object.assign(Object.assign({},t),{isModal:!0}):t})}(e,t.payload);case"UI/CLOSE_POPUP":return function(e){if(!e.popup)return e;return Object.assign(Object.assign({},e),{popup:void 0})}(e)}return e},function(e,t){return"UI/PATCH_MESSENGER"===t.type?function(e,t){return Object.assign(Object.assign({},e),{messenger:Object.assign(Object.assign({},e.messenger),t)})}(e,t.payload):e},function(e,t){switch(t.type){case"WEAK/SET_DASHBOARD_RUBRICS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{rubricsId:t})})})})}(e,t.payload);case"WEAK/SET_RUBRICATOR_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubricator:Object.assign(Object.assign({},e.weak.rubricator),{transition:t})})})}(e,t.payload);case"WEAK/SET_RUBRIC_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubric:{transition:t}})})}(e,t.payload);case"WEAK/SET_DASHBOARD_GTA_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{gtaId:t})})})})}(e,t.payload);case"SUGGEST/SET_SUGGEST_ID":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{suggestId:t.suggestId})})})})}(e,t.payload);case"SUGGEST/SET_QUERY":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{query:t.query})})})})}(e,t.payload);case"SUGGEST/TOGGLE":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};if(r.show===t.show)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{show:t.show,highlightedIndex:void 0})})})})}(e,t.payload);case"SUGGEST/HIGHLIGHT_SUGGESTION":return function(e,t){const r=e.weak.suggests[t.suggesterKey]||{};if(r.highlightedIndex===t.index)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},r),{highlightedIndex:t.index})})})})}(e,t.payload);case"UI/SHOW_NOTIFICATION":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:[...e.weak.notifications,t]})})}(e,t.payload);case"UI/HIDE_NOTIFICATION":return function(e,t){const r=e.weak.notifications.filter((e=>e.id!==t.id));if(r.length===e.weak.notifications.length)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:r})})}(e,t.payload);case"WEAK/MAP_INTERACTION_START":return e.weak.mapInteractionStarted?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{mapInteractionStarted:!0})});case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:{floorNames:t.floorNames,firmsToFloorIndexMap:t.firmsToFloorIndexMap}})})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:void 0})})}(e);case"WEAK/PATCH":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),t)})}(e,t.payload);case"WEAK/SET_CATALOG_MARKERS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{markers:Object.assign(Object.assign({},e.weak.markers),{catalog:{[t.frameId]:t.markersId}})})})}(e,t.payload);case"BSS/TRACK_ACTION":return function(e,t){if(e.weak.wasBc)return e;if(t.autoEvent||"tap"!==t.action)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{wasBc:!0})})}(e,t.payload)}return e}];function fe(e=ge,t){return me.reduce(((e,r)=>r(e,t)),e)}const ve=e=>({appContext:fe,config:(0,he.L)(e)});var be=r(9659);function ye(e){return{locale:(0,Q.O)(e)}}var xe=r(31140);var je=r(86550),we=r(2784),Ie=r(27215),Ce=r(16164),Oe=r(30007),_e=r(82514),ke=r(6989),Se=r(26354),Me=r(50419);var Te=r(18137),Ne=r(21319),Pe=r(63119),Ee=r(31567),Le=r(10682),ze=r(43503);const Re=(0,we.memo)((e=>(0,n.jsx)(Te.E,{loader:Ne.H.searchResults,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:Fe(e)}))),Fe=e=>t=>{if("error"===t)throw Te.t;const r="search"===e.frame.type&&"query"===e.frame.searchType&&e.frame.tabCatalog.rubricId?ze.X[e.frame.tabCatalog.rubricId]:void 0;return(0,n.jsx)(Pe.u,Object.assign({header:(0,n.jsx)("div",{style:{height:"105px",background:Ee.O.gray_f2f2f2,borderBottom:`1px solid ${Ee.O.gray_e6e6e6}`}}),sidebar:(0,n.jsx)("div",{}),areFiltersOpened:e.frameContext.areFiltersOpened},{children:(0,n.jsx)(n.Fragment,{children:Array(10).fill("").map(((e,t)=>(0,n.jsx)(Le.c,{withoutPhotos:!r,isMedia:null==r?void 0:r.isMedia},t)))})}))};var He=r(45554),Be=r(37144),Ae=r(41996),De=r(40783),Ze=r(79671),Ve=r(15057);const Ue=(0,b.T3)(),$e=(0,b.f6)(),We=(0,Be.P1)([({state:e,props:t})=>Ue({state:e,entityId:t.frame.entityId,searchId:t.frame.searchId}),({state:e,props:t})=>$e({state:e,searchId:(0,De.l)(t.frame,t.frame.tab)||""}),({state:e,props:t})=>(0,Ze.GM)({state:e,entityId:t.frame.entityId,orgReviewsSearchId:t.frame.tabReviews?(0,pe.Gp)(t.frame.tabReviews.orgReviewsSearchId):void 0,entityReviewsSearchId:t.frame.tabReviews?(0,pe.Gp)(t.frame.tabReviews.entityReviewsSearchId):void 0}),({state:e,props:{frame:{entityId:t}}})=>!!(0,Ve.C6)(t)(e)],((e,t,r,n)=>({entity:e,reviewsIntended:t,total:r,hasPinnedUserReview:n}))),qe=(0,Ae.X1)(((e,t)=>We({state:e,props:t})));var Ge=r(57773),Qe=r(12566);function Ke(e,t){const r=t.appContext.frames.find(Qe.B);if(!r||"geometry"!==e.origin||!e.geometry||"polyline"!==e.geometry.type)return;const n=e.geometry.eventData&&e.geometry.eventData.id;return"string"==typeof n&&n?(0,Ge.f)({activeDirectionId:n,frameId:r.id}):void 0}var Je=r(11268);var Ye=r(84304),Xe=r(34855);const et=(0,Ae.Z3)((e=>({subscribeOnEvents:t=>e(function({id:e}){return(0,F.Oo)({id:e,type:"map:click",handler:Ke,stopIfHandled:!0,priority:Je.U.Frame})}(t)),removeListeners:t=>e((0,F.xg)(t)),handleOnAddReviewClick(t){e((0,Ye.Mw)({id:(0,$.by)(),type:"createReview",entityId:t.entityId,searchId:t.searchId,temporaryId:t.temporaryId}))},fetchData({entityId:t,type:r}){e((0,Xe.d)({id:t,type:r}))}})));var tt=r(89788),rt=r(78535),nt=r(60774),st=r(35608),it=r(39595),at=r(40254),ot=r(74747),ct=r(43491),dt=r(52451),lt=r(54446),ut=r(38820),pt=r(66027);var ht=r(54722),gt=r(81735),mt=r(63476),ft=r(25278);var vt=r(29397),bt=r(80531),yt=r(95849),xt=r(97391),jt=r(85176),wt=r(88240);var It=r(44685),Ct=r(64662),Ot=r(71103),_t=r(4206),kt=r(55956),St=r(5991),Mt=r(2556),Tt=r(96555),Nt=r(68402),Pt=r(21578),Et=r(88315),Lt=r(59153),zt=r(8517);const Rt=(0,we.memo)((({children:e,styles:t,containerRef:r})=>{const{css:s,s:i}=(0,rt.y)(Ft);return(0,n.jsx)("div",Object.assign({className:s(i.root,t),ref:r},{children:e}))}));Rt.displayName="SnapItem";const Ft=(0,rt.k)({root:{scrollSnapAlign:"center",scrollSnapStop:"always",flexBasis:"100%",flexShrink:0,flexGrow:0}});var Ht=r(48039),Bt=r(74215),At=r(44995),Dt=r(48472);const Zt=e=>({frameId:t},r)=>{if(e.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{video:{entity:{id:e.videoId,type:"video"}},placeItem:(0,Dt.s)({state:r,entityFrameId:t})}}},Vt=({position:e})=>({frameId:t},r)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{placeItem:(0,Dt.s)({state:r,entityFrameId:t,position:e})}}),Ut=(0,we.memo)((({photo:e,position:t})=>{const{css:r,s}=(0,rt.y)($t),{bssRef:i}=(0,Bt.T)((({position:e})=>({frameId:t},r)=>({uiElement:{name:"photoCardMini",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:(0,Dt.s)({state:r,entityFrameId:t,position:e})}}))({position:t})),a=(0,Bt.T)().useBssHandler(Vt,{position:t}),o=(0,Ie.I0)(),c=(0,yt.$)((t=>{t.preventDefault(),t.stopPropagation(),o((0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"entity")),(t=>t&&(0,E.BN)((0,At.l)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),a()}));return(0,n.jsx)("div",Object.assign({className:r(s.root),ref:i,onClick:c},Oe.dx.n("wat-firm-photo"),{children:(0,n.jsx)(Ht.j,{src:e.preview_urls["328x170"],src2x:e.preview_urls["656x340"],lazyLoadVisibilityOffset:-dr-1,borderRadius:"8px",backgroundColor:Ee.O.black_transparent_06,isLoadingForced:1===t})}))}));Ut.displayName="Photo";const $t=(0,rt.k)({root:{width:"100%",height:"100%",cursor:"pointer"}});var Wt=r(11396),qt=r(41374),Gt=r(2796),Qt=r(65632);const Kt=(0,we.memo)((({video:e})=>{var t,r;const{css:s,s:i}=(0,rt.y)(Jt),a=(0,Ie.I0)(),{bssRef:o,useBssHandler:c}=(0,Bt.T)((d={videoId:e.id},({frameId:e},t)=>{if(d.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:e},payload:{video:{entity:{id:d.videoId,type:"video"}},placeItem:(0,Dt.s)({state:t,entityFrameId:e})}}}));var d;const l=c(Zt,{videoId:e.id}),u=(0,yt.$)((e=>{e.preventDefault(),e.stopPropagation(),a((0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"entity")),(e=>e&&(0,E.BN)((0,qt.O)({entityId:e.entityId,searchId:e.searchId}))))),l()}));return(0,n.jsxs)("div",Object.assign({className:s(i.root),ref:o,onClick:u},Oe.dx.n("wat-video-entry"),{children:[(0,n.jsx)(Ht.j,{src:(null===(r=null===(t=e.videos)||void 0===t?void 0:t[0])||void 0===r?void 0:r.thumbnailUrl)||"",lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:Ee.O.black_transparent_06,isLoadingForced:!0}),(0,n.jsx)("div",Object.assign({className:s(i.playLayer)},{children:(0,n.jsx)("div",Object.assign({className:s(i.play)},{children:(0,n.jsx)(Wt.s,{})}))}))]}))}));Kt.displayName="Video";const Jt=(0,rt.k)({root:{width:"100%",height:"100%",cursor:"pointer",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},playLayer:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},play:{display:"flex",justifyContent:"center",alignItems:"center",width:48,height:40,overflow:"hidden",borderRadius:8,background:(0,Qt.j)(Ee.O.red_fe5000,.8),color:Ee.O.white,transition:`${Gt.l.short}ms ${Gt.Z.base}`,"*:hover>&":{background:Ee.O.red_fe5000}}});var Yt=r(38821),Xt=r(43288);const er=(0,we.memo)((({adsImage:e})=>{const{css:t,s:r}=(0,rt.y)(tr),s=(0,Bt.T)().useBssHandler(Vt,{position:1}),i=(0,Ie.I0)(),a=(0,yt.$)((e=>{e.preventDefault(),e.stopPropagation(),i((0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"entity")),(e=>e&&(0,E.BN)((0,At.l)({entityId:e.entityId,searchId:e.searchId,entityType:e.entityType,photoId:Xt.Pn}))))),s()}));return(0,n.jsx)("div",Object.assign({className:t(r.root),onClick:a},{children:(0,n.jsx)(Ht.j,{src:(0,Yt.W)(e.url,"328x170"),src2x:(0,Yt.W)(e.url,"656x340"),lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:Ee.O.black_transparent_06,isLoadingForced:!0})}))}));er.displayName="AdsImage";const tr=(0,rt.k)({root:{width:"100%",height:"100%",cursor:"pointer"}});var rr=r(76803),nr=r(36614),sr=r(27039),ir=r(30033);var ar=r(85251);const or=(0,we.memo)((({scrollboxRef:e,maxDots:t=5,dotSize:r=6,smallDotSize:s=4,gap:i=4,color:a=Ee.O.white})=>{const{css:o,s:c,dir:d}=(0,rt.y)(cr),[l,u]=function({scrollboxRef:e}){const{rtl:t}=(0,ht.Z)(),r=t?-1:1,[n,s]=(0,we.useState)(0),[i,a]=(0,we.useState)(0);return(0,we.useEffect)((()=>{const t=e.current;if(!t)return;a(t.children.length);const n=()=>{const e=t.offsetWidth/2+t.scrollLeft*r,n=t.scrollWidth/t.children.length,i=Math.floor(e/n);s(i)};return t.addEventListener("scroll",n),()=>{t.removeEventListener("scroll",n)}}),[e,r]),[n,i]}({scrollboxRef:e}),p=Math.floor(t/2),h=Math.max(0,Math.min(u-t,l-p)),g=Math.max(0,u-Math.max(t,l+1+p)),m=(r+i)*(g-h);return u?(0,n.jsx)("div",Object.assign({className:o(c.root),style:(0,je.Qo)({gap:i,marginStart:m},d)},{children:(0,ir.D)(u,(e=>{const t=h>0&&e<=h,i=g>0&&e+1>=u-g,p=t||i?s:r;return(0,n.jsx)("div",{className:o(c.dot,l===e&&c._active,e<h||e>=u-g?c._hidden:void 0),style:(0,je.Qo)({width:p,height:p,marginStart:t?r-s:void 0,marginEnd:i?r-s:void 0,color:a},d)},e)}))})):null}));or.displayName="CarouselDots";const cr=(0,rt.k)({root:{display:"flex",alignItems:"center",justifyContent:"center",transition:`${2*Gt.l.short}ms ${Gt.Z.base}`},dot:{borderRadius:ar.E0.oval,overflow:"hidden",opacity:.3,background:Ee.O.white,transition:`${Gt.l.short}ms ${Gt.Z.base}`},_active:{opacity:1},_hidden:{opacity:0}}),dr=16,lr=(0,we.memo)((({entity:e,items:t})=>{const{css:r,s}=(0,rt.y)(ur),i=(0,we.useRef)(null),{bssRef:a}=(0,Bt.T)((({frameId:e},t)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:e},payload:{placeItem:(0,Dt.s)({state:t,entityFrameId:e})}}))),o=t.length;return o?(0,n.jsxs)("div",Object.assign({className:r(s.root),ref:a},{children:[(0,n.jsx)(zt.S,Object.assign({offset:12,gap:dr,containerRef:i},{children:t.map(((t,i)=>(0,n.jsxs)(Rt,Object.assign({styles:s.item},{children:["photo"in t?(0,n.jsx)(Ut,Object.assign({},t)):"video"in t?(0,n.jsx)(Kt,Object.assign({},t)):"adsImage"in t?(0,n.jsx)(er,Object.assign({},t)):null,0===i&&(0,n.jsx)("div",Object.assign({className:r(s.logo)},{children:(0,n.jsx)(rr.T,{size:64,entity:e,isLoadingForced:!0})}))]}),i)))})),(0,n.jsx)(vt.N,{children:(0,n.jsx)(nr.o,{offset:28,scrollboxRef:i},o)}),o>1&&(0,n.jsx)("div",Object.assign({className:r(s.dots)},{children:(0,n.jsx)(or,{scrollboxRef:i},o)}))]})):(0,n.jsx)(sr.b,{height:170,marginStart:-12,marginEnd:-12,marginBottom:12,borderRadius:8})})),ur=(0,rt.k)({root:{position:"relative",marginStart:-24,marginEnd:-24,marginBottom:12},item:{position:"relative",height:170},logo:{position:"absolute",bottom:12,start:12,width:64,height:64,pointerEvents:"none"},dots:{position:"absolute",start:0,end:0,bottom:8,display:"flex",justifyContent:"center",pointerEvents:"none"}});var pr=r(69643),hr=r(96740),gr=r(41952),mr=r(33279);const fr=(0,we.memo)((()=>{const{css:e,s:t}=(0,rt.y)(vr),r=[(0,pr.d)({isLabelShown:!0,isSmallIcon:!0}),(0,gr.T)({isLabelShown:!0,isSmallIcon:!0}),(0,hr.t)({isLabelShown:!0,isSmallIcon:!0})];return(0,n.jsx)("div",Object.assign({className:e(t.actions)},{children:r.map(((r,s)=>!!r&&(0,n.jsx)("div",Object.assign({className:e(t.action)},{children:(0,n.jsx)(mr.W,Object.assign({dataT:r.type,icon:r.icon,size:24,onClick:r.onClick,href:r.href},{children:r.label}))}),s)))}))})),vr=(0,rt.k)({actions:{display:"flex",marginBottom:12},action:{marginEnd:12}}),br=(0,we.memo)((e=>{var t,r,s,i,a,o,c,d,l;const{entity:u,frame:p,frameContext:h}=e,{css:g,s:m}=(0,rt.y)(yr),f=(0,nt.T)(),v=(0,ht.Z)(),y=(0,Ie.I0)(),{name:x,address:j}=(0,Lt.Ky)(u,f,{config:v,useSingleComponentForBranch:!0}),w=function(e){var t;const{frame:r,entity:n}=e,s="context"in n?null===(t=null==n?void 0:n.context)||void 0===t?void 0:t.entrance_id:void 0,i=r.entranceId||s;return i&&function(e,t){var r;const n="links"in e&&(null===(r=e.links)||void 0===r?void 0:r.database_entrances),s=t&&n?n.find((e=>e.id===t)):void 0;return null==s?void 0:s.entity_name}(n,i)}({frame:p,entity:u}),I=(0,Ct.U)({entity:u,config:v,tp:f}),C="route"===u.type?(0,kt.s)(u):void 0,O=(0,Ot.P)(u,v.defaultCountryCode,p.point),_="is_deleted"in u&&!!u.is_deleted,k=(0,dt.A)(u),S="station"===u.type&&(0,Et.h)(u)?null===(t=u.routes)||void 0===t?void 0:t[0]:void 0,M=null===(s=null===(r=u.ads)||void 0===r?void 0:r.options)||void 0===s?void 0:s.color,N=M?`radial-gradient(139.86% 100% at 26.96% 0%, ${(0,bt.c)(M,.92)} 0%, ${Ee.O.white} 100%)`:void 0,P="branch"===u.type?null===(o=null===(a=null===(i=null==u?void 0:u.attribute_groups)||void 0===i?void 0:i[0])||void 0===a?void 0:a.attributes[0])||void 0===o?void 0:o.id:void 0,E="branch"===u.type?null===(l=null===(d=null===(c=null==u?void 0:u.attribute_groups)||void 0===c?void 0:c[0])||void 0===d?void 0:d.attributes[0])||void 0===l?void 0:l.name:void 0,L=(0,we.useMemo)((()=>(0,St.l)(u)),[u]),z=function(e){var t,r,n,s,i,a;const{entity:o}=e,c=(0,gt.h)(o),d=(0,mt.J)({entity:o}),l=!!(null===(n=null===(r=null===(t=o.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.videos)||void 0===n?void 0:n[0]),u=(0,Ie.v9)((e=>l?(0,b.Tv)({state:e,entityId:o.id}):void 0)),p=null===(a=null===(i=null===(s=o.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.images)||void 0===a?void 0:a[0],h=l?!((null==u?void 0:u.data)||(null==u?void 0:u.meta)&&"loading"!==u.meta.status):!p&&!d.data&&d.isLoading,g=(0,we.useMemo)((()=>{var e,t,r;if(h)return ft.LZ;const n=[];(null===(t=null===(e=null==u?void 0:u.data)||void 0===e?void 0:e.videos)||void 0===t?void 0:t[0])?n.push({video:u.data}):p&&n.push({adsImage:p});const s=d.data?Math.min(d.data.items.length,10-n.length):0;for(let e=0;e<s;e++){const t=null===(r=d.data)||void 0===r?void 0:r.items[e];if(!t||c&&!t.is_pinned)break;n.push({photo:t,position:n.length+1})}return n}),[h,d,u,p,c]);return{isShown:h||!!g.length,items:g}}({entity:u}),R=(0,yt.$)((()=>{var e;y((0,T.vP)((e={frameId:p.id},(0,wt.zs)({uiElement:{name:"rating",ownerName:"placeCardFull",frameUuid:e.frameId},action:"tap"})),(0,xt.nc)(["Card","Header_rating","Click"]),(0,jt.I)({tab:"reviews",frame:p,entity:u})))})),F=(0,yt.$)((()=>{S&&y((0,A.ko)({id:S.id,type:"route",searchId:p.searchId}))}));return(0,n.jsxs)("div",Object.assign({className:g(m.root),style:{background:N}},Oe.dx.n("wat-header-card"),{children:[(0,n.jsx)(pt.v,{frame:p,frameContext:h}),(0,n.jsx)(vt.N,{children:(0,n.jsx)(fr,{})}),z.isShown&&(0,n.jsx)(lr,{entity:u,items:z.items}),(0,n.jsxs)(It.w,Object.assign({className:g(m.name,_&&m.grayText)},{children:[(0,n.jsx)("span",Object.assign({},Oe.dx.n("wat-card-title"),{children:(0,_t.r)((0,$.oA)([...x,w]))}))," ",!_&&(0,n.jsx)(ut.g,{entity:u})]})),"building"===u.type&&!!(null==j?void 0:j.length)&&(0,n.jsx)("div",Object.assign({className:g(m.address,_&&m.grayText)},{children:(0,n.jsx)(it.v,Object.assign({inline:!0},{children:j}))})),!!I.length&&(0,n.jsx)("div",Object.assign({className:g(m.extension)},{children:(0,n.jsx)(it.v,Object.assign({inline:!0},{children:[...I,!!S&&(0,n.jsx)(Nt.E,Object.assign({type:"route",id:S.id},{children:e=>(0,n.jsx)(Pt.Z,Object.assign({onClick:F,href:e},{children:S.name}))}),"metroLine")]}))})),!!C&&(0,n.jsx)("div",Object.assign({className:g(m.extension)},{children:C})),!!O&&(0,n.jsx)("div",Object.assign({className:g(m.extension)},{children:O})),!_&&!(!k&&!L)&&(0,n.jsxs)("div",Object.assign({className:g(m.row)},{children:[!!k&&(0,n.jsx)(ot.w,{children:(0,n.jsxs)("div",Object.assign({className:g(m.rating)},Oe.dx.n("wat-rating"),{onClick:R},{children:[L?(0,n.jsx)("div",Object.assign({className:g(m.ratingAwards)},{children:(0,n.jsx)(Mt.U,{color:Ee.O.gray_262626,size:14})})):(0,n.jsx)(at.i,{color:Ee.O.gray_262626,size:14,rating:k.stars}),(0,n.jsx)("div",Object.assign({className:g(m.ratingValue)},{children:k.stars})),!!k.count&&(0,n.jsx)("div",Object.assign({className:g(m.ratingCount)},{children:f._nt(["%% оценка","%% оценки","%% оценок"],k.count)}))]}))}),L&&P&&E&&(0,n.jsx)("div",Object.assign({className:g(m.awards)},{children:(0,n.jsx)(Tt.l,{id:P,name:E,ownerName:"placeCardFull"})}))]})),_&&(0,n.jsx)(ct.k,Object.assign({code:410},{children:(0,n.jsxs)("div",Object.assign({className:g(m.deleted)},Oe.dx.n("wat-deleted-entity-block"),{children:[(0,n.jsx)("div",Object.assign({className:g(m.redText)},{children:"branch"===u.type?f._t("Филиал удалён из справочника"):f._t("Объект удалён из справочника")})),"branch"===u.type&&(0,n.jsx)("div",{children:f._t("Возможно, он закрылся насовсем либо временно не работает")})]}))})),(0,n.jsx)(lt.f,{entity:u,withoutLogo:z.isShown})]}))})),yr=(0,rt.k)({root:{padding:"16px 24px"},name:Object.assign(Object.assign({},st.hC),{paddingTop:4}),extension:{marginTop:4,color:Ee.O.gray_5c5c5c},address:{marginTop:4,color:Ee.O.gray_262626},rating:{marginStart:-1,display:"flex",alignItems:"center",cursor:"pointer"},row:{display:"flex",alignItems:"center",marginTop:8},ratingValue:{marginStart:4},ratingCount:{marginStart:8,color:Ee.O.gray_5c5c5c},ratingAwards:{display:"flex"},awards:{display:"flex",marginInlineStart:12},deleted:{marginTop:8},redText:{color:Ee.O.red_fe5000},grayText:{color:Ee.O.gray_5c5c5c}});var xr=r(8314),jr=r(52266),wr=r(74116);function Ir(e){switch(e){case"services":case"providers":return"services";default:return e}}var Cr=r(14075),Or=r(53699),_r=r(68865),kr=r(55850),Sr=r(88657);const Mr=["services"];function Tr(e,t,r,n){if(t.length<2)return;const s=Nr(Pr(e,t,r,n));return s.length<2?void 0:{formattedTabs:s}}function Nr(e){return e.reduce(((e,t)=>{if(-1===Mr.indexOf(t.uiKey))return e.concat(t);const r=e.find((e=>e.uiKey===t.uiKey));return r?(t.count&&(r.count=(r.count||0)+t.count),t.isSelected&&(r.isSelected=!0),e):e.concat(t)}),[])}function Pr(e,t,r,n){const s=(0,wr.d)(t,n);return t.map((t=>({key:t.tab,uiKey:Ir(t.tab),label:Lr(e,t.tab,r),count:Er(t.tab)?t.count:void 0,badgeCount:t.badgeCount,isSelected:t.tab===s,isDefault:t.tab===(0,Cr.R)(e)[0]})))}function Er(e){switch(e){case"discounts":case"reviews":case"photos":case"inside":case"menu":return!0;default:return!1}}function Lr(e,t,r){const n=(0,Or.i)(e);switch(t){case"contacts":return n?r._t("Инфо"):r._t("Контакты");case"info":return r._t("Инфо");case"reviews":return r._t("Отзывы");case"photos":return r._t("Фото");case"menu":return(0,kr.J)(e)?function(e){const{rubrics:t,tp:r}=e;switch((0,Sr.a)(t)){case"menu":return r._t("Меню");case"prices":return r._t("Цены");default:return""}}({rubrics:e.rubrics,tp:r}):"";case"prices":const{tabLabel:t}=(0,_r.d)({entity:e,tp:r});return t;case"realty":return r._t("Недвижимость");case"inside":return r._t("В здании");case"services":case"providers":return r._t("Службы");case"discounts":return r._t("Скидки")}}var zr=r(52171),Rr=r(61955),Fr=r(17684);function Hr(e){return{isActive:e.isSelected||!1,amount:e.count||0,uploadPricesPromo:"menu"===e.key&&0===e.count||void 0}}const Br=e=>({frameId:t},r)=>{const n=(0,Dt.s)({state:r,entityFrameId:t});if("menu"!==e.key||void 0!==e.count)return{uiElement:{name:Ar(e.key),ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:n,tabPreviewInfo:"menu"===e.key?Hr(e):void 0},action:"tap"}};function Ar(e){switch(e){case"info":return"cardInformation";case"contacts":return"cardContacts";case"discounts":return"cardDiscounts";case"reviews":return"cardReviews";case"photos":return"cardGallery";case"prices":case"menu":return"cardPrices";case"realty":return"cardRealty";case"inside":return"cardBuildingOrgs";case"providers":case"services":return"cardServiceOrgs"}}var Dr=r(94560);const Zr=(0,we.memo)((e=>{const t=(0,Ie.I0)(),{tab:r,onSelect:s,href:i,entityId:a,entityType:o}=e,{bssRef:c,useBssHandler:d}=(0,Bt.T)((e=>({frameId:t},r)=>{const n=(0,Dt.s)({state:r,entityFrameId:t});switch(e.key){case"prices":return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:n}};case"menu":if(void 0===e.count)return;return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:n,tabPreviewInfo:Hr(e)}};case"realty":return{uiElement:{name:"cardRealtyPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:n}};default:return}})(r)),l=d(Br,r),u=(0,yt.$)((e=>{e.isSelected||(l(),s(e))})),{data:p}=(0,Dr.P)(a,o);(0,we.useEffect)((()=>{"realty"!==r.key||r.isSelected||window.setTimeout((()=>{c.current&&void 0!==p&&t((0,Fr.I)({targetBoundingClientRect:c.current.getBoundingClientRect(),type:"realty",to:"bottomMiddle",offset:-12}))}),0)}),[c.current,p]);const h=(0,we.useCallback)((e=>{if("prices"===e.key)return(0,n.jsx)(Rr.Q,{})}),[]);return(0,n.jsx)(zr.O,{tabRef:c,tab:r,href:i,onSelect:u,renderIcon:h})}));Zr.displayName="EntityCardTab";var Vr=r(71260),Ur=r(73154),$r=r(61624);class Wr extends we.PureComponent{render(){const{s:e,formattedTabs:t,entity:r,handleTabClick:s}=this.props;return(0,n.jsx)(Vr.O,Object.assign({bgColor:Ee.O.gray_f2f2f2},{children:i=>(0,n.jsx)(xr.m,{tabs:t,renderTab:t=>{const a=e=>(0,n.jsx)(Zr,{href:e,tab:t,onSelect:s,entityType:r.type,entityId:r.id});return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.tabWrapper),onClick:e=>i(e.currentTarget.offsetWidth,e.currentTarget.offsetLeft)},{children:"realty"===t.key?(0,n.jsx)(Nt.E,Object.assign({type:"realty",entityId:(0,$r.V)(r)},{children:a})):"photos"===t.key?(0,n.jsx)(Nt.E,Object.assign({type:"gallery",entityId:r.id,entityType:r.type},{children:a})):(0,n.jsx)(Ur.E,Object.assign({entity:r,tab:t.isDefault?void 0:t.key},{children:a}))}),t.key)}})}))}}Wr.displayName=(0,He.I)("src/modules/entity/containers/content/components/tabs");const qr=(0,jr.C)((({tabs:e,frameTab:t,entity:r},{tp:n})=>Tr(r,e,n,t)))((0,_e.D2)({tabWrapper:{margin:"0 8px",":first-child":{marginStart:0},":last-child":{marginEnd:0}}})((0,ke.$)()(Wr)));var Gr=r(46938),Qr=r(4335);const Kr=e=>"loading"===e.asyncStatus?(0,n.jsx)(Gr.h,{hasPinnedGoods:e.hasPinnedGoods}):(0,n.jsx)(Qr.j,{code:500}),Jr=e=>(0,n.jsx)(Te.E,{loader:Ne.H.contactsTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:t=>(0,n.jsx)(Kr,{asyncStatus:t,hasPinnedGoods:!!e.entity.has_pinned_goods})}),Yr=e=>(0,n.jsx)(Te.E,{loader:Ne.H.infoTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})});var Xr=r(20738);const en=e=>(0,n.jsx)(Te.E,{loader:Ne.H.pricesTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>"loading"===e?(0,n.jsx)(Xr.N,{}):(0,n.jsx)(Qr.j,{code:500})}),tn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.insideTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})}),rn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.servicesTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})}),nn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.reviewsTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})}),sn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.discountsTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})}),an=()=>(0,n.jsx)(Te.E,{loader:Ne.H.realtyTab,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:e=>(0,n.jsx)(Kr,{asyncStatus:e})});var on=r(13130),cn=r(52101);const dn=(e,{tp:t,dateFns:r})=>({headerText:(0,cn.w)({entity:e.entity,format:"short",ctx:{dateFns:r,tp:t}}),bodyText:(0,cn.w)({entity:e.entity,format:"long",ctx:{dateFns:r,tp:t}})}),ln=e=>{const{s:t,css:r}=(0,rt.y)(un),{headerText:s,bodyText:i}=(0,on.Gb)(dn,e);return s&&i?(0,n.jsxs)("div",Object.assign({className:r(t.root)},{children:[(0,n.jsx)("div",Object.assign({className:r(t.header)},{children:s})),(0,n.jsx)("div",Object.assign({className:r(t.body)},{children:i}))]})):null},un=(0,rt.k)({root:{background:Ee.O.gray_f2f2f2,textAlign:"center",paddingBottom:12},header:Object.assign(Object.assign({},st.Rw),{paddingTop:16,paddingBottom:12,paddingStart:0,paddingEnd:0}),body:Object.assign(Object.assign({},st.oN),{padding:"0 20px"})});var pn=r(49669);const hn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.menuTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var gn=r(23586);const mn=e=>(0,n.jsx)(Te.E,{loader:Ne.H.photosTab,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var fn=r(90091);class vn extends we.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const{handleTabClick:t}=this.props;t({key:e.key})}}render(){const{s:e,entity:t,frame:r}=this.props;return(0,n.jsxs)("div",Object.assign({},Oe.dx.n("wat-entity-tab"),{className:(0,je.iv)(e.contentContainer)},{children:[(0,n.jsx)(yn,{entity:t,frame:r,handleTabClick:this.handleTabClick}),this.renderContent()]}))}renderContent(){const{entity:e,frame:t,tab:r,renderAllTabs:s}=this.props;switch(r){case"contacts":if((0,kr.J)(e))return(0,Or.i)(e)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Jr,{entity:e,frame:t}),s&&(0,n.jsx)(nn,{frame:t,entity:e,isHidden:!0})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Jr,{entity:e,frame:t}),s&&(0,n.jsx)(Yr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),s&&(0,n.jsx)(nn,{frame:t,entity:e,isHidden:!0})]});break;case"info":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Yr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId}),s&&(0,kr.J)(e)&&(0,n.jsx)(Jr,{entity:e,frame:t,isHidden:!0}),s&&(0,n.jsx)(nn,{frame:t,entity:e,isHidden:!0})]});case"reviews":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(nn,{frame:t,entity:e}),s&&(0,n.jsx)(Yr,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),s&&(0,kr.J)(e)&&(0,n.jsx)(Jr,{entity:e,frame:t,isHidden:!0})]});case"photos":return(0,n.jsx)(mn,{frame:t,entity:e,searchId:t.searchId});case"inside":return(0,n.jsx)(tn,{frame:t});case"services":case"providers":return(0,n.jsx)(rn,{frame:t,entity:e});case"discounts":if((0,kr.J)(e))return(0,n.jsx)(sn,{entity:e});break;case"prices":if((0,kr.J)(e)&&t.tabPrices)return(0,n.jsx)(en,{frameId:t.id,entity:e,entitySearchId:t.searchId,offersSearchId:t.tabPrices.searchId});break;case"realty":if(t.tabRealty)return(0,n.jsx)(an,{});break;case"menu":if((0,kr.J)(e))return(0,n.jsx)(hn,{entity:e,searchId:t.searchId})}return null}}vn.displayName=(0,He.I)("src/modules/entity/containers/content");const bn=(0,Ce.$)(void 0,((e,t)=>({handleTabClick(r){e((0,jt.I)({tab:r.key,frame:t.frame,entity:t.entity}))}})))((0,jr.C)((({entity:e,frame:t})=>({tab:t.tab||(0,Cr.R)(e)[0],renderAllTabs:"undefined"==typeof window||window.isServerRendered})))((0,_e.D2)({contentContainer:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden","@media print":{background:"#fff"}}})(vn))),yn=({entity:e,frame:t,handleTabClick:r})=>{const{featureReadOnly:s,featureAlbumsCounts:i}=(0,ht.Z)(),a=(0,Ie.v9)(g.kL),o=(0,Ie.v9)(Q.O),c=(0,gn.VP)("branch"===e.type?{branchId:e.id,locale:o}:void 0,{enabled:!i}),{data:d}=(0,fn.Hv)({objectId:e.id},{enabled:!!e.id&&i}),l=null==d?void 0:d.albums.find((e=>e.id===z.n4)),u=l?l.count||0:void 0,p=null==d?void 0:d.albums.find((e=>e.id===z.Ok)),h=d&&p?p.count:d?0:void 0,m=i?h:c.data?c.data.total||0:void 0,f=i?u:void 0,v=(0,Ie.v9)((r=>(0,Ze.Q6)({state:r,entityId:e.id,entityReviewsSearchId:t.tabReviews?(0,pe.Gp)(t.tabReviews.entityReviewsSearchId):"",orgReviewsSearchId:t.tabReviews?(0,pe.Gp)(t.tabReviews.orgReviewsSearchId):"",featureReadOnly:s,featureAlbumsCounts:i,photosTotal:f,menuPhotosTotal:m})));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ln,{entity:e}),(0,n.jsx)(qr,{tabs:v,frameTab:t.tab,handleTabClick:r,regionCode:null==a?void 0:a.uri_code,entity:e})]})};var xn=r(59201),jn=r(73283),wn=r(1312);function In(e,t,r){return!!e&&!!t.length&&"error"!==r}var Cn=r(73472),On=r(64956),_n=r(99426),kn=r(7628),Sn=r(5161),Mn=r(83266);const Tn=()=>{const e=[(0,Sn.k)({isLabelShown:!0}),(0,Mn.d)({isLabelShown:!0})];return(0,n.jsx)(kn.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,n.jsx)(kn.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var Nn=r(87457),Pn=r(11668),En=r(5507);const Ln=(0,T.gQ)("choosePhonePopup",(({entityId:e})=>(0,E.BN)((0,Ye.Mw)({id:(0,$.by)(),type:"choosePhone",entityId:e}))));function zn({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18.896 4.039a2.54 2.54 0 00-.432-.035l-1.66.001L16.068 4a2.024 2.024 0 00-1.449.59C11.528 7.67 10 11.917 10 16.008c0 4.11 1.527 8.357 4.623 11.429.378.375.891.562 1.426.562h2.016c.291-.008.2-.018.512-.03a2.51 2.51 0 002.421-2.596l-.01-.139a3.01 3.01 0 00-.024-.188l-.782-4.516-.038-.185a3.02 3.02 0 00-2.925-2.308l-1.79-.011-.06-.188a7.923 7.923 0 01-.33-1.91l-.003-.25a5.282 5.282 0 01.29-1.589l.027-.073h1.846a3.018 3.018 0 002.982-2.502l.781-4.594a2.502 2.502 0 00-1.897-2.848l-.17-.034zM18.49 6.01a.5.5 0 01.417.486l-.007.09-.774 4.592a1 1 0 01-.866.827l-.12.007H14c-.718 1.388-1.051 2.718-1 3.99.046 1.145.32 2.343.824 3.592l.176.418 3.148.019a1 1 0 01.953.714l.027.116.776 4.515a.5.5 0 01-.474.584l-.872.029-.81.017c-.26.004-.509.006-.748.006-3-3-4-7-4-10.01 0-2.99 1-6.99 4-10.003l1.132.006 1.273-.002a.5.5 0 01.086.007z",clipRule:"evenodd"})}))}var Rn=r(1058);function Fn(e){var t;const r=[];return"branch"===(null==e?void 0:e.type)&&(null===(t=e.contact_groups)||void 0===t||t.forEach((({contacts:e})=>{null==e||e.forEach((e=>{"phone"===e.type&&r.push(e)}))}))),r}var Hn=r(48833);function Bn(){const e=(0,Ie.I0)(),{entity:t}=(0,Rn.j)(),r=(0,Hn.P)({entity:t}).currentCongestion,s=(0,Bt.T)().useBssHandler(An,{currentCongestion:r}),i=Fn(t),a=(0,yt.$)((()=>{t&&(s(),i.length>1?e(Ln({entityId:t.id})):window.location.assign(`tel:${i[0].value}`))}));if(i.length)return{type:"phone",label:void 0,icon:(0,n.jsx)(zn,{color:Ee.O.black}),href:void 0,onClick:a}}const An=e=>({frameId:t},r)=>{const{currentCongestion:n}=e,s=(0,Dt.s)({state:r,entityFrameId:t,currentCongestion:n});return s||(0,ne.H)({message:"Не удалось сформировать placeItem для событие для UiElement.name: showPhone (a-d67cp)",level:"error",id:"fgd7e",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ee.iF)(r.appContext.frames,t))}}),{uiElement:{name:"showPhone",ownerName:"cardContacts",frameUuid:t},action:"tap",payload:{placeItem:s}}};var Dn=r(40743),Zn=r(42833),Vn=r(63833);function Un(){const e=(0,nt.T)(),t=(0,Ie.I0)(),r=(0,Vn.N)("entity"),n=(0,Ie.v9)((e=>r?(0,Ve.C6)(r.entityId)(e):void 0)),s=(0,Bt.T)().useBssHandler($n,{userPinnedReviewId:n}),i=(0,yt.$)((()=>{r&&(s(),t(n?(0,Ye.Mw)({id:(0,$.by)(),type:"editReview",reviewId:n,entityId:r.entityId,searchId:r.searchId}):(0,Ye.Mw)({id:(0,$.by)(),type:"createReview",temporaryId:(0,$.by)(),entityId:r.entityId,searchId:r.searchId})))}));if("reviews"===(null==r?void 0:r.tab))return{type:"review",label:n?e._t("Редактировать отзыв"):e._t("Написать новый отзыв"),icon:void 0,href:void 0,onClick:i}}const $n=e=>({frameId:t},r)=>{const{userPinnedReviewId:n}=e;if(!n)return{uiElement:{name:"addReview",ownerName:"cardReviews",frameUuid:t},action:"tap"};const s=(0,Zn.Tt)({state:r,id:n}).data,i=(0,ee.iF)(r.appContext.frames,t);if(!i||!s)return;const a="entity"===i.type||"unconfirmedReviews"===i.type?i.entityId:s.object.id,o=(0,b.nM)({state:r,entityId:a}).data;return(0,Dn.h)({review:s,frameId:t,orgId:"branch"===(null==o?void 0:o.type)?o.org.id:void 0,ownerName:"cardReviews"})},Wn=(0,we.memo)((()=>{const e=[(0,Sn.k)(),(0,En.o)({isLabelShown:!0}),Un(),(0,Pn.h)(),(0,Nn.n)(),(0,hr.t)({color:Ee.O.black,isLabelShown:!0}),Bn(),(0,pr.d)({color:Ee.O.black}),(0,gr.T)({color:Ee.O.black})];return(0,n.jsx)(kn.q,{children:e.map(((e,t)=>e&&(0,n.jsx)(kn.Q,Object.assign({dataT:e.type,dataPs:Gn(e),type:qn(e.type),grow:!0,icon:e.icon,href:e.href,containerRef:"bssRef"in e?e.bssRef:void 0,onClick:e.onClick},{children:e.label}),t)))})}));function qn(e){switch(e){case"back":case"map":return"gray";case"review":case"addPhoto":case"addMenuPhoto":return"blue";default:return"whiteWithBorder"}}function Gn(e){return"bookmark"===e.type&&e.isBookmarked}const Qn=(0,we.memo)((()=>(0,Ie.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,n.jsx)(Tn,{}):(0,n.jsx)(Wn,{})));let Kn;function Jn(e,t){const{sberVisorApiKey:n}=(0,ht.Z)(),s=(0,Ie.v9)(Ve.bG).data,i=(0,we.useMemo)((()=>{var e;return null===(e=null==s?void 0:s.identities)||void 0===e?void 0:e.find((({provider:e})=>"sberid"===e))}),[s]);(0,we.useEffect)((()=>{e&&function(e,t){if(!Kn){if("undefined"==typeof window)return;r(93294),Kn=new window.SberVisor({url:"https://sve.online.sberbank.ru/metrics/partners",apiKey:e.apiKey,sberId:"3c24ddfd-eda3-4ab2-adae-6c7a7f2a351c",buffer:1,afterInit:()=>{}})}t(Kn)}({apiKey:n},(t=>{i&&(t.subId=i.provider_user_id),t.push(e)}))}),[...t,i])}const Yn=["112665","111594","47633","16677","12127","9777","9041","4480","611","562","557","544","373","366","363","360","350"],Xn=(0,we.memo)((({entityId:e})=>{var t;const r=(0,Ie.v9)((t=>{const r=(0,b.nM)({state:t,entityId:e}).data;return"branch"===(null==r?void 0:r.type)?r:void 0})),n=null===(t=null==r?void 0:r.rubrics)||void 0===t?void 0:t.find((({id:e})=>Yn.includes(e))),{defaultCountryCode:s}=(0,ht.Z)();return Jn(r&&n&&"RU"===s?{eventCategory:"Показ",eventAction:"Показ карточки организации",properties:{organizationCategory:n.name,organizationName:r.name_ex.primary}}:void 0,[e]),null}));var es=r(49765);const ts=(0,we.memo)((()=>{const e=(0,Nn.n)();return e?(0,n.jsx)(es.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,containerRef:e.bssRef,onClick:e.onClick},{children:e.label})):null})),rs=(0,we.memo)((()=>{const e=(0,Pn.h)();return e?(0,n.jsx)(es.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));class ns extends we.PureComponent{constructor(){super(...arguments),this.listenersId=(0,$.by)()}componentDidMount(){this.props.subscribeOnEvents({id:this.listenersId}),this.props.fetchData({entityId:this.props.frame.entityId,type:this.props.frame.entityType})}componentWillUnmount(){this.props.removeListeners({id:this.listenersId})}render(){const{entity:e,errorCode:t,status:r,frame:s,s:i}=this.props;return e?(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(i.root)},(0,Oe.n)("wat-entity-card"),(0,Oe.t)(e.type),{children:[(0,n.jsx)(tt.k,{statusIds:s.statusId}),(0,n.jsx)(Cn.T,Object.assign({contentScrollId:(0,xn.k)(s),fixedContentFooter:this.renderFixedFooter()},{children:this.renderContent()})),(0,n.jsx)(Xn,{entityId:e.id})]})):"error"===r?(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(i.error)},(0,Oe.n)("wat-entity-card-error"),{children:(0,n.jsx)(Qr.j,{code:t,type:"entity"})})):(0,n.jsx)(jn.P,{})}renderContent(){const{entity:e,frame:t,frameContext:r,s,bssRef:i,featureReadOnly:a}=this.props;return(0,n.jsx)(On.M.Provider,Object.assign({value:{showEventOrdinal:this.props.showEventOrdinal}},{children:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(s.entity),ref:i},{children:[(0,n.jsx)(br,{entity:e,frame:t,frameContext:r}),(0,n.jsx)(bn,{entity:e,frame:t,featureReadOnly:a})]}))}))}renderFixedFooter(){const{showAddReviewButton:e,frame:t}=this.props;return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(vt.N,{children:(0,n.jsx)(_n.U,{entityId:t.entityId,searchId:t.searchId})}),"photos"===t.tab&&(0,n.jsx)(vt.N,{children:(0,n.jsx)(rs,{})}),"menu"===t.tab&&(0,n.jsx)(vt.N,{children:(0,n.jsx)(ts,{})}),(0,n.jsx)(vt.i,{children:(0,n.jsx)(Qn,{})})]})}}ns.displayName=(0,He.I)("src/modules/entity");const ss=(0,Se.z)(wn._)((0,Ce.$)(qe,et)((0,jr.C)((({frame:e,entity:t,reviewsIntended:r,total:n,hasPinnedUserReview:s},{config:i})=>{const{meta:a,data:o}=t,c=i.featureReadOnly;if("point"===e.entityType)return{entity:{id:"__empty",type:"point",point:o&&"point"in o&&o.point||e.point,region_id:"0",segment_id:"0"},status:"success",errorCode:void 0,showAddReviewButton:!1,featureReadOnly:c};const d=r&&r.meta&&r.meta.status,l=r&&r.data&&r.data.items||[],u=!!e.tabReviews&&e.tabReviews.isOrg,p=n&&(u?n.orgCount:n.entityCount)||0;return{entity:o,status:a&&a.status,errorCode:a&&"error"===a.status?a.code:void 0,showAddReviewButton:!("reviews"!==e.tab||!s&&!In(p,l,d)),featureReadOnly:c}}))((0,_e.D2)({root:{height:"100%"},entity:{minHeight:"100%",display:"flex",flexDirection:"column"},error:{marginTop:100}})((0,ke.$)()(ns)))));var is=r(48478);class as extends we.PureComponent{render(){const{s:e}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(e.gta)},{children:[(0,n.jsx)("div",{className:(0,_e.iv)(e.gtaContent)}),(0,n.jsx)("div",{className:(0,_e.iv)(e.gtaLink)})]}))}}as.displayName=(0,He.I)("src/shared/kit/skeletons");const os={gta:{margin:8,borderRadius:ar.E0.default,overflow:"hidden"},gtaContent:{height:168,background:Ee.O.gray_f2f2f2},gtaLink:{height:40,backgroundColor:Ee.O.blue_028eff}},cs=(0,_e.D2)(os)(as);class ds extends we.PureComponent{render(){const{s:e}=this.props;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.row)},{children:(0,n.jsx)("div",{className:(0,_e.iv)(e.cityBlock)})})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.row)},{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.rubricatorWrapper)},{children:(0,n.jsx)(is.C,{})}))})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.row)},{children:(0,n.jsx)("div",{className:(0,_e.iv)(e.feedback)})})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.row)},{children:(0,n.jsx)(cs,{})}))]})}}ds.displayName=(0,He.I)("src/shared/kit/skeletons");const ls={cityBlock:{background:Ee.O.gray_929292,width:"100%",height:228},row:{marginBottom:"8px"},rubricatorWrapper:{marginTop:16,marginBottom:8,marginStart:8,marginEnd:8},feedback:{background:Ee.O.gray_929292,padding:"12px 16px",marginTop:16,marginBottom:8,marginStart:8,marginEnd:8,height:132,borderRadius:ar.E0.default}},us=(0,_e.D2)(ls)(ds);function ps(e){return"error"===e?(0,n.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,n.jsx)(Qr.j,{code:500})})):(0,n.jsx)(us,{})}const hs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.dashboard,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:ps});function gs(e){return"error"===e?(0,n.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,n.jsx)(Qr.j,{code:500})})):(0,n.jsx)("div",{})}const ms=e=>(0,n.jsx)(Te.E,{loader:Ne.H.product,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:gs}),fs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.offer,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),vs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.gallery,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});class bs extends we.PureComponent{render(){if("entity"===this.props.frame.subtype)return(0,n.jsx)(jn.P,{})}}bs.displayName=(0,He.I)("src/modules/pending");const ys=bs,xs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.directions,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),js=e=>(0,n.jsx)(Te.E,{loader:Ne.H.publicFavorites,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),ws=e=>(0,n.jsx)(Te.E,{loader:Ne.H.collection,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Is=e=>(0,n.jsx)(Te.E,{loader:Ne.H.direction,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Cs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.prices,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Os=e=>(0,n.jsx)(Te.E,{loader:Ne.H.rubricator,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),_s=e=>(0,n.jsx)(Te.E,{loader:Ne.H.rubric,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),ks=e=>(0,n.jsx)(Te.E,{loader:Ne.H.userProfile,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var Ss=r(26125),Ms=r(34922),Ts=r(193),Ns=r(17442);const Ps=(0,we.memo)((()=>{const e=(0,Ns.T)(),{s:t,css:r}=(0,rt.y)(Es);return(0,n.jsx)(Ts.s,{title:e._gg("Что-то пошло не так"),message:e._gg("Чтобы оставить отзыв, найдите компанию по названию или адресу через строку поиска"),code:500,additionalContent:(0,n.jsxs)("div",Object.assign({className:r(t.logos)},{children:[(0,n.jsx)(Ss.x,{height:20}),(0,n.jsx)(Ms.Z,{height:20})]}))})})),Es=(0,rt.k)({logos:{marginTop:40,display:"flex",alignItems:"center",justifyContent:"center"}}),Ls=({frame:e,frameContext:t})=>{const{code:r,subtype:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(pt.v,{frame:e,frameContext:t}),(0,n.jsx)("div",Object.assign({style:{paddingTop:44}},{children:"sbol-review"===s?(0,n.jsx)(Ps,{}):(0,n.jsx)(Qr.j,{code:r,type:s})}))]})},zs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.unconfirmedReviews,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Rs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.currentReview,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Fs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.tUgcCard,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Hs=we.memo((e=>(0,n.jsx)(Pe.u,Object.assign({sidebar:(0,n.jsx)("div",{}),areFiltersOpened:e.areFiltersOpened},{children:(0,n.jsx)(Xr.N,{squareLogo:e.squareLogo,logoSize:e.logoSize})}))));Hs.displayName="SearchSkeleton";const Bs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.realty,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:As(e.frameContext.areFiltersOpened)}),As=e=>t=>"loading"===t?(0,n.jsx)(Hs,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,n.jsx)(Qr.j,{code:500}),Ds=e=>(0,n.jsx)(Te.E,{loader:Ne.H.realtyCard,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:Zs}),Zs=e=>"loading"===e?(0,n.jsx)(jn.P,{}):(0,n.jsx)(Qr.j,{code:500}),Vs=e=>(0,n.jsx)(Te.E,{loader:Ne.H.achievementsFrame,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Us=e=>(0,n.jsx)(Te.E,{loader:Ne.H.userFriendsActivity,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var $s=r(66944);const Ws=e=>(0,n.jsx)(Te.E,{loader:Ne.H.exchange,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:qs(e.frameContext.areFiltersOpened)}),qs=e=>t=>"loading"===t?(0,n.jsx)(Hs,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,n.jsx)(Qr.j,{code:500});var Gs=r(63025);const Qs=(0,we.memo)((({frame:e,frameContext:t})=>{const r=(0,Ie.v9)(Q.O),{data:s,isFetching:i,error:a}=(0,gn.VP)({branchId:e.entityId,locale:r}),o=(0,we.useMemo)((()=>(0,Gs.s)({data:s,isFetching:i,error:a})),[a,i,s]);return(0,n.jsx)(vs,{frame:e,frameContext:t,photos:o,isMenuPhoto:!0})})),Ks=e=>(0,n.jsx)(Te.E,{loader:Ne.H.galleryAlbum,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});class Js extends we.PureComponent{constructor(){super(...arguments),this.state={errorMessage:"",error:""}}render(){const e=this.props.s,t="entity"===this.props.frame.type?this.props.frame.entityType:this.props.frame.type;return(0,we.createElement)("div",Object.assign({className:(0,je.iv)(e.frame)},Oe.Z({n:"wat-frame",t}),{ref:this.props.bssRef,key:this.props.frame.id}),this.renderContent())}componentDidCatch(e,t){if(this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`}),e===Te.t)return;const r=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",n=e.stack&&-1!==e.stack.indexOf("removeChild")?e.stack.replace("Error: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","removeChild").replace(/https:\/\/d-assets\.2gis\.ru/g,"assets").replace(/vendor/g,"v"):e.stack;(0,ne.H)({message:r,level:"fatal",id:"m8bkw",payload:{type:"exception",subtype:"FrameRenderFailed",stack:n}})}renderContent(){if(this.state.error)return(0,n.jsxs)("div",Object.assign({style:{padding:"16px"}},Oe.Z({n:"wat-error-frame",v:this.state.errorMessage}),{children:[(0,n.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,n.jsx)(Qr.j,{code:500})})),(0,n.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,n.jsx)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:`Session id: ${this.props.config.sessionId}\n            User id: ${this.props.config.userId}\n            ${this.state.error}`}))]}));switch(this.props.frame.type){case"gallery":return this.props.config.featureAlbumsCounts?(0,n.jsx)(Ks,{frame:this.props.frame,frameContext:this.props.frameContext,isMenuPhoto:"menu"===this.props.frame.entityType}):"menu"===this.props.frame.entityType?(0,n.jsx)(Qs,{frame:this.props.frame,frameContext:this.props.frameContext}):(0,n.jsx)(vs,{frame:this.props.frame,frameContext:this.props.frameContext});case"dashboard":return(0,n.jsx)(hs,{frame:this.props.frame,frameContext:this.props.frameContext});case"search":return(0,n.jsx)(Re,{frame:this.props.frame,frameContext:this.props.frameContext});case"directions":return(0,n.jsx)(xs,{frame:this.props.frame,frameContext:this.props.frameContext});case"direction":return(0,n.jsx)(Is,{frame:this.props.frame});case"entity":return(0,n.jsx)(ss,{frame:this.props.frame,frameContext:this.props.frameContext});case"product":return(0,n.jsx)(ms,{frame:this.props.frame,frameContext:this.props.frameContext});case"offer":return(0,n.jsx)(fs,{frame:this.props.frame});case"pending":return(0,n.jsx)(ys,{frame:this.props.frame});case"publicFavorites":return(0,n.jsx)(js,{frame:this.props.frame,frameContext:this.props.frameContext});case"collection":return(0,n.jsx)(ws,{frame:this.props.frame,frameContext:this.props.frameContext});case"prices":return(0,n.jsx)(Cs,{frame:this.props.frame});case"rubricator":return(0,n.jsx)(Os,{frame:this.props.frame,frameContext:this.props.frameContext});case"rubric":return(0,n.jsx)(_s,{frame:this.props.frame,frameContext:this.props.frameContext});case"userProfile":return(0,n.jsx)(ks,{frame:this.props.frame});case"unconfirmedReviews":return(0,n.jsx)(zs,{frame:this.props.frame});case"currentReview":return(0,n.jsx)(Rs,{frame:this.props.frame});case"tUgc":return(0,n.jsx)(Fs,{frame:this.props.frame});case"error":return(0,n.jsx)(Ls,{frame:this.props.frame,frameContext:this.props.frameContext});case"realty":return(0,n.jsx)(Bs,{frame:this.props.frame,frameContext:this.props.frameContext});case"realtyCard":return(0,n.jsx)(Ds,{frame:this.props.frame});case"exchange":return(0,n.jsx)(Ws,{frame:this.props.frame,frameContext:this.props.frameContext});case"achievements":return(0,n.jsx)(Vs,{frame:this.props.frame});case"userFriendsActivity":return(0,n.jsx)(Us,{frame:this.props.frame})}}}const Ys=(0,Se.z)(((e,t)=>(0,Me.x)({state:t,frame:e.frame})))((0,_e.D2)({frame:{background:"#fff",flex:"1 1 100%",height:"100%",overflowX:"hidden",overflowY:"auto"}})((0,ke.$)()((0,$s.R)()(Js))));var Xs=r(58688),ei=r(83540);const ti=e=>(0,n.jsx)(Te.E,{loader:Ne.H.suggestList,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var ri=r(21515),ni=r(53904);const si=(0,Be.P1)([({state:e})=>(0,ni.eq)(e,"primary"),({state:e})=>{var t,r;return null===(r=null===(t=(0,g.kG)(e))||void 0===t?void 0:t.data)||void 0===r?void 0:r.countryCode},({state:e})=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.text}],((e,t,r)=>({suggest:e,countryCode:t,newYearPlaceholder:r})));var ii=r(44539),ai=r(56087),oi=r(10807),ci=r(32387),di=r(98402);const li="primary",ui=(0,T.gQ)("handleInput",(({query:e})=>(0,T.vP)((0,ai.xU)({suggesterKey:li,query:e}),(0,ai.r4)({suggesterKey:li,index:void 0}),(0,ii.p_)({suggesterKey:li,show:!0}),(0,ii.XC)()))),pi=(0,T.gQ)("handleSubmit",(({frameId:e})=>(0,di.$)((({tp:t})=>(0,G.gF)({suggest:e=>(0,ni.eq)(e,li),primarySuggestions:e=>(0,ni.iE)(e),featureRealty:e=>e.config.featureRealty},(({suggest:r,primarySuggestions:n,featureRealty:s})=>{if(!r||!r.query)return(0,T.ZT)();const i=s&&n?(0,ci.r)(n,t):n?[...n]:[],{highlightedIndex:a,query:o}=r;if(void 0!==a){const t=i[a];if(t)return(0,ii.en)({suggestion:t,query:o,pickedIndex:a,frameId:e,suggestions:i||[]})}return o?(0,T.vP)((0,oi.vc)({query:o,frameId:e}),(0,ii.p_)({suggesterKey:li,show:!1}),(0,ii._m)({query:o})):(0,T.ZT)()})))))),hi="primary",gi=(0,Ae.Z3)(((e,t)=>({handleInput(t){e(ui({query:t}))},handleSubmit(){e(pi({frameId:t.frame.id}))},handleInputClick(t){e((0,ii.ff)({query:t,suggesterKey:hi}))},handleNavigation(t){e((0,ii.$N)({suggesterKey:hi,keyCode:t}))}})));var mi=r(59971),fi=r(28515);function vi(e){switch(e.type){case"search":return"inbuilding"===e.searchType?e.parentSearchQuery:e.query;case"entity":case"product":return e.query}}class bi extends we.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.handleInput(e),this.props.bssSearchBarInput({query:e})},this.handleKeyUp=e=>{e.stopPropagation()},this.handleKeyDown=e=>{if(e.stopPropagation(),[fi.HI,fi.P9,fi.O_].indexOf(e.keyCode)>-1)return e.preventDefault(),void(this.props.suggest&&this.props.suggest.show&&this.props.handleNavigation(e.keyCode));e.keyCode,fi.q7},this.handleSubmit=e=>{var t;e.preventDefault(),this.props.isMobileDevice&&this.props.inputRef&&(null===(t=this.props.inputRef.current)||void 0===t||t.blur()),this.props.handleSubmit()},this.handleClick=()=>{this.props.handleInputClick(this.props.query||""),this.props.bssSearchBarTap()},this.onClear=()=>{this.props.bssClearSearchBarTap()}}render(){var e;const{query:t,autoFocus:r,lightText:s,inputRef:i,withH1Header:a,placeholder:o}=this.props;return(0,n.jsx)("form",Object.assign({onSubmit:this.handleSubmit},{children:(0,n.jsx)(mi.M,{placeholder:o,value:t||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,autoFocus:r,lightText:s,onClick:this.handleClick,onClear:this.onClear,inputRef:i,displayH1Header:a,showHamburger:!(null===(e=this.props.suggest)||void 0===e?void 0:e.show)})}))}}bi.displayName=(0,He.I)("src/modules/searchBar/containers/suggestInput");const yi=(0,ke.$)()((0,Se.z)(void 0,((e,t)=>({bssSearchBarInput({query:r}){e((0,wt.zs)({uiElement:{name:"searchBar",ownerName:"searchBarWrapper",frameUuid:t.ownerFrameId},action:"textInput",payload:{searchRequest:{text:r}}}))},bssSearchBarTap(){const r=(0,Me.E)(t.frame);e((0,wt.zs)({uiElement:{name:"searchBar",ownerName:r,frameUuid:t.ownerFrameId},action:"tap"}))},bssClearSearchBarTap(){e((0,wt.zs)({uiElement:{name:"clear",ownerName:"searchBar",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,Ie.$j)(((e,t)=>si({state:e,props:t})),gi)((0,jr.C)((({suggest:e,countryCode:t,frame:r,customPlaceholder:n,newYearPlaceholder:s},{config:i,tp:a})=>{const o=r&&vi(r),c=a._pt("Поиск в 2ГИС","Поиск в %1",[i.brandName]),d=n||("ru"===t&&i.featureNewYear?s:c);return{query:(e&&void 0!==e.query?e.query:o)||"",placeholder:d,isMobileDevice:i.isMobileDevice}}))(bi))));var xi=r(25636),ji=r(76349),wi=r(18975);const Ii="primary",Ci=["tree","bag","hat","sock","toy","mandarins"],Oi=((0,T.gQ)("getNewYearRandomSearchBarDecor",(()=>(0,T.Rh)((({featureNewYear:e})=>e?(0,di.$)((({tp:e})=>{const t=(new Date).getFullYear(),r=[e._gg("Мы тоже ждём 2023"),e._gg("Новый год к нам мчится!")],n=[e._gg("Мы дождались 2023!")];let s=[e._gg("3-я ул. Строителей, 25, кв.12"),e._gg("Если снежинка не растает"),e._gg("Загадайте желание")];return s=2023!==t?[...s,...r]:[...s,...n],(0,J.yy)({newYearPlaceholder:{text:s[Math.floor(Math.random()*s.length)],iconType:Ci[Math.floor(Math.random()*Ci.length)]}})})):(0,T.ZT)())))),{framesLength:e=>e.appContext.frames.length,isDataViewerMinimized:e=>e.appContext.isDataViewerMinimized||!1,suggest:e=>(0,ni.eq)(e,"primary")}),_i={subscribeOnPopState:e=>(0,F.Oo)({id:e,type:"window:popstate",handler:()=>(0,ai.p_)({suggesterKey:Ii,show:!1})}),unsubscribeOnPopState:e=>(0,F.xg)({id:e}),hideSuggest:()=>(0,ai.p_)({suggesterKey:Ii,show:!1}),handleLogoClick:H.kn,closeLastFrame:H.yt};class ki extends we.PureComponent{constructor(){super(...arguments),this.state={isDataViewerMinimized:this.props.isDataViewerMinimized,forceFocus:!1},this.popStateListenerId=(0,$.by)(),this.inputRef=we.createRef(),this.closeSuggest=()=>{this.props.showSuggest&&this.props.hideSuggest()},this.handleBackClick=()=>{var e;const{config:{isMobileDevice:t}}=this.props;this.props.showSuggest&&(t&&(null===(e=this.inputRef.current)||void 0===e||e.blur()),this.props.hideSuggest())},this.handleLogoClick=()=>{this.props.handleLogoClick()},this.handleBlur=()=>{this.props.hideSuggest()}}static getDerivedStateFromProps(e,t){return e.autoFocus&&!e.isDataViewerMinimized&&t.isDataViewerMinimized?Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!0}):Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!1})}componentDidMount(){this.props.subscribeOnPopState(this.popStateListenerId)}componentWillUnmount(){this.props.unsubscribeOnPopState(this.popStateListenerId)}componentDidUpdate(){this.state.forceFocus&&this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}render(){const{frame:e,showSuggest:t,autoFocus:r,isInputWithH1Header:s,wrapperHeight:i,showBackButton:a,showBorder:o,s:c}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(c.root),style:{height:i}},Oe.dx.n("wat-search-bar-wrapper"),Oe.dx.t(e.type),{children:(0,n.jsxs)(xi.B,Object.assign({onBlur:this.handleBlur,initialFocus:r},{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(c.focusController)},{children:(0,n.jsx)(ei.k,Object.assign({showBackButton:a,showLogo:!a,showBorder:o,handleBackClick:this.handleBackClick,handleLogoClick:this.handleLogoClick},{children:(0,n.jsx)(yi,{frame:e,autoFocus:r,inputRef:this.inputRef,withH1Header:s})}))})),t&&(0,n.jsx)(ri.r,Object.assign({onBackgroundClick:this.closeSuggest,stretchContent:!0},{children:(0,n.jsx)(ti,{frame:e,inputRef:this.inputRef})}))]}))}))}}const Si=(0,wi.G)({selectors:Oi,handlers:_i})((0,$s.R)()((0,jr.C)(((e,{config:t})=>{const{frame:r,frameContext:n,isDataViewerMinimized:s,framesLength:i,suggest:a}=e,o=(0,ji.K)(r,n,t);if(!o)return;const c=!(!a||!a.show);return{wrapperHeight:o,autoFocus:!t.isMobileDevice&&!s&&0===i,isInputWithH1Header:"search"===r.type&&"query"===r.searchType&&1===i,showSuggest:c,showBackButton:c,showBorder:!c}}))((0,_e.D2)((({mobile:e})=>({root:{paddingTop:16,margin:e?"0 12px":"0 16px",pointerEvents:"auto",boxSizing:"border-box"},focusController:{position:"relative",zIndex:ar.W5.top},promo:{paddingTop:16,paddingBottom:0,paddingStart:12,paddingEnd:12}})))(ki))));var Mi=r(88944),Ti=r(341),Ni=r(387);class Pi extends we.PureComponent{constructor(){super(...arguments),this.state={doNotRender:"undefined"!=typeof window&&!window.isServerRendered,isActive:!!this.props.frameContext&&this.props.frameContext.isRightMost}}componentDidMount(){this.props.fadeInWithoutDelay?this.setState({doNotRender:!1}):this.fadeInTimer=window.setTimeout((()=>this.setState({doNotRender:!1})),Gt.l.long)}componentDidUpdate(){const{frameContext:e}=this.props;e&&e.isRightMost!==this.state.isActive&&(e.isRightMost?this.stylesTimer=window.setTimeout((()=>{this.setState({isActive:e.isRightMost}),this.stylesTimer=void 0}),Gt.l.long):this.setState({isActive:!1}))}componentWillUnmount(){this.fadeInTimer&&window.clearTimeout(this.fadeInTimer),this.stylesTimer&&window.clearTimeout(this.stylesTimer)}render(){const{frameWidth:e,frameContext:t,children:r,s}=this.props;if(!t)return null;const{isActive:i}=this.state;return(0,n.jsx)("div",Object.assign({className:(0,je.iv)(s.panel,this.state.doNotRender&&s._fadedOut),style:{width:e}},{children:!this.state.doNotRender&&(0,n.jsx)("div",Object.assign({className:(0,je.iv)(s.content,i?s._highlighted:s._regular)},{children:r({frameContext:t})}))}))}}const Ei={panel:{width:"352px",minWidth:"352px",height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:`opacity ${Gt.l.short}ms`,opacity:1,zIndex:1},content:{height:"100%"},_regular:{":before":{content:'""',position:"absolute",start:"-1px",top:"0",bottom:"0",width:"1px",height:"100%",background:(0,Qt.j)(Ee.O.black,.1)},":after":{content:'""',position:"absolute",top:"0",end:"-1px",bottom:"0",width:"1px",height:"100%",background:(0,Qt.j)(Ee.O.black,.1)}},_highlighted:{boxShadow:Mi.q.outerLeft},_fadedOut:{opacity:0}},Li=(0,Ie.$j)((()=>{const e=(0,Ti.b)(),t=(0,Be.P1)([({props:t,state:r})=>e({state:r,frameId:t.frameId}),({state:e,props:t})=>(0,Ni.L)(t.frameId)(e)],((e,t)=>({frameContext:e,frameWidth:t})));return(0,Ae.X1)(((e,r)=>t({state:e,props:r})))}))((0,_e.D2)(Ei)(Pi));var zi=r(3590),Ri=r(10484);const Fi={container:{cursor:"pointer",background:"rgba(255, 255, 255, .85)",width:"24px",height:"24px",padding:"8px 0",borderRadius:`logical ${ar.E0.default} 0 0 ${ar.E0.default}`,textAlign:"center",boxShadow:Mi.q.popup,color:Ee.O.gray_262626}};function Hi(e){switch(e){case"minimize":return(0,n.jsx)(Ri.E,{direction:"start"});case"maximize":return(0,n.jsx)(Ri.E,{direction:"end"});default:return(0,n.jsx)(zi.x,{})}}const Bi=(0,_e.D2)(Fi)((function(e){const{type:t,onClick:r,s}=e;return(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-ear"),{className:(0,je.iv)(s.container),onClick:r},{children:Hi(t)}))}));class Ai extends we.PureComponent{render(){const{width:e,children:t,s:r}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,je.iv)(r.root),style:{width:e}},{children:[(0,n.jsx)("div",{className:(0,je.iv)(r.bg)}),(0,n.jsx)("div",Object.assign({className:(0,je.iv)(r.children)},{children:t}))]}))}}const Di={root:{position:"absolute",top:0,start:0,bottom:0,zIndex:ar.W5.base},bg:{width:"100%",height:"100%",position:"relative",background:Ee.O.white,boxShadow:Mi.q.outerRight,zIndex:ar.W5.base},children:{position:"absolute",top:"16px",end:"-24px",zIndex:ar.W5.bottom}},Zi=(0,_e.D2)(Di)(Ai);var Vi=r(52781);const Ui=$i;function $i({frames:e,isMinimized:t,dataViewerWidth:r},{config:{rtl:n}}){let s="none";return t&&(s=n?`translate3d(${r}px, 0, 0)`:`translate3d(-${r}px, 0, 0)`),{arrowEarType:t?"maximize":"minimize",showCloseEar:!(e[0]&&"dashboard"===e[0].type),showArrowEar:!0,transform:s}}var Wi=r(66381),qi=r(87741),Gi=r(63682);var Qi=r(36459);const Ki=(0,T.gQ)("openDesktopPromoPopup",(()=>(0,Ye.Mw)({type:"desktopPromo",id:(0,$.by)()}))),Ji=(0,we.memo)((()=>{const{experiments:e}=(0,ht.Z)(),t=(0,Qi.c)("desktopPromo",e),r="overcastMouse"===t||"overcastMouseBc"===t,n=(0,Ie.v9)((e=>e.appContext.weak.wasBc)),[s,i]=(0,we.useState)(!1),a=(0,Ie.I0)();return(0,we.useEffect)((()=>{if(s||!r||"overcastMouseBc"===t&&!n)return;const e=e=>{e.clientY>.1*window.innerHeight||(a(Ki()),i(!0))};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[s,n,r,t,a]),null}));class Yi extends we.PureComponent{constructor(){super(...arguments),this.prevFrames=[],this.handleMinimizeClick=()=>{const{frames:e,isMinimized:t,bssOnMinimizeClick:r,handleMinimizeClick:n}=this.props;r(e,t),n()}}UNSAFE_componentWillReceiveProps(){this.prevFrames=this.props.frames.slice().reverse()}componentDidUpdate(){this.props.isMinimized&&function(e,t){if(e.length!==t.length)return!0;for(let r=0;r<e.length;r++)if(e[r].id!==t[r].id)return!0;return!1}(this.prevFrames,this.props.frames.slice().reverse())&&this.props.unMinimize()}render(){const{frames:e,isMinimized:t,s:r,dataViewerWidth:s,transform:i,config:a,isFullBannerDisplayed:o}=this.props;return o?null:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(r.root,t&&r._minimized),style:{transform:i,pointerEvents:t?"none":"all"}},{children:[(0,n.jsx)(Zi,Object.assign({width:s},{children:this.renderEars()})),(0,n.jsx)("div",Object.assign({style:{display:"flex",height:"100%",overflow:"hidden",width:`${s}px`}},{children:e.slice().reverse().map(((e,t)=>{return(0,n.jsx)(Li,Object.assign({frameId:e.id,fadeInWithoutDelay:this.prevFrames[t]&&(r=e,s=this.prevFrames[t],"search"===r.type&&"search"===s.type?r.searchType===s.searchType:r.type===s.type)},{children:({frameContext:t})=>(0,n.jsxs)(Xs.j.Provider,Object.assign({value:{frameId:e.id}},{children:[(0,Gi.U)(e,t,a)&&(0,n.jsx)("div",Object.assign({style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:ar.W5.top}},{children:(0,n.jsx)(Si,{frame:e,frameContext:t})})),(0,n.jsx)("div",Object.assign({style:{position:"relative",zIndex:ar.W5.base,height:"100%"}},{children:(0,n.jsx)(Ys,{frame:e,frameContext:t})}))]}))}),e.id);var r,s}))})),(0,n.jsx)(Ji,{})]}))}renderEars(){const{showArrowEar:e,showCloseEar:t,arrowEarType:r}=this.props;if(e||t)return(0,n.jsxs)("div",{children:[t&&(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-close-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,n.jsx)(Bi,{type:"close",onClick:this.props.handleCloseClick})})),e&&(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-minimize-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,n.jsx)(Bi,{type:r,onClick:this.handleMinimizeClick})}))]})}}Yi.displayName=(0,He.I)("src/modules/dataViewer");const Xi={root:{height:"100%",display:"flex",position:"absolute",transition:`transform ${Gt.l.short}ms`,zIndex:ar.W5.base},_minimized:{"@media print":{display:"none !important"}}},ea=(0,Se.z)(void 0,(e=>({bssOnMinimizeClick(t,r){if(!t[0])return;const n={action:"tap",uiElement:{name:r?"expandArrow":"collapseArrow",ownerName:(0,Me.E)(t[0]),frameUuid:t[0].id}};return e((0,wt.zs)(n))}})))((0,Ce.$)((e=>({frames:(0,Wi.T)(e),dataViewerWidth:(0,qi.w)(e),isMinimized:e.appContext.isDataViewerMinimized,isFullBannerDisplayed:!!e.appContext.weak.fullScreenBanner})),((e,t)=>({handleCloseClick(){e((0,H.yt)())},handleMinimizeClick(){e((0,Vi.kG)({isMinimized:!t.isMinimized}))},unMinimize(){e((0,Vi.kG)({isMinimized:!1}))}})))((0,jr.C)(Ui)((0,$s.R)()((0,_e.D2)(Xi)(Yi))))),ta=(0,Be.P1)([({state:e})=>e.appContext.zoom,({state:e})=>(0,g.kL)(e),({state:e})=>e.session.is3dEnabled],((e,t,r)=>({zoom:e,projectData:t,is3d:r}))),ra=(0,Ae.X1)(((e,t)=>ta({state:e,props:t})));var na=r(59682);const sa=(0,Ae.Z3)((e=>({onZoomChange:t=>e((0,T.vP)((0,na.$x)({zoom:t}),(0,T.xJ)((e=>(0,F.Kn)({type:"map:moveend",event:{center:[e.appContext.center.lon,e.appContext.center.lat],zoom:t,rotation:e.appContext.rotation,pitch:e.appContext.pitch}})))))})));var ia=r(29853);var aa=r(84640);function oa({color:e="currentColor",width:t=32,height:r=32}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:t,height:r},{children:(0,n.jsx)("path",{d:"M8 15h16v2H8z"})}))}var ca=r(36968),da=r(58894),la=r(6499);const ua=e=>{const{title:t,to:r,children:s,delay:i,offset:a,fixedWidth:o,isNowraped:c}=e,{ref:d,addTooltip:l}=(0,la.l)({title:t,to:r,delay:i,offset:a,fixedWidth:o,isNowraped:c});return(0,n.jsxs)(n.Fragment,{children:[s(d),l]})};class pa extends we.Component{constructor(){super(...arguments),this.step=1,this.onZoomInClick=()=>{const{zoom:e,onZoomChange:t,maxZoom:r}=this.props,n=e+this.step;t(n>r?r:n)},this.onZoomOutClick=()=>{const{zoom:e,onZoomChange:t,minZoom:r}=this.props,n=e-this.step;t(n<r?r:n)}}render(){const{zoom:e,maxZoom:t,minZoom:r,i18n:{tp:s}}=this.props,i=s._t("Изменить масштаб");return(0,n.jsx)(ua,Object.assign({title:i,to:"centerStart"},{children:s=>(0,n.jsxs)(ca.Z,Object.assign({isVertical:!0,innerRef:s},{children:[(0,n.jsx)(da.o,Object.assign({onClick:this.onZoomInClick,dataT:"zoom-in",disabled:e>=t,ariaLabel:i},{children:(0,n.jsx)(aa.X,{})})),(0,n.jsx)(da.o,Object.assign({onClick:this.onZoomOutClick,dataT:"zoom-out",disabled:e<=r,ariaLabel:i},{children:(0,n.jsx)(oa,{})}))]}))}))}}pa.displayName=(0,He.I)("src/modules/controls/containers/zoom");const ha=(0,Ae.$j)(ra,sa)((0,jr.C)((({projectData:e,is3d:t,zoom:r})=>{const n=(0,ia.d)({project:e,is3d:t});return{zoom:r,minZoom:n.min,maxZoom:n.max}}))((0,ke.$)()(pa)));class ga extends we.PureComponent{constructor(){super(...arguments),this.beforeMoveState=void 0,this.onChangeStartHandler=e=>{this.bindHandlers(),this.beforeMoveState={x:e.clientX,y:e.clientY},this.props.onChangeStart&&this.props.onChangeStart(e)},this.onChangeHandler=(0,$.P2)((e=>{this.beforeMoveState&&this.props.onChange&&this.props.onChange({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})}),1e3/60),this.onChangeEndHandler=e=>{this.unbindHandlers(),this.beforeMoveState&&this.props.onChangeEnd&&this.props.onChangeEnd({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})},this.unbindHandlers=()=>{window.removeEventListener("mouseup",this.onChangeEndHandler),window.removeEventListener("mousemove",this.onChangeHandler)},this.bindHandlers=()=>{window.addEventListener("mouseup",this.onChangeEndHandler),window.addEventListener("mousemove",this.onChangeHandler)}}render(){const{children:e,dataN:t}=this.props;return(0,n.jsx)("div",Object.assign({onMouseDown:this.onChangeStartHandler},t?Oe.dx.n(t):{},{children:e}))}componentWillUnmount(){this.unbindHandlers()}}ga.displayName=(0,He.I)("src/shared/kit/mouseMoveHandler");const ma=ga,fa=(0,Be.P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),va=(0,Ae.X1)(((e,t)=>fa({state:e,props:t})));var ba=r(40673),ya=r(23487);const xa=(0,Ae.Z3)((e=>({onCenterClick({pitch:t}){const r=(0,ya.q)(t);e((0,ba.xN)({pitch:r?0:45,duration:2e3,animate:!0,zoom:r?void 0:17,rotation:0}))},onRingRotate({rotation:t}){e((0,ba.xN)({rotation:t}))},pushToHistory(){e((0,E.BN)())},toggle3d(){e((0,G._N)((e=>e.session.is3dEnabled),(e=>(0,P.Tj)({is3dEnabled:!e}))))}})));function ja({disabled:e=!1}){return(0,n.jsxs)("svg",Object.assign({width:"58",height:"58",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("path",{d:"M26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 Z M26,42 C34.836556,42 42,34.836556 42,26 C42,17.163444 34.836556,10 26,10 C17.163444,10 10,17.163444 10,26 C10,34.836556 17.163444,42 26,42 Z",id:"path-1"}),(0,n.jsxs)("filter",Object.assign({x:"-8.7%",y:"-8.7%",width:"117.3%",height:"117.3%",filterUnits:"objectBoundingBox",id:"filter-2"},{children:[(0,n.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608   0 0 0 0 0.149019608   0 0 0 0 0.149019608  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})]})),(0,n.jsxs)("linearGradient",Object.assign({x1:"50%",y1:"81.6633181%",x2:"50%",y2:"0%",id:"linearGradient-3"},{children:[(0,n.jsx)("stop",{stopColor:"#E33B1E",offset:"0%"}),(0,n.jsx)("stop",{stopColor:"#F7561B",offset:"100%"})]}))]}),(0,n.jsx)("g",Object.assign({id:"Map-Controls",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},{children:(0,n.jsx)("g",Object.assign({id:"2gis5-map-controls-elements",transform:"translate(-317.000000, -901.000000)"},{children:(0,n.jsx)("g",Object.assign({id:"Group-2-Copy-7",transform:"translate(320.000000, 904.000000)"},{children:(0,n.jsxs)("g",Object.assign({id:"outer-ring"},{children:[(0,n.jsxs)("g",Object.assign({id:"Combined-Shape"},{children:[(0,n.jsx)("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1"}),(0,n.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})]})),(0,n.jsx)("rect",{id:"Rectangle-13",fill:"#E6E6E6",x:"45",y:"24",width:"4",height:"4",rx:"2"}),(0,n.jsx)("rect",{id:"Rectangle-13-Copy-2",fill:"#E6E6E6",x:"3",y:"24",width:"4",height:"4",rx:"2"}),(0,n.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"#000000",points:"29 44 26 50 23 44"}),(0,n.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"url(#linearGradient-3)",points:"29 8 23 8 26 2"})]}))}))}))}))]}))}function wa({color:e="currentColor",fill:t="#FFFFFF"}){return(0,n.jsxs)("svg",Object.assign({width:"38",height:"38",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("circle",{id:"rotate-inner-ring-b",cx:"16",cy:"16",r:"16"}),(0,n.jsxs)("filter",Object.assign({x:"-14.1%",y:"-14.1%",width:"128.1%",height:"128.1%",filterUnits:"objectBoundingBox",id:"rotate-inner-ring-a"},{children:[(0,n.jsx)("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}))]}),(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsxs)("g",Object.assign({transform:"translate(3 3)"},{children:[(0,n.jsx)("use",{fill:"#000",filter:"url(#rotate-inner-ring-a)",xlinkHref:"#rotate-inner-ring-b"}),(0,n.jsx)("use",{style:{fill:t,transition:"fill .25s linear"},xlinkHref:"#rotate-inner-ring-b"})]})),(0,n.jsx)("path",{d:"M15.759 21.144c0-1.19-1.106-1.666-2.548-1.666h-.406v-1.512h.336c1.456 0 2.366-.532 2.366-1.484 0-.882-.77-1.358-1.61-1.358-1.162 0-1.904.742-2.002 1.792h-1.834c.224-2.016 1.624-3.248 3.948-3.248 1.694 0 3.444.812 3.444 2.73 0 .98-.602 1.806-1.372 2.226a2.656 2.656 0 0 1 1.638 2.464c0 2.058-1.778 3.094-3.92 3.094-2.324 0-3.696-1.512-3.822-3.374h1.82c.14 1.022.798 1.918 2.058 1.918 1.05 0 1.904-.63 1.904-1.582zm6.426-7.294c3.22 0 5.642 1.05 5.642 5.068 0 4.032-2.422 5.082-5.642 5.082h-3.01V13.85h3.01zm-.084 1.568h-.924v7.014h.924c1.848 0 3.654-.462 3.654-3.514 0-3.038-1.806-3.5-3.654-3.5z",style:{fill:e,transition:"fill .25s linear"}})]}))]}))}var Ia=r(16217);var Ca=r(52792);class Oa extends we.PureComponent{constructor(){super(...arguments),this.state={isHoverOnClickableInner:!1,isRotationInProgress:!1},this.rotationState=void 0,this.renderControl=e=>{const{pitch:t,s:r}=this.props,s=this.setColors();return(0,n.jsxs)("div",Object.assign({ref:e,className:(0,_e.iv)(r.root),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.inner),style:{transform:`rotateX(${t}deg)`}},{children:(0,n.jsx)(wa,{color:s.color,fill:s.fill})})),this.renderOuterRing(),(0,n.jsx)("div",{className:(0,_e.iv)(r.clickableInner),onClick:this.handleCenterClick,onMouseEnter:this.onClickableInnerMouseEnter,onMouseLeave:this.onClickableInnerMouseLeave})]}))},this.onMouseEnter=()=>{this.props.hoverableHandlers.onMouseEnter()},this.onMouseLeave=()=>{this.props.hoverableHandlers.onMouseLeave(),this.state.isHoverOnClickableInner&&this.setState({isHoverOnClickableInner:!1})},this.onClickableInnerMouseEnter=()=>{this.setState({isHoverOnClickableInner:!0})},this.onClickableInnerMouseLeave=()=>{this.setState({isHoverOnClickableInner:!1})},this.setColors=()=>{const{isHoverOnClickableInner:e}=this.state,{pitch:t}=this.props;if(e)return{color:(0,Qt.j)(Ee.O.white,.7),fill:Ee.O.blue_028eff};return(0,ya.q)(t)?{color:Ee.O.white,fill:Ee.O.blue_028eff}:{color:Ee.O.gray_262626,fill:Ee.O.white}},this.onRotationStart=e=>{const t=e.currentTarget.children.item(0);if(t){const{left:r,width:n}=t.getBoundingClientRect(),s=e.clientX-r<=n/2?1:-1;this.rotationState={initialRotation:this.props.rotation,sign:s},this.setState({isRotationInProgress:!0})}},this.onRotationEnd=({y:e})=>{if(!this.rotationState)return;const{rotation:t,onRingRotate:r}=this.props;0!==t&&0===e&&r({rotation:0}),this.rotationState=void 0,this.props.pushToHistory(),this.setState({isRotationInProgress:!1})},this.rotate=({y:e})=>{if(!this.rotationState)return;const t=180*e/(window.innerHeight/3),r=Math.round(this.rotationState.initialRotation+this.rotationState.sign*t)%360;this.props.onRingRotate({rotation:r})},this.handleCenterClick=e=>{const{is3d:t}=this.props;return this.props.bssOn3dControlClick(),t?t&&0===e.button&&e.altKey?((0,Ca.J)("is3dDisabled","1"),this.props.toggle3d(),void location.reload()):void this.props.onCenterClick({rotation:this.props.rotation,pitch:this.props.pitch}):((0,Ca.J)("is3dDisabled",void 0),this.props.toggle3d(),void location.reload())}}render(){const{i18n:e,is3d:t,s:r}=this.props,{isRotationInProgress:s}=this.state;return t?s?this.renderControl():(0,n.jsx)(ua,Object.assign({title:e.tp._t("Чтобы вращать карту, зажимайте Ctrl вместе с кнопкой мыши и двигайте курсор"),to:"centerStart",offset:12,fixedWidth:273},{children:e=>this.renderControl(e)})):(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(r.root),onClick:this.handleCenterClick},{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.inner)},{children:(0,n.jsx)(wa,{color:Ee.O.gray_929292,fill:Ee.O.gray_f2f2f2})})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.ring)},{children:(0,n.jsx)(ja,{disabled:!0})}))]}))}renderOuterRing(){const{rotation:e,s:t}=this.props,r=(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(t.ring),style:{transform:`rotate(${e}deg)`}},{children:(0,n.jsx)(ja,{})}));return(0,n.jsx)(ma,Object.assign({onChangeStart:this.onRotationStart,onChange:this.rotate,onChangeEnd:this.onRotationEnd,dataN:"wat-map-controls-3d-outer-ring"},{children:r}))}}Oa.displayName=(0,He.I)("src/modules/controls/containers/rotate");const _a=(0,Ae.$j)(va,xa)((0,Ia.$)((0,ke.$)()((0,_e.D2)({root:{position:"absolute",end:-13,width:58,height:58},ring:{position:"absolute",top:0,start:0,lineHeight:0,cursor:"pointer"},inner:{width:38,height:38,position:"absolute",top:10,start:10},clickableInner:{width:32,height:32,position:"absolute",top:13,borderRadius:"50%",cursor:"pointer",start:0,end:0,margin:"auto"},tooltip:{width:273,padding:16}})((0,Se.z)(void 0,((e,t)=>({bssOn3dControlClick(){e((0,wt.zs)({uiElement:{name:"map3DControl",frameUuid:t.ownerFrameId},action:"tap"}))}})))(Oa)))));var ka=r(16425);const Sa=(0,Be.P1)([({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.floorNames,({state:e})=>e.appContext.floors&&e.appContext.floors.currentFloor,({state:e})=>(0,re.S)(e)],((e,t,r)=>({floorNames:e,currentFloor:t,markersOnFloors:r}))),Ma=(0,Ae.X1)(((e,t)=>Sa({state:e,props:t}))),Ta=(0,Ae.Z3)((e=>({onClickFloor(t){e((0,ba.EL)({floorIndex:t}))}})));class Na extends we.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,index:t}=this.props;e(t)}}render(){const{disabled:e,label:t,s:r,hasResults:s}=this.props;return(0,n.jsx)("button",Object.assign({className:(0,_e.iv)(r.control),disabled:e,onClick:this.handleClick},{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.label,s&&r._hasResults)},{children:t}))}))}}Na.displayName=(0,He.I)("src/modules/controls/containers/floorsControl/components/floor");const Pa={control:{background:Ee.O.white,height:32,width:32,color:Ee.O.gray_262626,cursor:"pointer",borderBottom:`1px solid ${Ee.O.gray_e6e6e6}`,boxSizing:"border-box",flexShrink:0,":first-child":{borderBottom:"none"},":hover":{color:(0,Qt.j)(Ee.O.gray_262626,.7)},":active":{color:Ee.O.blue_028eff},":disabled":{background:Ee.O.gray_f2f2f2,color:Ee.O.gray_929292,cursor:"default"}},label:Object.assign(Object.assign({},st.FY),{position:"relative",lineHeight:"32px",textAlign:"center",height:"100%"}),_hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:Ee.O.blue_028eff}}},Ea=(0,_e.D2)(Pa)(Na);class La extends we.PureComponent{constructor(){super(...arguments),this.state={noScroll:!0,scrollPosition:"top"},this.scrollerContainer=we.createRef(),this.contentContainer=we.createRef(),this.onClickFloor=e=>{this.props.onClickFloor(e)},this.detectHasScroll=()=>{const e=this.scrollerContainer.current,t=this.contentContainer.current;e&&t&&e.clientHeight<t.clientHeight&&this.setState({noScroll:!1})},this.onScroll=e=>{const t=this.scrollerContainer.current;if(this.state.noScroll||!t)return;const r=e.currentTarget.scrollTop;0!==r?r+t.clientHeight!==t.scrollHeight?this.setState({scrollPosition:"middle"}):this.setState({scrollPosition:"bottom"}):this.setState({scrollPosition:"top"})}}componentDidMount(){setTimeout(this.detectHasScroll,0)}componentDidUpdate(e){e.floors.length!==this.props.floors.length&&setTimeout(this.detectHasScroll,0)}render(){const{s:e,floors:t,currentFloor:r}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.root)},{children:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(e.container)},{children:[!this.state.noScroll&&(0,n.jsx)(n.Fragment,{children:"top"!==this.state.scrollPosition&&(0,n.jsx)("div",{className:(0,_e.iv)(e.scrollGradientTop)})}),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.scroller),ref:this.scrollerContainer,onScroll:this.onScroll},{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.content),ref:this.contentContainer},{children:t.map(((e,t)=>(0,n.jsx)(Ea,{label:e.floorName,disabled:t===r,onClick:this.onClickFloor,index:t,hasResults:e.hasResults},t)))}))})),!this.state.noScroll&&(0,n.jsx)(n.Fragment,{children:"bottom"!==this.state.scrollPosition&&(0,n.jsx)("div",{className:(0,_e.iv)(e.scrollGradientBottom)})})]}))}))}}La.displayName=(0,He.I)("src/modules/controls/containers/floorsControl");const za={root:{position:"relative"},container:{display:"flex",maxHeight:"40vh",background:Ee.O.white,width:32,overflow:"hidden",borderRadius:ar.E0.default,boxShadow:Mi.q.popup},scroller:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingEnd:17,marginEnd:-17},content:{display:"flex",flexDirection:"column-reverse"},scrollGradientTop:{pointerEvents:"none",height:40,width:32,position:"absolute",backgroundImage:`linear-gradient(to bottom, ${Ee.O.gray_f2f2f2}, ${Ee.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`},scrollGradientBottom:{height:40,width:32,position:"absolute",bottom:0,pointerEvents:"none",backgroundImage:`linear-gradient(to top, ${Ee.O.gray_f2f2f2}, ${Ee.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`}},Ra=(0,Ae.$j)(Ma,Ta)((0,jr.C)((({markersOnFloors:e,floorNames:t,currentFloor:r})=>{if(t)return{floors:t.reduce(((t,r,n)=>{const s=!!(e&&e[n]||[]).length;return t.push({floorName:r,hasResults:s}),t}),[]),currentFloor:r}}))((0,_e.D2)(za)(La)));var Fa=r(13904);const Ha=(0,Ae.Z3)((e=>({onFeedbackClick(){e((0,Fa.U)("online5"))}})));class Ba extends we.PureComponent{constructor(){super(...arguments),this.state={expand:!0===this.props.expand||void 0===this.props.expand,leftPosition:void 0,doNotAnimate:!0,expandExternal:!!this.props.expand},this.initialTimeout=void 0,this.setSizeTimeout=void 0,this.textContainer=we.createRef(),this.onMouseEnter=()=>{this.initialTimeout&&clearTimeout(this.initialTimeout),this.state.doNotAnimate||this.setState({expand:!0})},this.onMouseLeave=()=>{this.state.doNotAnimate?this.setState({doNotAnimate:!1,expand:!1}):this.setState({expand:!1})},this.onClick=()=>{this.props.onClick()}}static getDerivedStateFromProps(e,t){return!1===e.expand?Object.assign(Object.assign({},t),{expandExternal:!1}):null}componentDidMount(){const e=this.textContainer.current;e&&(this.initialTimeout=setTimeout((()=>{this.setState({doNotAnimate:!1,expand:!1})}),3e3),this.setSizeTimeout=setTimeout((()=>{const t=e.offsetWidth>220?220:e.offsetWidth;this.setState({leftPosition:-t})}),0))}componentWillUnmount(){this.initialTimeout&&clearTimeout(this.initialTimeout),this.setSizeTimeout&&clearTimeout(this.setSizeTimeout)}render(){const{text:e,s:t,href:r,dir:s,icon:i,color:a,bgColor:o,withShadow:c}=this.props,{expand:d,expandExternal:l,doNotAnimate:u}=this.state,p=a?{color:a}:{},h=o?{backgroundColor:o}:{};return(0,n.jsx)("a",Object.assign({href:r,onClick:this.onClick,target:r?"_blank":void 0,className:(0,_e.iv)(t.wrapper),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(t.inner,!u&&t._hasTransition,c&&t._withShadow),style:(0,je.Qo)(Object.assign(Object.assign({start:d||l?this.state.leftPosition:void 0},p),h),s)},{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(t.icon)},{children:i})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(t.text,(d||l)&&t._showed),ref:this.textContainer},{children:e}))]}))}))}}Ba.displayName=(0,He.I)("src/shared/components/expandControl");const Aa={wrapper:Object.assign(Object.assign({},st.oN),{cursor:"pointer",position:"relative",display:"block",width:40,height:40}),inner:{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,start:0,end:0,display:"flex",flexDirection:"row-reverse",alignItems:"center",paddingTop:8,paddingBottom:8,paddingStart:4,paddingEnd:0,boxSizing:"border-box",opacity:1,borderRadius:ar.E0.oval,color:Ee.O.white,background:(0,Qt.j)(Ee.O.black,.85),overflow:"hidden"},_hasTransition:{transition:"left 200ms"},icon:{flex:"0 0 40px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},text:{flex:"0 0 auto",display:"inline-block",paddingTop:0,paddingBottom:0,paddingStart:24,paddingEnd:8,transform:"translateZ(0)",pointerEvents:"none",opacity:0},_showed:{opacity:1,transition:"opacity 200ms 75ms"},_withShadow:{boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)"}},Da=(0,Ia.$)((0,_e.D2)(Aa)(Ba));function Za({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M4.92 27.08l2.25-6.77A10.5 10.5 0 1 1 16.5 26a10.57 10.57 0 0 1-4.81-1.17zm7-4.43l.39.22a8.52 8.52 0 1 0-3.15-3.15l.22.39-1.3 3.81z"})}))}class Va extends we.PureComponent{constructor(){super(...arguments),this.onFeedbackClick=()=>{const{onFeedbackClick:e,bssOnFeedbackClick:t}=this.props;e(),t()}}render(){const{i18n:e}=this.props;return(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-feedback-btn"),{children:(0,n.jsx)(Da,{onClick:this.onFeedbackClick,icon:(0,n.jsx)(Za,{}),text:e.tp._t("Обратная связь")},"feedback")}))}}Va.displayName=(0,He.I)("src/modules/controls/containers/feedbackControl");const Ua=(0,Se.z)(void 0,((e,t)=>({bssOnFeedbackClick(){e((0,wt.zs)({uiElement:{name:"feedbackButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,Ae.$j)(void 0,Ha)((0,ke.$)()(Va)));var $a=r(20851),Wa=r(46950),qa=r(23146);var Ga=r(74783);var Qa=r(22200),Ka=r(60395),Ja=r(98901),Ya=r(50306),Xa=r(20241),eo=r(8344);const to={isDirectionsOpened:e=>{return!!(t=e.appContext.frames).length&&(0,Ga.B7)(t[t.length-1]);var t},regionCode:g.SJ,isDirectionFrameOpen:e=>!!(0,ee.t0)(e.appContext.frames,"directions"),bPointEntity:e=>{const t=(0,ee.Fq)(e.appContext.frames);if(!t)return;const r=(0,Ja.G)(t,e);if(!r.entityId)return;const n=(0,Ya.Q)(r.entityId)(e);return n&&"route"!==n.type&&(0,Xa.V)(n)?n:void 0}},ro={onOpenDirections:e=>(0,E.BN)(e?(0,eo.k)({entityId:e,lonLat:void 0}):(0,Qa.b)()),onCloseDirections:D.hp},no=((0,He.I)("src/modules/controls/containers/findRouteControl"),(0,wi.G)({selectors:to,handlers:ro})((0,jr.C)((({isDirectionsOpened:e},{tp:t})=>({title:e?t._t("Поиск мест"):t._t("Поиск проезда"),urlParams:e?{type:"root"}:{type:"directions"}})))((0,Se.z)(void 0,((e,t)=>({bssOnOpenDirections(r){e((0,wt.zs)({uiElement:{name:"routeSearchIcon",frameUuid:t.ownerFrameId},action:"tap",payload:r?{placeItem:(0,qa.Pj)({entity:r})}:void 0}))}})))((0,_e.D2)((({mobile:e})=>({root:{cursor:"pointer",position:"absolute",start:e?0:40,width:40,height:40,overflow:"hidden",padding:4,borderRadius:ar.E0.default,boxShadow:Mi.q.popup,boxSizing:"border-box",background:Ee.O.white,color:Ee.O.gray_262626,":hover":{color:(0,Qt.j)(Ee.O.gray_262626,.7)}}})))((e=>{const{s:t,isDirectionsOpened:r,urlParams:s,title:i,bPointEntity:a,onOpenDirections:o,onCloseDirections:c,bssOnOpenDirections:d}=e,l=(0,we.useCallback)((e=>{if(e.preventDefault(),r)return c();o(null==a?void 0:a.id),d(a)}),[r,s,i,o,c,d]);return(0,n.jsx)(Nt.E,Object.assign({},s,{children:e=>(0,n.jsx)(ua,Object.assign({title:i,to:"centerEnd",offset:8},{children:s=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("a",Object.assign({ref:s,href:e,className:(0,_e.iv)(t.root),onClick:l},(0,Ka.P)({label:i}),Oe.dx.n("wat-find-route-button"),{children:(0,n.jsx)("div",{children:r?(0,n.jsx)(Wa.o,{}):(0,n.jsx)($a.Z,{})})}))})}))}))}))))));var so=r(6946),io=r(67368);const ao=32;function oo({allowed:e,position:t}){return{isEnabled:!!e&&(!!t||void 0)}}const co=we.memo((()=>{const{geolocation:e}=(0,Ie.v9)((e=>e.session)),{isEnabled:t}=(0,on.Gb)(oo,e),r=(0,Ie.I0)(),s=(0,Ns.T)()._t("Моё местоположение"),i=()=>r(!1===t?(0,io.Fd)():(0,io.ck)()),{css:a,s:o}=(0,rt.y)(lo);return(0,n.jsx)(ua,Object.assign({to:"centerStart",title:s,isNowraped:!0},{children:e=>(0,n.jsx)("div",Object.assign({className:a(o.root),ref:e},(0,Ka.P)({label:s}),{children:(0,n.jsx)("button",Object.assign({onClick:i,className:a(o.control),disabled:!1},Oe.n("wat-control-my-geolocation"),{children:void 0===t?(0,n.jsx)("span",{className:a(o.loader)}):(0,n.jsx)("span",Object.assign({className:a(o.icon,t&&o._active)},{children:(0,n.jsx)(so.Y,{})}))}))}))}))})),lo=(0,rt.k)((({mobile:e})=>({root:{width:e?40:ao,background:Ee.O.white,boxShadow:Mi.q.popup,borderRadius:ar.E0.default,display:"flex",flexDirection:"column",overflow:"hidden"},control:Object.assign(Object.assign({},st.FY),{position:"relative",background:Ee.O.white,height:e?40:ao,width:e?40:ao,cursor:"pointer",color:Ee.O.gray_262626,borderBottom:`1px solid ${Ee.O.gray_e6e6e6}`,boxSizing:"border-box",":last-child":{borderBottom:"none"}}),icon:{display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7},":active":{color:Ee.O.blue_028eff}},_active:{color:Ee.O.blue_028eff},loader:{position:"absolute",boxSizing:"content-box",borderWidth:2,borderRadius:"50%",borderStyle:"solid",borderColor:Ee.O.blue_028eff,color:"transparent",top:0,right:0,bottom:0,left:0,opacity:0,transition:`top, right, bottom, left, opacity ${Gt.Z.base}`,animationIterationCount:"infinite",animationDuration:`${Gt.l.spinner}ms`,animationName:{"0%":{top:14,right:14,bottom:14,left:14,opacity:1},"50%":{top:2,right:2,bottom:2,left:2,opacity:0}}}})));var uo=r(49958);const po=(0,Be.P1)([({state:e})=>(0,Ve.bG)(e).data,({state:e})=>(0,Ve.zP)(e)],((e,t)=>({user:e,userStatusIsUnknown:t}))),ho=(0,Ae.X1)(((e,t)=>po({state:e,props:t})));var go=r(87682),mo=r(37089);const fo=(0,Ae.Z3)((e=>({onLogin(){e((0,go.mk)())},openUserProfile(){e((0,T.Rh)((({featureChronologyPlaces:e})=>(0,mo.D)(e?"places":"favorites"))))}})));var vo=r(90326);var bo=r(64118),yo=r(29105),xo=r(86283),jo=r(19086),wo=r(45965),Io=r(20718),Co=r(54796);function Oo({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M16 14h2v5h-2v-5z"}),(0,n.jsx)("path",{d:"M28.3 23.6L19.6 7.7c-.8-1.5-2.6-2-4.1-1.2-.5.3-.9.7-1.2 1.2L5.7 23.6c-.5.9-.5 2.1 0 3 .6.9 1.6 1.4 2.7 1.4h17.3c1.1 0 2-.6 2.6-1.5.5-.9.5-2 0-2.9zm-1.8 2c-.2.3-.5.4-.9.4H8.4c-.6 0-1-.4-1-1 0-.2 0-.3.1-.5l8.6-15.9c.3-.4.9-.6 1.4-.3.2.1.3.2.4.4l8.6 15.8c.2.3.2.7 0 1.1z"}),(0,n.jsx)("path",{d:"M16 21h2v2h-2v-2z"})]}))}function _o({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M24.2 28.5L16 23.3l-8.2 5.2 2.2-9.7-7.6-6.1 9.9-.8L16 3l3.7 9 9.9.8-7.6 6 2.2 9.7zM16 20.9l5.2 3.3-1.4-6.2 4.6-3.7-6-.5L16 8.2l-2.4 5.7-6 .5 4.6 3.7-1.5 6.2 5.3-3.4z"})}))}function ko({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M20.6 11.5l4.3-6.7-1.7-1.1-4.4 7c-.8-.2-1.6-.4-2.4-.4l3.5-5.5-1.7-1.1L16 7.1l-2.2-3.4-1.7 1.1L14.8 9l-1 1.6-.6.1-4.4-7-1.6 1.1 4.3 6.7c-4.3 2.5-5.7 8-3.2 12.3s8 5.7 12.3 3.2 5.7-8 3.2-12.3c-.8-1.3-1.9-2.4-3.2-3.2zM16 26.3c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"})}))}function So({color:e="#262626"}){return(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 23c0-5.6324 4.5314-9 9-9v2c-3.2531 0-6.45281 2.2338-6.93702 6H14v2H6v-1ZM24 13.5l4.5 4.5-7.4196 7.2481L18.8246 26H16v-2.8246l.7519-2.2558L24 13.5Zm0 3 1.5 1.5-5.5 5.5-1.5.5H18v-.5l.5-1.5 5.5-5.5Z",fill:e}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11c0 2.7614-2.2386 5-5 5s-5-2.2386-5-5c0-2.76142 2.2386-5 5-5s5 2.23858 5 5Zm-5 3c1.6569 0 3-1.3431 3-3 0-1.65685-1.3431-3-3-3s-3 1.34315-3 3c0 1.6569 1.3431 3 3 3Z",fill:e}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m18.2336 16.7664 1.4693-1.4693C18.2766 14.4503 16.6341 14 15 14v2c1.1205 0 2.2346.265 3.2336.7664Z",fill:e})]}))}function Mo({color:e="#262626"}){return(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"m22.2929 11.2919 4.707 4.707-4.707 4.707-1.414-1.414 2.292-2.293h-11.585v-2h11.585l-2.292-2.293 1.414-1.414Z",fill:e}),(0,n.jsx)("path",{d:"M18.216 5.222c-1.455-.296-2.976-.296-4.431 0-.704.144-1.399.36-2.067.642-.654.276-1.283.618-1.869 1.015-.583.393-1.13.844-1.627 1.342-.497.497-.948 1.043-1.343 1.627-.395.585-.737 1.214-1.013 1.869-.283.668-.498 1.363-.642 2.066C5.076 14.51 5 15.256 5 15.999c0 .743.076 1.489.224 2.216.144.703.359 1.398.642 2.066.276.654.618 1.283 1.014 1.869.394.583.845 1.13 1.342 1.627.497.497 1.044.948 1.628 1.343.585.395 1.214.737 1.868 1.014.668.282 1.363.498 2.067.641.727.149 1.472.224 2.215.224.744 0 1.489-.075 2.216-.224.703-.143 1.399-.359 2.067-.641.654-.277 1.631-.938 2.217-1.334l-1.468-1.338c-.48.324-.994.603-1.529.83-.546.23-1.113.407-1.687.524-1.19.242-2.442.242-3.631 0-.574-.117-1.142-.294-1.688-.524-.535-.227-1.048-.506-1.527-.829-.478-.324-.928-.694-1.334-1.1-.406-.406-.776-.855-1.099-1.333-.324-.479-.603-.993-.83-1.528-.23-.546-.407-1.114-.524-1.688C7.062 17.22 7 16.608 7 15.999c0-.61.062-1.221.183-1.816.117-.574.294-1.141.524-1.687.227-.535.506-1.049.83-1.527.323-.479.693-.928 1.099-1.334.406-.407.856-.777 1.333-1.099.48-.324.993-.604 1.528-.83.546-.231 1.114-.407 1.688-.525 1.189-.242 2.441-.242 3.631 0 .574.118 1.141.294 1.687.525.535.226 1.049.506 1.528.829L22.5 7.2c-.585-.396-1.563-1.06-2.217-1.336-.668-.282-1.364-.498-2.067-.642Z",fill:e})]}))}const To=()=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,n.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M6.05 17.001C6.551 22.054 10.814 26 16 26s9.448-3.946 9.95-8.999h2.009C27.45 23.16 22.29 28 16 28S4.55 23.16 4.041 17zM27.621 13c.166.647.28 1.315.337 2l-3.14-.001-.517 2.59a3 3 0 01-2.764 2.406L21.36 20H20a3 3 0 01-2.995-2.824L17 17v-2.001h-2V17a3 3 0 01-2.824 2.995L12 20h-1.36a3 3 0 01-2.902-2.238l-.04-.174L7.18 15H4.041c.057-.684.17-1.352.337-2h23.244zm-14.623 1.999H9.22l.44 2.197a1 1 0 00.863.797l.118.007H12a1 1 0 00.993-.883L13 17v-2.001zm9.781 0H19V17a1 1 0 00.883.993L20 18h1.36a1 1 0 00.951-.69l.03-.114.44-2.197zM16 4c4.843 0 9.016 2.869 10.912 7h-2.25A9.995 9.995 0 0016 6a9.996 9.996 0 00-8.662 5h-2.25C6.984 6.869 11.158 4 16 4z"})})),No=({color:e="currentColor"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{d:"M8 5a1 1 0 011.341-.94l.106.046 16 8a1 1 0 01.14 1.705l-.113.07-13 7-.948-1.761 11.303-6.088L10 6.618V27H8V5z",fill:e,fillRule:"evenodd"})}));var Po=r(54579);const Eo={handleOpenProfile:xo.s,handleOpenMessenger:()=>(0,wo.g)({}),handleEditUserProfile:jo.Z,handleLogout:Po.k},Lo=e=>{switch(e){case"edit":return(0,n.jsx)(So,{});case"achievements":return(0,n.jsx)(ko,{});case"photos":return(0,n.jsx)(Co.P,{});case"reviews":return(0,n.jsx)(_o,{});case"feedbacks":return(0,n.jsx)(Oo,{});case"messenger":return(0,n.jsx)(Za,{});case"favorites":return(0,n.jsx)(Io.r,{});case"missions":return(0,n.jsx)(To,{});case"places":return(0,n.jsx)(No,{});case"logout":return(0,n.jsx)(Mo,{})}};class zo extends we.PureComponent{render(){const{s:e,listsToRender:t}=this.props;return(0,n.jsx)("nav",Object.assign({className:(0,_e.iv)(e.root)},Oe.dx.n("wat-avatar-toast"),{children:t.map(((t,r)=>(0,n.jsx)("ul",Object.assign({className:(0,_e.iv)(e.list)},{children:t.map(((t,r)=>(0,n.jsxs)("li",Object.assign({className:(0,_e.iv)(e.item),onClick:this.handleMenuItemClick(t.type)},Oe.dx.n("wat-avatar-toast-item"),Oe.dx.t(t.type),{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.icon)},{children:Lo(t.type)})),t.title]}),r)))}),r)))}))}handleMenuItemClick(e){return()=>{const{handleOpenProfile:t,handleOpenMessenger:r,handleEditUserProfile:n,handleLogout:s}=this.props;"logout"!==e?"messenger"!==e?("edit"===e&&n(),t(e)):r():s()}}}const Ro={root:{display:"block",boxShadow:Mi.q.popup,borderRadius:ar.E0.default,background:Ee.O.white,padding:"12px 0",minWidth:192},list:{boxSizing:"border-box",position:"relative",boxShadow:Mi.q.innerBorderBottomBase,"&:not(:last-child)":{paddingBottom:8},"&:nth-child(1n+2)":{paddingTop:12},"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",paddingTop:0,paddingBottom:0,paddingStart:16,paddingEnd:8,listStyleType:"none",color:Ee.O.gray_929292,cursor:"pointer",":hover":{color:Ee.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,color:Ee.O.gray_262626,start:0,marginEnd:16}},Fo=(0,_e.D2)(Ro)(zo),Ho=(0,wi.G)({selectors:()=>({isUserAuthorized:Ve.Pc}),handlers:Eo})((0,jr.C)((({isUserAuthorized:e},{tp:t,config:r})=>{if(!e)return;const n=[{title:t._t("Награды"),type:"achievements"},{title:t._t("Отзывы"),type:"reviews"},{title:t._t("Фотографии"),type:"photos"},{title:t._t("Уточнения"),type:"feedbacks"}];r.featureAgents&&r.dashboardCarouselItems.includes("agents2020")&&n.unshift({title:t._gg("Миссии"),type:"missions"}),n.unshift({title:t._t("Избранное"),type:"favorites"}),r.featureChronologyPlaces&&n.unshift({title:t._t("Мои места"),type:"places"});return{listsToRender:[n,[{title:t._t("Редактировать"),type:"edit"},{title:t._t("Выйти"),type:"logout"}]]}}))((0,ke.$)()(Fo)));class Bo extends we.PureComponent{constructor(){super(...arguments),this.avatarRef=we.createRef(),this.renderInner=()=>{const{showAvatar:e,avatar:t,userStatusIsUnknown:r,i18n:s,s:i}=this.props;return r?null:e?(0,n.jsx)(bo.q,{initials:this.renderInitials,src:t}):(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(i.button)},{children:[(0,n.jsx)(uo.u,{}),(0,n.jsx)(vt.N,{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(i.buttonName)},Oe.dx.n("wat-enter"),{children:s.tp._t("Войти")}))})]}))},this.onLogin=()=>{const{showAvatar:e,onLogin:t,openUserProfile:r,trackLoginClick:n}=this.props;e?r():(n(),t())},this.renderInitials=()=>this.props.initials}render(){const{s:e,showRedOutline:t,showAvatar:r,i18n:{tp:s}}=this.props;return(0,n.jsx)(yo.T,{children:({isHovered:i,hoverHandlers:a})=>(0,n.jsxs)("div",Object.assign({},a,{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.root,t&&e._redOutline),onClick:this.onLogin},Oe.dx.n("wat-auth-control"),{ref:this.avatarRef},{children:r?this.renderInner():(0,n.jsx)(ua,Object.assign({to:"bottomMiddle",title:s._t("Вход в аккаунт"),offset:8,isNowraped:!0},{children:e=>(0,n.jsx)("div",Object.assign({ref:e,style:{display:"flex"}},{children:this.renderInner()}))}))})),i&&(0,n.jsx)(vt.N,{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.tooltip)},{children:(0,n.jsx)(Ho,{})}))})]}))})}}Bo.displayName=(0,He.I)("src/modules/controls/containers/authControl");const Ao={root:Object.assign(Object.assign({},st.oN),{display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40,borderRadius:ar.E0.oval,color:Ee.O.gray_262626,background:Ee.O.white,boxShadow:Mi.q.popup,overflow:"hidden",":hover":{color:(0,Qt.j)(Ee.O.gray_262626,.7)}}),_redOutline:{outline:"2px solid red"},tooltip:{position:"absolute",top:40,end:0,paddingTop:8,zIndex:ar.W5.top},button:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 4px"},buttonName:Object.assign({paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8},st.Rw)},Do=(0,Se.z)(void 0,((e,t)=>({trackLoginClick(){const r={uiElement:{name:"authorisationButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"};return e((0,wt.zs)(r))}})))((0,Ae.$j)(ho,fo)((0,jr.C)((({user:e,userStatusIsUnknown:t},{config:r,tp:n})=>{const s=r.isConfigOverridden,i=(null==e?void 0:e.avatar_preview_tpl)?e.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):null==e?void 0:e.avatar;return t||!e?{userStatusIsUnknown:t,showAvatar:!1,showRedOutline:s}:{userStatusIsUnknown:!1,showAvatar:!0,initials:(0,vo.C)(e,n),avatar:i,showRedOutline:s}}))((0,_e.D2)(Ao)((0,ke.$)()(Bo)))));function Zo({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:32,height:32},{children:(0,n.jsx)("path",{d:"M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z"})}))}const Vo={activate:function(){return(0,Vi.s_)({isActive:!0})},deactivate:function(){return(0,Vi.s_)({isActive:!1,points:[]})}};class Uo extends we.Component{constructor(){super(...arguments),this.onClick=()=>(this.props.bssOnClick(),this.props.ruler.isActive?this.props.deactivate():this.props.activate())}render(){const{i18n:e,ruler:t}=this.props,r=e.tp._t("Линейка");return(0,n.jsx)(ua,Object.assign({to:"centerStart",title:r},{children:e=>(0,n.jsx)(ca.Z,{children:(0,n.jsx)(da.o,Object.assign({isActive:t.isActive,onClick:this.onClick,dataT:"ruler",innerRef:e,ariaLabel:r},{children:(0,n.jsx)(Zo,{})}))})}))}}Uo.displayName=(0,He.I)("src/modules/controls/containers/ruler");const $o=(0,Se.z)(void 0,((e,t)=>({bssOnClick(){e((0,wt.zs)({action:"tap",uiElement:{name:"ruler",frameUuid:t.ownerFrameId}}))}})))((0,ke.$)()(Uo)),Wo=(0,wi.G)({selectors:{ruler:e=>e.appContext.ruler},handlers:Vo})($o);function qo({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({viewBox:"0 0 18 18",width:"18",height:"18"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M5 10h1a3 3 0 0 1 3-3V6a4 4 0 0 0-4 4m4 6A6 6 0 0 1 9 4a6 6 0 0 1 0 12M9 0a9 9 0 0 0-9 9c0 .688.084 1.355.23 2h.839c.493 3.945 3.852 7 7.931 7 4.079 0 7.438-3.055 7.931-7h.839c.146-.645.23-1.312.23-2a9 9 0 0 0-9-9"})}))}const Go=e=>({frameId:t})=>{if(e.mode)return{action:"tap",uiElement:{name:"trafficJam",frameUuid:t},payload:{trafficJam:{turnedOn:!!e.active,mode:e.mode}}}};var Qo=r(43997),Ko=r(8919),Jo=r(34185),Yo=r(93917),Xo=r(93357);const ec=e=>{switch(e){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian";default:return"default"}};function tc(e){if(void 0!==e)return 0===e?"_zero":e>6?"_hard":e>3?"_medium":"_easy"}const rc=({traffic:e,isTrafficOn:t,directionsFrameTab:r})=>{const n=e&&e.data&&e.data.score;return{dimension:n,disabled:(0,Yo.k$)(e)||(0,Jo.V)(e)||(0,Xo.G)(e),active:t,trafficState:tc(n),mode:ec(r)}};var nc=r(28108);const sc={_easy:"_active_easy",_medium:"_active_medium",_hard:"_active_hard",_zero:"_active_zero"},ic=e=>{const t=(0,g.kL)(e);return t?(0,Qo.s)(t.code)(e):Ko.Y},ac=e=>e.appContext.showTrafficOnMap,oc=(0,we.memo)((()=>{const e=(0,Ie.v9)(ic),t=(0,Ie.v9)(ac),r=(0,Ie.v9)((e=>{var t;return null===(t=(0,ee.t0)(e.appContext.frames,"directions"))||void 0===t?void 0:t.tab})),{dimension:s,disabled:i,active:a,trafficState:o,mode:c}=(0,on.Gb)(rc,{traffic:e,isTrafficOn:t,directionsFrameTab:r});return(0,n.jsx)(cc,{disabled:i,dimension:s,active:a,mode:c,trafficState:o,toggleTraffic:H.$C})}));oc.displayName="TrafficControlContainer";const cc=(0,we.memo)((e=>{const{mode:t,active:r,disabled:s,dimension:i,trafficState:a,toggleTraffic:o}=e,c=(0,Ns.T)(),{css:d,s:l}=(0,rt.y)(dc),u=(0,Ie.I0)(),{useBssHandler:p}=(0,Bt.T)(),h=p(Go,{mode:t,active:r}),g=(0,yt.$)((()=>{h(),u(o())})),m=(0,nc.W)({type:"traffic"}),f=c._t("Пробки");return(0,n.jsx)(ua,Object.assign({title:f,to:"bottomMiddle"},{children:e=>(0,n.jsx)(Pt.Z,Object.assign({href:m,onClick:g},{children:(0,n.jsx)("button",Object.assign({className:d(l.root,a&&l[a],a&&r&&l[sc[a]]),disabled:s},Oe.dx.n("wat-traffic-control"),{ref:e},(0,Ka.P)({label:f}),{children:a&&(i||(0,n.jsx)(qo,{}))}))}))}))}));cc.displayName="TrafficControl";const dc=(0,rt.k)({root:{fontSize:20,lineHeigh:"16px",fontWeight:400,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:ar.E0.oval,color:Ee.O.gray_262626,background:Ee.O.white,boxShadow:Mi.q.popupBorderBottom,overflow:"hidden",border:"solid 4px",":hover":{color:(0,Qt.j)(Ee.O.gray_262626,.7)},":disabled":{background:Ee.O.white,borderColor:Ee.O.gray_e6e6e6,color:Ee.O.gray_929292,cursor:"default"}},_zero:{borderColor:Ee.O.white},_active_zero:{color:Ee.O.green_299400},_easy:{borderColor:Ee.O.green_299400},_medium:{borderColor:Ee.O.yellow_ffb81c},_hard:{borderColor:Ee.O.red_fe5000},_active_easy:{background:Ee.O.green_299400,color:Ee.O.white},_active_medium:{background:Ee.O.yellow_ffb81c,color:Ee.O.white},_active_hard:{background:Ee.O.red_fe5000,color:Ee.O.white}});var lc=r(20490),uc=r(48157),pc=r(72792);const hc=({currentLang:e},{config:t})=>{const r=t.supportedLangs;return{langs:(0,$.oA)(r.map((t=>{const r=(0,pc.L)(t);if(r)return{caption:r,code:t,isActive:t===e}})))}};const gc={root:{display:"inline-flex",flexDirection:"column",boxShadow:Mi.q.popup,borderRadius:ar.E0.default,background:Ee.O.white,padding:"4px",cursor:"pointer"},item:{display:"block",whiteSpace:"nowrap",paddingTop:4,paddingBottom:4,paddingStart:36,paddingEnd:12,":hover":{color:Ee.O.gray_929292},position:"relative",color:Ee.O.gray_262626},icon:{position:"absolute",height:24,width:24,top:0,start:4,color:Ee.O.green_299400}},mc=(0,_e.D2)(gc)((function(e){const{s:t,onSelect:r}=e,{langs:s}=(0,on.Gb)(hc,e);return(0,n.jsx)("ul",Object.assign({className:(0,je.iv)(t.root)},{children:s.map((({caption:e,code:s,isActive:i})=>(0,we.createElement)("li",Object.assign({className:(0,je.iv)(t.item)},Oe.dx.n("wat-language-item"),Oe.dx.v(e),{key:s,onClick:()=>r({lang:s})}),i&&(0,n.jsx)("div",Object.assign({className:(0,je.iv)(t.icon)},{children:(0,n.jsx)(uc.J,{})})),e)))}))}));const fc={onLanguageSelect:r(75187).V};const vc={root:{position:"relative"},tooltip:{position:"absolute",end:40,bottom:0},text:{fontWeight:st.Ue.bold}},bc=(0,wi.G)({handlers:fc,selectors:{lang:e=>e.appContext.lang}})((0,_e.D2)(vc)((function({lang:e,onLanguageSelect:t,s:r}){const[s,i]=we.useState(!1),a=(0,yt.$)((()=>i(!s))),o="Change language",{ref:c,addTooltip:d}=(0,la.l)({title:o,to:"centerStart"});return(0,n.jsxs)("div",Object.assign({className:(0,je.iv)(r.root)},{children:[(0,n.jsx)("div",Object.assign({ref:c},{children:(0,n.jsx)(ca.Z,Object.assign({isVertical:!0},{children:(0,n.jsx)(da.o,Object.assign({isActive:s,onClick:a,dataT:"language",ariaLabel:o},{children:(0,n.jsx)("div",Object.assign({className:(0,je.iv)(r.text)},{children:(0,pc.S)(e)}))}))}))})),s&&(0,n.jsx)("div",Object.assign({className:(0,je.iv)(r.tooltip)},{children:(0,n.jsx)(mc,{currentLang:e,onSelect:t})})),d]}))})));var yc=r(51150),xc=r(90126);const jc={frameId:e=>(e=>{const t=e.appContext.frames;return t&&t[0]&&"direction"===t[0].type?t&&t[1]&&t[1].id:t&&t[0]&&t[0].id})(e)},wc={openSharingPopup:yc.q};const Ic=(0,wi.G)({handlers:wc,selectors:jc})((function({openSharingPopup:e,frameId:t}){const r=(0,Ns.T)()._t("Поделиться"),s=(0,we.useCallback)((()=>e({frameId:t})),[e,t]),{ref:i,addTooltip:a}=(0,la.l)({title:r,to:"centerStart"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(da.o,Object.assign({onClick:s,dataT:"share",innerRef:i,ariaLabel:r},{children:(0,n.jsx)(xc.m,{color:Ee.O.gray_262626})})),a]})}));var Cc=r(357);const Oc=(0,Se.z)(void 0,((e,t)=>({bssOnClick(){e((0,wt.zs)({action:"tap",uiElement:{name:"print",frameUuid:t.ownerFrameId}}))}})))((e=>{const t=(0,Ns.T)()._t("Печать"),{ref:r,addTooltip:s}=(0,la.l)({title:t,to:"centerStart"}),i=(0,we.useCallback)((()=>{e.bssOnClick(),window.print()}),[e.ownerFrameId]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(da.o,Object.assign({onClick:i,dataT:"print",innerRef:r,ariaLabel:t},{children:(0,n.jsx)(Cc.K,{color:Ee.O.gray_262626})})),s]})}));var _c=r(2442),kc=r(93527),Sc=r(58728),Mc=r(74148);const Tc=e=>({frameId:t})=>({uiElement:{name:"cartIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{cartCounter:{to:e.count}}});var Nc=r(68674);const Pc=we.memo((()=>{const[e]=(0,Mc.j)(),t=(0,Nc.c)(e),r=(0,kc.A)(Sc.Ki),{useBssHandler:s}=(0,Bt.T)(),i=s(Tc,{count:t}),a=(0,yt.$)((()=>{i(),r()}));return(0,n.jsx)(Ec,{count:t,onClick:a})}));Pc.displayName="CartControl";const Ec=we.memo((({count:e,onClick:t})=>{const{s:r,css:s}=(0,rt.y)(Lc),i=(0,Ns.T)(),a=(0,we.useRef)(null),[o,c]=(0,we.useState)(0);(0,we.useEffect)((()=>{setTimeout((()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.offsetWidth;c(t?40+t:0)}),0)}),[]);const d=!(!e||!o);return(0,n.jsxs)("div",Object.assign({className:s(r.container)},Oe.dx.n("wat-cart"),{children:[(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-cart-icon-entry"),{className:s(r.root),style:{width:d?o:void 0},onClick:t},{children:(0,n.jsx)("div",Object.assign({className:s(r.icon,d&&r._shifted)},{children:(0,n.jsx)(_c.Z,{})}))})),(0,n.jsxs)("div",Object.assign({className:s(r.textBlock,d&&r._visible),ref:a},{children:[(0,n.jsx)("div",Object.assign({className:s(r.textMain)},{children:i._gg("Корзина")})),(0,n.jsx)("div",Object.assign({className:s(r.textQty)},{children:i._nt(["%% товар","%% товара","%% товаров"],e)}))]})),!!e&&(0,n.jsx)("div",Object.assign({className:s(r.counter)},Oe.dx.n("wat-cart-count"),{children:e}))]}))}));Ec.displayName="Inner";const Lc=(0,rt.k)({container:{position:"relative",pointerEvents:"auto",width:40,height:40,":hover":{color:(0,Qt.j)(Ee.O.gray_262626,.7)}},root:Object.assign(Object.assign({},st.oN),{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,end:0,width:40,borderRadius:ar.E0.oval,background:Ee.O.white,boxShadow:Mi.q.popup,cursor:"pointer",transition:"width 150ms ease-out",overflow:"hidden"}),icon:{float:"end",transform:"translateZ(0)",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",transition:"margin 150ms ease-out"},_shifted:{marginEnd:8},textBlock:{position:"absolute",height:40,end:40,pointerEvents:"none",padding:"0 20px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",opacity:0,transition:"none"},_visible:{opacity:1,transition:"opacity 150ms ease 150ms"},textMain:Object.assign({},st.oN),textQty:Object.assign(Object.assign({},st.yG),{color:Ee.O.gray_929292,whiteSpace:"nowrap"}),counter:Object.assign(Object.assign({},st.Yq),{lineHeight:st.Yq.fontSize,position:"absolute",top:-4,end:4,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:ar.E0.oval,display:"flex",justifyContent:"center",alignItems:"center",color:Ee.O.white,background:Ee.O.red_fe5000})});var zc=r(31804),Rc=r(14897);const Fc=e=>{switch(e){case"eta":return"ctxLayerIcon";case"photos":return"photosLayerIcon";case"realty":return"realtyLayerIcon";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayerIcon";case"exchange":return"exchangeCurrencyLayerIcon";case"backTo2004":return"backTo2004LayerIcon";case"roadAccident":return"trafficIncidentLayerIcon";case"tourism":return"touristLayerIcon";default:return}},Hc=e=>{switch(e){case"eta":return"ctxLayer";case"photos":return"photosLayer";case"backTo2004":return"backTo2004Layer";case"realty":return"realtyLayer";case"parkings":return"parkingLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";case"tourism":return"touristLayer";default:return}},Bc=e=>({frameId:t},r)=>{const n=(0,g.fq)(r),s=(0,Q.O)(r),{type:i,position:a,hasOwner:o}=e,c=Fc(i),d=Hc(i);if(c&&d)return{uiElement:{name:c,ownerName:a&&o?"mapLayersList":void 0,frameUuid:t,position:a||1},payload:{mapLayer:{entity:{type:"mapLayer",segmentInfo:(0,Rc.U)({locale:s,region_id:n})},name:d}}}},Ac=e=>({frameId:t},r)=>{const n=(0,g.fq)(r),s=(0,Q.O)(r),{type:i,enableMapLayer:a,position:o,hasOwner:c}=e,d=Fc(i),l=Hc(i);if(!d||!l)return;return{uiElement:{name:d,ownerName:o&&c?"mapLayersList":void 0,frameUuid:t,position:o||1},action:"roadAccident"===i?a?"on":"off":"tap",payload:{mapLayer:{name:l,entity:{type:"mapLayer",segmentInfo:(0,Rc.U)({locale:s,region_id:n})},enableMapLayer:a}}}};function Dc(e,t,r=!1){switch(e){case"additional":return t._gg("Дополнительные слои");case"realty":return t._gg("Недвижимость");case"parkings":return t._t("Парковки");case"eta":return t._t("Транспорт на карте");case"photos":return t._t("Фотографии");case"metro":return t._t("Метро на карте");case"exchange":return t._gg("Обмен валют");case"backTo2004":return r?t._gg("Назад в будущее"):t._gg("Назад в 2004");case"roadAccident":return t._gg("Карта плотности ДТП");case"tourism":return t._t("Туристические места");default:return void 0}}var Zc=r(83034);function Vc({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29L27.52 24zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3L22.42 22z"})}))}function Uc({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2h-1.34zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22h-2.06z"})}))}function $c({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:e,d:"M8.47 24h3.43c-1.354-.696-2.51-1.723-3.358-2.987-.849-1.264-1.363-2.722-1.495-4.238-.132-1.517.123-3.042.74-4.433.619-1.391 1.58-2.603 2.793-3.522L16 24l5.42-15.18c1.213.919 2.174 2.13 2.792 3.522.618 1.391.872 2.916.74 4.433-.131 1.516-.646 2.974-1.494 4.238-.849 1.264-2.004 2.291-3.358 2.987h3.43c1.254-1.182 2.212-2.642 2.799-4.262.586-1.62.784-3.355.576-5.066-.207-1.71-.813-3.348-1.77-4.782C24.18 8.457 22.9 7.268 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58c-1.503.845-2.786 2.03-3.746 3.462-.96 1.432-1.57 3.069-1.782 4.78-.211 1.71-.017 3.447.566 5.069.583 1.622 1.54 3.084 2.792 4.27z"})}))}function Wc({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:32,height:32,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"M24 7.15C21.5649 5.76802 18.7989 5.07653 16 5.15C13.2011 5.07653 10.4351 5.76802 8 7.15V19.15L11.66 22.07L8.29 25.44L9.71 26.85L13.41 23.15H18.59L22.29 26.85L23.71 25.44L20.34 22.07L24 19.15V7.15ZM10 11.15H22V13.57L16 17L10 13.57V11.15ZM16 7.15C18.0612 7.1335 20.1037 7.54199 22 8.35V9.15H10V8.35C11.8954 7.53895 13.9385 7.13032 16 7.15ZM18.3 21.15H13.7L10 18.15V15.87L16 19.3L22 15.87V18.19L18.3 21.15Z",fill:e})}))}function qc({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e,viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{d:"M22 18h-3v2h3v-2zm-12 0h3v2h-3v-2zm12-4H10v2h12v-2z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M16 5c-2.484 0-5.011.308-6.776.583C7.313 5.881 6 7.544 6 9.418V14H4v2h2v9a2 2 0 002 2h2a2 2 0 002-2h8a2 2 0 002 2h2a2 2 0 002-2v-9h2v-2h-2V9.418c0-1.874-1.313-3.537-3.224-3.835C21.011 5.308 18.484 5 16 5zM9.532 7.56C11.249 7.292 13.662 7 16 7c2.337 0 4.751.292 6.468.56.878.136 1.532.91 1.532 1.858V25h-2v-1a1 1 0 00-1-1H11a1 1 0 00-1 1v1H8V9.418c0-.949.654-1.722 1.532-1.858z"})]}))}function Gc({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,n.jsx)("path",{d:"M14 4c2.582 0 4.935.978 6.71 2.585l1.936-1.939.708.708-1.939 1.937A9.959 9.959 0 0 1 24 14a9.954 9.954 0 0 1-2.084 6.111c.924.127 1.953.758 2.584 1.389.625.625 1.837 2.423 3.634 5.393a.903.903 0 0 1-1.241 1.241c-2.97-1.797-4.768-3.009-5.393-3.634-.63-.63-1.262-1.66-1.39-2.584A9.954 9.954 0 0 1 14 24a9.963 9.963 0 0 1-6.71-2.585l-1.936 1.939-.708-.708 1.939-1.937C4.978 18.935 4 16.582 4 14s.978-4.935 2.585-6.71L4.646 5.355l.708-.708L7.29 6.585A9.963 9.963 0 0 1 14 4zm6 4.708-4.277 4.276a2 2 0 0 1-2.739 2.739l-1.436 1.438a4.002 4.002 0 0 0 5.136-.195l.144-.138 1.415 1.415a6.002 6.002 0 0 1-8.117.34L8.708 20A8 8 0 0 0 20 8.708zm-12 0A7.967 7.967 0 0 0 6 14c0 2.03.755 3.882 2 5.292l1.418-1.418a6.003 6.003 0 0 1 0-7.748zm3.172 2.464a4 4 0 0 0-.332 5.281l1.437-1.437a2 2 0 0 1 2.739-2.739l1.437-1.437a4 4 0 0 0-5.281.332zM14 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-2.03 0-3.882.755-5.292 2l1.417 1.419a6.002 6.002 0 0 1 7.75-.001L19.291 8A7.962 7.962 0 0 0 14 6z",fill:e,fillRule:"evenodd"})}))}function Qc({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M27.14 22.36L25.23 8.59a3 3 0 0 0-3-2.59h-2.64l-2 2h-3.18l-2-2H9.74a3 3 0 0 0-3 2.59L4.86 22.36A3.2 3.2 0 0 0 11 24l1.68-4h6.66L21 24a3.2 3.2 0 0 0 6.13-1.67zm-2.26 1.23a1.24 1.24 0 0 1-2-.33L20.67 18h-9.34l-2.19 5.26a1.25 1.25 0 0 1-2 .33 1.2 1.2 0 0 1-.28-1L8.75 8.86a1 1 0 0 1 1-.86h1.85l2 2h4.82l2-2h1.85a1 1 0 0 1 1 .86l1.91 13.77a1.2 1.2 0 0 1-.3.96z"}),(0,n.jsx)("path",{d:"M18.005 14.002l2-2.003 2.002 2-2 2.003zM10.002 14.003l2-2.003 2.002 2-2 2.002z"})]}))}function Kc({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 10h4.5a3.5 3.5 0 110 7H15v1h3v2h-3v2h-2v-2h-2v-2h2v-1h-2v-2h2v-5zm2 5h2.5a1.5 1.5 0 000-3H15v3z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 5C9.925 5 5 9.925 5 16s4.925 11 11 11 11-4.925 11-11S22.075 5 16 5zM7 16a9 9 0 1118.001.001A9 9 0 017 16z",clipRule:"evenodd"})]}))}function Jc({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e},{children:(0,n.jsx)("path",{d:"M6 9a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V9zm3-1a1 1 0 00-1 1v10.586l1.879-1.879a2.998 2.998 0 014.242 0L20.414 24H23a1 1 0 001-1V9a1 1 0 00-1-1H9zM8 23v-.586l3.293-3.293a1 1 0 011.414 0L17.586 24H9a1 1 0 01-1-1zm9-9.5a1.5 1.5 0 113.001.001A1.5 1.5 0 0117 13.5zm1.5-3.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z",fillRule:"evenodd"})}))}var Yc=r(77408),Xc=r(50630);function ed({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.753 3.341a1 1 0 0 0-1.751.721l.5 8A1 1 0 0 0 15.5 13H24a1 1 0 0 0 .8-.4l3-4a1 1 0 0 0-1.017-1.576l-3.427.761-.364-2.91a1 1 0 0 0-1.643-.634l-2.748 2.356-2.848-3.256ZM16.439 11l-.258-4.131 1.566 1.79a1 1 0 0 0 1.404.1l2.087-1.79.27 2.155a1 1 0 0 0 1.209.852l1.861-.413L23.5 11h-7.06Zm-3.867.58-.248-1.991c-.993.05-1.928.12-2.695.21-1.252.149-2.133 1.12-2.358 2.246l-.707 3.536-.564.752a5 5 0 0 0-1 3V25a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.667a5 5 0 0 0-1-3l-.564-.752L25.32 15H8.72l.512-2.563c.078-.39.35-.618.633-.652.753-.09 1.697-.158 2.707-.206ZM8 17l-.4.533A3 3 0 0 0 7.019 19H11a1 1 0 0 1 1 1v1H7v4h2v-2h14v2h2v-4h-5v-1a1 1 0 0 1 1-1h3.981a3 3 0 0 0-.581-1.467L24 17H8Z",fill:e})}))}var td=r(17159);const rd=(0,we.memo)((({type:e})=>{const t=(0,Ie.v9)(g.fq);switch(e){case"eta":return(0,n.jsx)(qc,{});case"metro":return"32"===t?(0,n.jsx)(Uc,{}):"38"===t?(0,n.jsx)($c,{}):"99"===t?(0,n.jsx)(Wc,{}):(0,n.jsx)(Vc,{});case"realty":return(0,n.jsx)(Zc.b,{});case"parkings":return(0,n.jsx)(Yc.d,{});case"photos":return(0,n.jsx)(Jc,{});case"additional":return(0,n.jsx)(Xc.S,{});case"exchange":return(0,n.jsx)(Kc,{});case"backTo2004":return(0,n.jsx)(Gc,{});case"roadAccident":return(0,n.jsx)(ed,{});case"tourism":return(0,n.jsx)(td.Q,{});default:return(0,n.jsx)(Qc,{})}}));rd.displayName="Icon";var nd=r(86467),sd=r(8193),id=r(36373);const ad=(0,we.memo)((e=>{const{type:t,isDropdownOpen:r,isActive:s,position:i,promotedLayer:a,onLayerHover:o,hasLabel:c}=e,{css:d,s:l}=(0,rt.y)(od),u=(0,nt.T)(),{ref:p,addTooltip:h}=(0,la.l)({title:Dc(t,u,s),to:"bottomMiddle",offset:4});(0,sd.F)({ref:p,isActive:s,currentLayer:t,promotedLayer:a});const m="additional"===t,f=(0,we.useRef)(null),{isHovered:v}=(0,nd.X)({ref:f});(0,we.useEffect)((()=>{o(t,v)}),[v]);const{bssRef:b,useBssHandler:y}=(0,Bt.T)(Bc({type:t,position:i})),x=y(Ac,{type:t,enableMapLayer:!s,position:i}),j=(0,Ie.I0)(),w=(0,we.useCallback)((()=>{m||(x(),j((0,zc.t)({newLayer:s?void 0:t})))}),[t,s,x,o]),I=(0,Ie.v9)(g.kL),C=(0,nc.W)(function(e,t){switch(e){case"metro":return!t||"32"!==t.id&&"38"!==t.id?void 0:{type:"metroLayer",query:id.B,cityAlias:t.uri_code};case"realty":return{type:"realty"};default:return}}(t,I));return(0,n.jsxs)("li",Object.assign({className:d(l.menuItem,m&&l._additional,s&&m&&l._additionalActive),ref:"additional"===t?f:p,onClick:w},Oe.dx.n("wat-layer-list-item"),Oe.dx.t(t),Oe.dx.s(s.toString()),{children:[(0,n.jsx)(Pt.Z,Object.assign({href:C,color:"inherit"},{children:(0,n.jsx)("div",Object.assign({className:d(l.icon,!m&&s&&l._active),ref:b},{children:(0,n.jsx)(rd,{type:t})}))})),c&&(0,n.jsx)("span",Object.assign({className:d(l.label)},{children:Dc(t,u,s)})),!r&&h]}))}));ad.displayName="LayersControlItem";const od=(0,rt.k)({menuItem:Object.assign(Object.assign({},st.oN),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),_additional:{paddingStart:8,paddingEnd:8,marginEnd:-8,boxShadow:Mi.q.innerBorderStartBase,color:Ee.O.gray_929292,":hover":{color:Ee.O.blue_028eff}},_additionalActive:{color:Ee.O.blue_028eff},icon:{flex:"0 0 32px",height:32},_active:{marginEnd:-4,marginStart:-4,paddingEnd:4,paddingStart:4,color:Ee.O.white,borderRadius:ar.E0.small,backgroundColor:Ee.O.blue_028eff,":hover":{background:Ee.O.blue_0070cc}},label:{marginStart:8}});var cd=r(63195);const dd=e=>{const{layer:t,activeLayer:r,isDropdownOpen:n,isDropdownHovered:s}=e;return n||s?t===r||"additional"===t:r===t},ld=(0,we.memo)((e=>{const{position:t,isActive:r,item:{title:s,type:i}}=e,{css:a,s:o}=(0,rt.y)(ud),{bssRef:c,useBssHandler:d}=(0,Bt.T)(Bc({type:i,position:t,hasOwner:!0})),l=d(Ac,{type:i,enableMapLayer:!r,position:t,hasOwner:!0}),u=(0,Ie.I0)(),p=(0,we.useCallback)((()=>{"additional"!==i&&(l(),u((0,zc.t)({newLayer:r?void 0:i})))}),[i,r,l,u]);return(0,n.jsxs)("li",Object.assign({className:a(o.root,r&&o._active),onClick:p,ref:c},Oe.dx.n("wat-layer-drop-down-list-item"),Oe.dx.t(i),Oe.dx.s(r.toString()),{children:[(0,n.jsx)("div",Object.assign({className:a(o.icon)},{children:(0,n.jsx)(rd,{type:i})})),s]}))}));ld.displayName="DropdownItem";const ud=(0,rt.k)({root:{position:"relative",display:"flex",alignItems:"center",minWidth:172,paddingTop:4,paddingBottom:4,paddingStart:20,paddingEnd:24,whiteSpace:"nowrap",listStyleType:"none",borderRadius:ar.E0.default,color:Ee.O.gray_929292,cursor:"pointer","--icon-color":Ee.O.gray_262626,":hover":{color:Ee.O.blue_028eff}},_active:{color:Ee.O.gray_262626,"--icon-color":Ee.O.blue_028eff,":hover":{color:Ee.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,start:0,marginEnd:16,color:"var(--icon-color)"}}),pd=(e,{tp:t})=>{const{items:r,activeLayer:n}=e;return{list:r.reduce(((e,r)=>{const s=Dc(r,t,r===n);return s?[...e,{type:r,title:s}]:e}),[])}},hd=(0,we.memo)((e=>{const{items:t,isDropdownOpen:r}=e,{css:s,s:i}=(0,rt.y)(gd),a=(0,Ie.v9)((e=>e.appContext.activeLayer)),{list:o}=(0,on.Gb)(pd,{items:t,activeLayer:a});return(0,n.jsx)("nav",Object.assign({className:s(i.root)},{children:(0,n.jsx)("ul",{children:o.map(((e,t)=>(0,n.jsx)(ld,{item:e,position:t+1,isActive:dd({layer:e.type,activeLayer:a,isDropdownOpen:r,isDropdownHovered:!0})},t)))})}))}));hd.displayName="Dropdown";const gd=(0,rt.k)({root:{display:"block",boxShadow:Mi.q.popup,borderRadius:ar.E0.default,background:Ee.O.white,paddingTop:8,paddingBottom:8}});var md=r(1963),fd=r(49259),vd=r(85707),bd=r(5163),yd=r(12563);const xd=(0,yd.createModel)("hasBusInViewport",(({services:e},{viewport:t},r)=>({fetch(){return(0,bd.mG)(this,void 0,void 0,(function*(){return void 0!==r?r:(yield e.etaApi.getHasBusInViewport({viewport:t,zoom:11})).data.has_bus_in_viewport}))}})),(({fetch:e})=>{e()}));var jd=r(78621),wd=r(83390),Id=r(22766),Cd=r(66325),Od=r(54481);const _d=(0,Be.P1)([({state:e,localityId:t})=>{var r;return t&&(null===(r=e.data.roadAccident[t])||void 0===r?void 0:r.data)||void 0}],(e=>({roadAccidentData:e})));var kd=r(37647),Sd=r(84768),Md=r(64656);const Td=(0,kd.G)("fetchRoadAccident",(e=>({diskApi:t})=>t.getRoadAccidentData({localityId:e.localityId})),(0,Sd.r)("roadAccident",{start:(e,{params:t})=>(0,Md.Av)(e,t.localityId),success:(e,{result:t,params:r})=>(0,Md.Cj)(e,r.localityId,t),error:(e,{params:t,error:r})=>(0,Md.VJ)(e,t.localityId,r)}));var Nd=r(82588);const Pd=["5349042514588558","5349042514588559"],Ed=[ft.oV];function Ld(e){const{mainItems:t,additionalOnlyItems:r,isDropdownOpen:n,isDropdownHovered:s}=e,{featureRealty:i,featureReadOnly:a,featureExchange:o,featureBackTo2004:c,featureRoadAccidentHeatmap:d,featureTouristLayer:l}=(0,ht.Z)(),u=(0,Ie.v9)((e=>e.appContext.activeLayer)),p=(0,Ie.I0)(),h=(0,Ie.v9)((e=>e.appContext.weak.fullScreenBanner)),m=(0,Ie.v9)((e=>(0,Cd.n)(e)||!!(0,ee.t0)(e.appContext.frames,"directions"))),f=(0,Ie.v9)((e=>e.session.is3dEnabled)),v=(0,Ie.v9)((e=>e.appContext.zoom)),b=(0,Ie.v9)(g.kG),y=(0,Ie.v9)((e=>{var t;return(null===(t=null==b?void 0:b.data)||void 0===t?void 0:t.regionId)?(0,jd.D4)({state:e,id:b.data.regionId}):void 0})),x=null==y?void 0:y.data,j=(0,we.useMemo)((()=>(null==x?void 0:x.bounds)?(0,fd.Hg)((0,Id.J)(x.bounds)):void 0),[null==x?void 0:x.id]),w=(0,vd.tT)(j?xd({viewport:[{lon:j[1][0],lat:j[0][1]},{lon:j[0][0],lat:j[1][1]}]}):void 0).data,I=!!x&&!!w&&f&&!(0,md.e)(v),C="loading"===(null==y?void 0:y.meta.status)||"loading"===(null==b?void 0:b.meta.status),O=dd({layer:"roadAccident",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s}),_=(0,Ie.v9)(g.E5)||"",k=(0,Ie.v9)(g.k2),S=Pd.includes(_)?k:_,M=(0,Ie.v9)((e=>_d({state:e,localityId:S}).roadAccidentData));(0,we.useEffect)((()=>{O&&f&&d&&!M&&S&&p(Td({localityId:S}))}),[O,S,d,M,f,p]),(0,we.useEffect)((()=>{d&&f||!O||p((0,wd.u$)())}),[d,O,f,p]),function(e=[]){(0,Od.K)(((t,{Heatmap:r})=>{const n=e.map((({longitude:e,latitude:t,severity:r})=>({coordinates:[e,t],weight:r})));if(!n.length)return;const s=new r(t,{points:n,pointRadius:["interpolate",["linear"],["zoom"],7,1,9,3,10,6,11,9,12,15,13,25,14,35,16,75,18,150,19,250,20,500],palette:{.37:"rgba(53,136,253,0)",.425:"rgba(53,136,253,0.2)",.45:"rgb(255,201,77,0.7)",.5:"rgb(255,202,20)",1:"rgb(245,0,7)"},intensity:["interpolate",["linear"],["zoom"],9,.13,11,.24,13,.35,16,.365,18,.47],opacity:1});return()=>{s.destroy()}}),[e])}(O?M:void 0);const T=dd({layer:"backTo2004",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{(m||!c||v<9)&&T&&p((0,wd.u$)())}),[m,T,v,c,p]);const N=dd({layer:"metro",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{(!x||!x.flags.metro||v<9)&&N&&p((0,wd.u$)())}),[null==x?void 0:x.id,N,v]);const P=dd({layer:"eta",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{I||!P||void 0===w||C||p((0,zc.t)({newLayer:void 0}))}),[I,w,C]);const E=(0,Ie.v9)((e=>!!(0,ee.t0)(e.appContext.frames,"realty"))),L=dd({layer:"realty",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{!i||x&&Ed.includes(null==x?void 0:x.id)||(E&&!L&&p((0,wd.t9)("realty")),L&&!E&&p((0,wd.u$)()))}),[u,E,i,L,p,x]),function(e){const t=(0,Ie.v9)((e=>!!e.appContext.activeSublayer));(0,Od.K)((r=>{e&&t&&r.once("styleload",(()=>{r.addLayer({id:"realty-heatmap-style",type:"raster",minzoom:6,filter:["match",["sourceAttr","type"],["realty_heatmap"],!0,!1],style:{opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15]}})}))}),[!!e,t])}(L);const z=dd({layer:"parkings",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{z&&p((0,wd.t9)("parkings"))}),[z,p]);const R=(0,Ie.v9)((e=>{var t;return null===(t=e.appContext.frames[e.appContext.frames.length-1])||void 0===t?void 0:t.type})),F=dd({layer:"exchange",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});(0,we.useEffect)((()=>{o&&("exchange"!==R&&F&&p((0,wd.u$)()),"exchange"!==R||F||p((0,wd.t9)("exchange")))}),[o,R,u,F,p]);const H=dd({layer:"tourism",activeLayer:u,isDropdownOpen:n,isDropdownHovered:s});if((0,we.useEffect)((()=>{f&&l||!H||p((0,wd.u$)())}),[f,l,H,p]),h)return{mainLayers:ft.LZ,additionalLayers:ft.LZ};let B=t.reduce(((e,t)=>{switch(t){case"realty":return!i||x&&Ed.includes(null==x?void 0:x.id)?e:[...e,"realty"];case"metro":return x&&x.flags.metro&&f&&v>=9?[...e,"metro"]:e;case"eta":return I?[...e,"eta"]:e;case"photos":return f&&!a?[...e,"photos"]:e;case"exchange":return o?[...e,"exchange"]:e;case"roadAccident":return f&&d?[...e,"roadAccident"]:e;case"tourism":return f&&l?[...e,"tourism"]:e;default:return[...e,t]}}),[]);const A=r.reduce(((e,t)=>{switch(t){case"parkings":{const t=e.findIndex((e=>"eta"===e));return f&&(null==x?void 0:x.flags.parking_layer)?-1!==t?(0,Nd._)(e,"parkings",t+1):[...e,"parkings"]:e}case"backTo2004":return c&&!m&&v>=9&&f?[...e,"backTo2004"]:e;default:return[...e,t]}}),[...B]);return B.length>4&&(B=B.slice(0,4)),A.length>1&&(B=[...B,"additional"]),{mainLayers:B,additionalLayers:A}}var zd=r(82098);var Rd=r(75281);const Fd=["realty","metro","eta","exchange","tourism","roadAccident","photos"],Hd=["parkings","backTo2004"],Bd=["realtyPriceRent","realtyPriceSale","realtyWalkDistance"],Ad=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(Dd),r=(0,we.useRef)(null),s=(0,we.useRef)(null),{isHovered:i,refCallback:a}=(0,nd.X)({ref:s}),[o,c]=(0,we.useState)(!1),[d,l]=(0,we.useState)(!1),u=(0,we.useRef)(!1);u.current=o||i,(0,we.useEffect)((()=>{setTimeout((()=>{l(u.current)}),0)}),[o,i]);const p=(0,Ie.v9)((e=>e.appContext.activeLayer)),{mainLayers:h,additionalLayers:m}=Ld({mainItems:Fd,additionalOnlyItems:Hd,isDropdownOpen:d,isDropdownHovered:i}),{bssRef:f}=(0,Bt.T)((v={size:h.length},({frameId:e})=>{const{size:t}=v;return{uiElement:{name:"mapLayersList",ownerName:"mapLayers",frameUuid:e},payload:{mapLayersList:{size:t}}}}));var v;const b=(0,we.useCallback)(((e,t)=>{c("additional"===e&&!!t)}),[]),y=function(e){if(e.includes("tourism"))return"tourism";if(e.includes("roadAccident"))return"roadAccident";if((new Date).getMinutes()%2==0){if(e.includes("metro"))return"metro"}else if(e.includes("realty"))return"realty";return e.includes("exchange")?"exchange":e.includes("photos")?"photos":void 0}(h),x=(0,Ie.v9)((e=>e.session.is3dEnabled)),j=(0,Ie.v9)(g.kL),w=(0,Ie.v9)(Rd.j),I=function({is3dEnabled:e,activeLayer:t,activeSublayer:r,projectData:n}){return e&&"realty"===t&&(r&&Bd.includes(r)||(null==n?void 0:n.code)&&z.yJ.includes(n.code)||(null==n?void 0:n.flags.metro))}({is3dEnabled:x,activeLayer:p,activeSublayer:w,projectData:j})&&!d;return h.length?(0,n.jsxs)("nav",Object.assign({className:t(e.root),ref:f},{children:[(0,n.jsx)("ul",Object.assign({className:t(e.list),ref:r},Oe.dx.n("wat-layers-icon-entry"),{children:h.map(((e,t)=>(0,n.jsx)(ad,{type:e,isActive:dd({layer:e,activeLayer:p,isDropdownOpen:d,isDropdownHovered:i}),onLayerHover:b,position:t+1,isDropdownOpen:d,promotedLayer:y,hasLabel:1===h.length},e)))})),d&&(0,n.jsx)("div",Object.assign({className:t(e.dropdown),ref:a},Oe.dx.n("wat-layers-drop-down-list"),{children:(0,n.jsx)(hd,{items:m,isDropdownOpen:d})})),I&&(0,n.jsx)("div",Object.assign({className:t(e.sublayers)},Oe.dx.n("wat-realty-sublayers-switcher-short"),{children:(0,n.jsx)(zd.vc,{})}))]})):null}));Ad.displayName="LayersControl";const Dd=(0,rt.k)({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"40px",background:Ee.O.white,cursor:"pointer",pointerEvents:"auto",boxShadow:Mi.q.popup,borderRadius:cd.E.default},list:{position:"relative",zIndex:ar.W5.top,overflow:"hidden",height:"100%",padding:"0 8px"},dropdown:{position:"absolute",top:40,end:0,zIndex:ar.W5.top,paddingTop:8},sublayers:{zIndex:ar.W5.top,position:"absolute",top:48,start:"50%",transform:"translateX(-50%)"}});var Zd=r(32034),Vd=r(24821),Ud=r(89305);function $d({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M7.592 12.758a1 1 0 01.97-.758h6.439v4H6.78l.81-3.242zM6.282 18l-.69 2.758A1 1 0 006.562 22h8.439v-4H6.28zm2.28-8a3 3 0 00-2.91 2.272l-2 8A3 3 0 006.562 24H17V10H8.563z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M19.707 5.293l-.905-.906-.66 1.098-3 5-.142.238V24h10.438a3 3 0 002.91-3.728L28 18.877v-5.154l-.142-.238-3-5L24.566 8h-2.152l-2.707-2.707zM26 17v-2.723L23.434 10H21.586l-.293-.293-2.095-2.094L17 11.277v4.105l2.553-1.277.553-.276.494.37 3.733 2.8H26zm-9 .618V22h8.438a1 1 0 00.97-1.243l-.378-1.515-.03-.119V19h-2.333l-.267-.2-3.506-2.63L17 17.619z",clipRule:"evenodd"})]}))}var Wd=r(21458);const qd={30:{center:[40.26825,43.64086],zoom:13.61,rotation:8},1267655302447129:{center:[40.26825,43.64086],zoom:13.61,rotation:8},131:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447105:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447113:{center:[41.62489,43.28599],zoom:13},134:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},89:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447111:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447119:{center:[44.55747,42.73412],zoom:13.084,rotation:138},1267655302447133:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},154:{center:[44.90747,42.73412],zoom:13.084,rotation:138},114:{center:[44.90747,42.73412],zoom:13.084,rotation:138},1267655302447110:{center:[44.90747,42.73412],zoom:13.084,rotation:138},115:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},1267655302447124:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},151:{center:[46.8992,42.8473],zoom:12.612,rotation:11},113:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447109:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447164:{center:[35.11619,69.17253],zoom:13.516,rotation:1},9:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},109:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},1267655302447178:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},15:{center:[59.80304,55.2568],zoom:13.134},"87 ":{center:[59.80304,55.2568],zoom:13.134},1267655302447186:{center:[59.80304,55.2568],zoom:13.134},11260016975675394:{center:[88.22694,50.91009],zoom:13.635,rotation:75},20:{center:[84.92519,51.93505],zoom:13.559},4:{center:[84.92519,51.93505],zoom:13.559},1267655302447126:{center:[84.92519,51.93505],zoom:13.559},206:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},1267655302447155:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},69:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},1267655302447123:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},7:{center:[92.80989,55.89808],zoom:13.357,rotation:5},1267655302447130:{center:[92.80989,55.89808],zoom:13.357,rotation:5},130:{center:[94.42404,51.73232],zoom:12.828,rotation:10},1267655302447121:{center:[94.42404,51.73232],zoom:12.828,rotation:10},11:{center:[104.84251,51.8636],zoom:13.275,rotation:10},1267655302447152:{center:[104.84251,51.8636],zoom:13.275,rotation:10},37:{center:[107.5801,51.86159],zoom:12.784,rotation:3},1267655302447108:{center:[107.5801,51.86159],zoom:12.784,rotation:3},88:{center:[154.72168,49.3321],zoom:13},1267655302447177:{center:[154.72168,49.3321],zoom:13},25:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},1267655302447132:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},82:{center:[150.82871,59.47647],zoom:12.821,rotation:5},158:{center:[150.82871,59.47647],zoom:12.821,rotation:5},1267655302447162:{center:[150.82871,59.47647],zoom:12.821,rotation:5},95:{center:[160.53667,54.72734],zoom:13},1267655302447128:{center:[160.53667,54.72734],zoom:13},563967860670632:{center:[83.4322,49.6307],zoom:12.45,rotation:22},91:{center:[83.4322,49.6307],zoom:12.45,rotation:22},67:{center:[76.96932,43.11889],zoom:13.099,rotation:-57},"70030076149164491":{center:[76.96932,43.11889],zoom:13.099,rotation:-57},112:{center:[78.5421,42.3947],zoom:13.804,rotation:5},99:{center:[56.13557,25.92894],zoom:13.505},237:{center:[56.13557,25.92894],zoom:13.505},sa:{center:[39.60383,24.46559],zoom:14.098,rotation:-4}},Gd={zoom:13,pitch:45,rotation:0};function Qd(e){const t=function(e){return e.projectId&&qd[e.projectId]||e.regionId&&qd[e.regionId]||e.countryCode&&qd[e.countryCode]||void 0}(e);if(!t)return;const{center:r,zoom:n,pitch:s,rotation:i}=Object.assign(Object.assign({},Gd),t);return[{main:[{center:r,zoom:n-1,pitch:s-30,rotation:i,duration:1},...new Array(1).fill(null).map(((e,t)=>({zoom:n-1+2*(t+1)/1,pitch:s-30+30*(t+1)/1,rotation:i-0*(t+1)/1,duration:5e3,easing:"easeInOutSine"})))]}]}var Kd=r(64841);const Jd=()=>(e,t,r)=>({uiElement:{name:"reliefButton",ownerName:"map",frameUuid:t.appContext.staticFrames.map.id},action:r?"on":"off"});var Yd=r(40177),Xd=r(72020);const el=(0,Yd.P)("setReliefIsActive",(0,Xd.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{relief:t})))),tl=(0,we.memo)((()=>{var e;const{s:t,css:r}=(0,rt.y)(rl),s=(0,Ie.I0)(),i=(0,nt.T)(),{feature3dRelief:a}=(0,ht.Z)(),[o,c]=(0,we.useState)(!1);(0,Od.K)(((e,{isTerrainSupported:t})=>{if(!a)return;let r=Kd.tO.local.getItem("isTerrainSupported");null==r&&(r=t(),Kd.tO.local.setItem("isTerrainSupported",r)),c(r)}),[]);const d=(0,Ie.v9)((e=>e.appContext.relief)),l=(0,Bt.T)().useBssHandler(Jd),u=(0,yt.$)((()=>{s(el(!d)),l(!d)}));(0,Od.K)((e=>{e.patchStyleState({terrainEnabled:d})}),[d]);const p=null===(e=(0,Ie.v9)(g.kG))||void 0===e?void 0:e.data,h=(0,Ie.v9)(g.kL),m=(0,we.useMemo)((()=>{var e,t;return null===(t=null===(e=null==p?void 0:p.admDiv)||void 0===e?void 0:e.find((({type:e})=>"region"===e)))||void 0===t?void 0:t.id}),[p]),f=(0,we.useMemo)((()=>Qd({regionId:m,projectId:null==h?void 0:h.id,countryCode:null==h?void 0:h.country_code})),[m,h]);return(0,we.useEffect)((()=>{d&&f&&(0,Wd.I)(s,f)}),[d]),a&&o&&(f||d)?(0,n.jsxs)("div",Object.assign({className:r(t.root,d&&t._active),onClick:u},{children:[(0,n.jsx)($d,{}),(0,n.jsx)(vt.N,{children:(0,n.jsx)("div",Object.assign({className:r(t.label)},{children:i._t("3D-рельеф")}))})]})):null}));tl.displayName="ReliefControl";const rl=(0,rt.k)({root:Object.assign(Object.assign({paddingStart:8,paddingEnd:16,display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40},st.oN),{borderRadius:cd.E.default,color:Ee.O.gray_262626,background:Ee.O.white,boxShadow:Mi.q.popup,overflow:"hidden",":hover":{background:Ee.O.gray_f2f2f2}}),label:{marginStart:4},_active:{color:Ee.O.white,background:Ee.O.blue_028eff,":hover":{background:Ee.O.blue_0070cc}}});function nl({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.466.27 1 1.732-2.464 1.423v4.844l4.196-2.422V3.002h2v2.845l2.465 1.423-1 1.732-2.465-1.423-4.196 2.423 4.196 2.423 2.465-1.423 1 1.732-2.465 1.423v2.845h-2v-2.845l-4.196-2.423v4.845l2.464 1.423-1 1.732-2.464-1.423-2.464 1.423-1-1.732 2.464-1.423v-4.845l-4.196 2.422v2.846h-2v-2.846L.342 12.734l1-1.732 2.464 1.422 4.196-2.423L3.806 7.58 1.342 9.002l-1-1.732 2.464-1.422V3.002h2v2.846l4.196 2.421V3.425L6.538 2.002l1-1.732 2.464 1.423L12.466.27Z",fill:e})}))}var sl=r(96722),il=r(61244);class al extends we.PureComponent{constructor(){super(...arguments),this.state={isActive:{min:this.props.currentValue.min!==this.props.min,max:this.props.currentValue.max!==this.props.max&&this.props.currentValue.max!==this.props.min},value:this.props.currentValue},this.boxRef=we.createRef(),this.handleSideMouseDown=e=>{if(this.props.isDisabled||!this.boxRef.current)return;const t="rtl"===this.props.dir?this.boxRef.current.getBoundingClientRect().left+this.boxRef.current.clientWidth-e.pageX:e.pageX-this.boxRef.current.getBoundingClientRect().left,r=this.pxToValue(t);this.setState({moving:{side:"max",sliderStart:t,mouseStart:e.pageX}}),this.updateSide(r,"max"),window.document.addEventListener("mouseup",this.handleSideUp),window.document.addEventListener("mousemove",this.handleSideMove)},this.handleSideUp=()=>{window.document.removeEventListener("mousemove",this.handleSideMove),window.document.removeEventListener("mouseup",this.handleSideUp),this.applyChanges(this.state.value),this.setState({moving:void 0})},this.handleSideMove=e=>{const{moving:t}=this.state;if(!t)return;const{side:r,sliderStart:n,mouseStart:s}=t,i=n+(e.pageX-s);this.updateSide(this.pxToValue(i),r)},this.updateSide=(e,t)=>{const{value:r,isActive:n}=this.state,s=this.limitSideValue(Math.round(e)),i=Object.assign(Object.assign({},n),{[t]:s!==this.props.max&&s!==this.props.min});if("min"===t&&s>r.max||"max"===t&&s<r.min)return this.applyChanges({min:s,max:s}),void this.setState({isActive:i,value:{min:s,max:s}});this.applyChanges(Object.assign(Object.assign({},r),{[t]:s})),this.setState({isActive:i,value:Object.assign(Object.assign({},r),{[t]:s})})},this.applyChanges=e=>{const{onChange:t,tag:r}=this.props,n=this.props.min===e.min&&this.props.max===e.max;t({valueType:"single",name:r,value:(0,sl.C)(e.min,e.max),isChecked:!n})},this.limitSideValue=(e,t=!0)=>{if(!t)return e<0?0:e;const{min:r,max:n}=this.props;return e<r?r:e>n?n:e},this.valueToPercent=e=>{const t=Math.round(100*this.valueToProgress(e));return t>100?100:t<0?0:t}}static getDerivedStateFromProps(e,t){return t.moving?t:Object.assign(Object.assign({},t),{isActive:{min:e.currentValue.min!==e.min,max:e.currentValue.max!==e.max&&e.currentValue.max!==e.min}})}render(){const{isDisabled:e,s:t,dir:r}=this.props,{value:s,isActive:i,moving:a}=this.state,o=this.valueToPercent(s.min),c=this.valueToPercent(s.max),d=(0,je.Qo)({start:`${o}%`,width:c-o+"%"},r);return(0,n.jsx)("div",Object.assign({},Oe.dx.n("wat-filter-widget-slider"),Oe.dx.t(this.props.tag),{children:(0,n.jsxs)("div",Object.assign({className:(0,je.iv)(t.barWrapper,e&&t._disabledBarWrapper),onMouseDown:this.handleSideMouseDown},{children:[(0,n.jsx)("div",{className:(0,je.iv)(t.bar)}),(0,n.jsxs)("div",Object.assign({className:(0,je.iv)(t.valueBox),ref:this.boxRef},{children:[(0,n.jsx)("div",{className:(0,je.iv)(t.bar,!e&&t._activeBar),style:d}),(0,n.jsx)("div",{className:(0,je.iv)(t.slider,t._sliderMax,i.max&&t._activeSlider,e&&t._disabledSlider,a&&t._movingSlider),style:(0,je.Qo)({start:`${c}%`},r)})]}))]}))}))}pxToValue(e){if(!this.boxRef.current)return 0;const{isLog:t,min:r,max:n}=this.props;return t?r*Math.pow(2,e*Math.log2(n/r)/this.boxRef.current.clientWidth):(n-r)*e/this.boxRef.current.clientWidth+r}valueToProgress(e){const{isLog:t,min:r,max:n}=this.props,s=this.limitSideValue(e);return t?Math.log2(s/r)/Math.log2(n/r):(s-r)/(n-r)}}const ol={barWrapper:{height:"24px",position:"relative",cursor:"pointer",userSelect:"none"},_disabledBarWrapper:{cursor:"auto"},bar:{width:"100%",height:"8px",position:"absolute",top:"8px",background:Ee.O.gray_e6e6e6,borderRadius:ar.E0.default,marginStart:-4,paddingEnd:8},_activeBar:{background:Ee.O.blue_028eff,borderRadius:ar.E0.defaultOnlyEnd},fillBar:{height:"8px",position:"absolute",top:"8px"},valueBox:{position:"absolute",height:"100%",left:0,right:0},slider:{width:"24px",height:"24px",border:`2px solid ${Ee.O.blue_028eff}`,boxSizing:"border-box",position:"absolute",borderRadius:"50%",backgroundColor:"#fff",cursor:"grab"},_movingSlider:{cursor:"grabbing"},_sliderMin:{marginStart:"-24px"},_sliderMax:{marginStart:"-12px"},_activeSlider:{":before":{content:'""',display:"block",backgroundColor:Ee.O.blue_028eff,borderRadius:"50%",position:"absolute",width:"8px",height:"8px",top:0,bottom:0,start:0,end:0,margin:"auto"}},_disabledSlider:{border:`1px solid ${Ee.O.gray_f2f2f2}`,pointerEvents:"none",cursor:"auto",":before":{backgroundColor:Ee.O.gray_bbbbbb}}},cl=(0,jr.C)((({min:e,max:t,currentValue:r})=>{const n=r?(0,il.E)(r):[],s=n[0]?Number(n[0]):void 0,i=n[1]?Number(n[1]):void 0;return{currentValue:{min:void 0!==s?s:e,max:void 0!==i?i:t}}}))((0,_e.D2)(ol)(al));var dl=r(93024);const ll=e=>({frameId:t},r)=>{const n=(0,Q.O)(r),s=(0,g.fq)(r);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{mapLayer:{name:"winterLayer",enableMapLayer:e,entity:{type:"mapLayer",segmentInfo:(0,Rc.U)({locale:n,region_id:s})}}}}},ul=(0,we.memo)((()=>{const e=(0,nt.T)(),{css:t,s:r}=(0,rt.y)(pl),s=(0,Ie.I0)(),{bssRef:i,useBssHandler:a}=(0,Bt.T)((({frameId:e},t)=>{const r=(0,Q.O)(t),n=(0,g.fq)(t);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:e},payload:{mapLayer:{name:"winterLayer",entity:{type:"mapLayer",segmentInfo:(0,Rc.U)({locale:r,region_id:n})}}}}})),o=a(ll,!0),c=a(ll,!1),d=(0,Ie.v9)((e=>e.appContext.showSnow)),{isMobileDevice:l}=(0,ht.Z)(),u=(0,we.useCallback)((()=>{const e="on"===d.status||l?"off":"on";s((0,dl.Ep)(e,!d.allowSnowStyle)),d.allowSnowStyle?c():o()}),[s,o,c,d.status,d.allowSnowStyle,l]),p=(0,we.useCallback)((e=>{var t;s((0,dl.o8)({intensity:Number(null===(t=e.value)||void 0===t?void 0:t.split(",")[1])}))}),[s]),h=d.allowSnowStyle;return(0,n.jsxs)("div",Object.assign({className:t(r.root),ref:i},{children:[(0,n.jsx)(vt.N,{children:(0,n.jsx)("div",{children:h&&(0,n.jsxs)("div",Object.assign({className:t(r.slider,h&&r._slider_active)},{children:[(0,n.jsx)("div",Object.assign({className:t(r.sliderHeader)},{children:e._t("Интенсивность снегопада")})),(0,n.jsx)(cl,{onChange:p,min:0,max:100,currentValue:`0,${d.intensity}`})]}))})}),(0,n.jsxs)("div",Object.assign({className:t(r.control,h&&r._control_active),onClick:u},{children:[(0,n.jsx)(nl,{color:h?Ee.O.blue_c5eeff:Ee.O.blue_028eff}),(0,n.jsx)(vt.N,{children:(0,n.jsx)("div",Object.assign({className:t(r.controlText)},{children:e._t("Новогоднее настроение")}))})]}))]}))}));ul.displayName="SnowControl";const pl=(0,rt.k)((({mobile:e})=>({root:{position:"relative"},control:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:e?40:211,color:Ee.O.gray_929292,background:Ee.O.white,boxShadow:Mi.q.popup,borderRadius:e?"50%":ar.E0.default,cursor:"pointer",zIndex:ar.W5.base,":hover":{color:Ee.O.gray_262626}},controlText:{marginStart:8},sliderHeader:{marginBottom:4},slider:{position:"absolute",top:48,end:0,display:"flex",flexDirection:"column",justifyContent:"center",width:179,height:64,paddingStart:16,paddingEnd:16,borderRadius:ar.E0.default,background:Ee.O.white,boxShadow:Mi.q.popup,transition:"width 200ms"},_slider_active:{width:179,paddingStart:16,paddingEnd:16},_control_active:{backgroundColor:Ee.O.blue_028eff,color:Ee.O.white,":hover":{backgroundColor:Ee.O.blue_0070cc,color:Ee.O.white}}})));var hl=r(60618),gl=r(14706);function ml(){return(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("g",Object.assign({filter:"url(#Awards2gis2022A)"},{children:(0,n.jsx)("path",{d:"M18.254 30h-3.12V2h1.733C24.071 2 29 7.643 29 13.484c0 2.238-.565 4.137-1.733 6.563l-.867 2.078h-1.733c-2.804 0-4.333 1.64-4.333 1.64-1.575 1.41-2.08 4.237-2.08 6.235Z",fill:"url(#Awards2gis2022B)"})})),(0,n.jsx)("g",Object.assign({filter:"url(#Awards2gis2022C)"},{children:(0,n.jsx)("path",{d:"M15.554 30H12.98c-.319-2.107-.324-4.683-1.931-6.234-.23-.222-1.42-1.641-4.024-1.641h-1.61l-.804-2.078C3.525 17.62 3 15.722 3 13.484 3 7.643 7.577 2 14.267 2c6.69 0 11.266 5.643 11.266 11.484 0 2.238-.525 4.137-1.61 6.563l-.804 2.078h-1.61c-2.603 0-4.023 1.64-4.023 1.64-1.462 1.41-1.932 4.237-1.932 6.235Z",fill:"url(#Awards2gis2022D)"})})),(0,n.jsx)("path",{d:"m16.408 10.318-1.894-3.784a.271.271 0 0 0-.494 0l-1.894 3.784-3.679.48c-.237.03-.332.346-.156.52l2.765 2.743-.932 4.191c-.056.248.182.454.395.342l3.748-1.966 3.748 1.966c.213.111.45-.094.395-.342l-.932-4.19 2.765-2.743c.176-.175.08-.49-.156-.522l-3.68-.479Z",fill:"url(#Awards2gis2022E)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",Object.assign({id:"Awards2gis2022B",x1:"22.067",y1:"2",x2:"13.248",y2:"29.952",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#59471A"}),(0,n.jsx)("stop",{offset:".396",stopColor:"#7C5A0C"}),(0,n.jsx)("stop",{offset:".634",stopColor:"#422F04"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#352A0C"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"Awards2gis2022D",x1:"19.095",y1:"2",x2:"9.733",y2:"29.553",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#C3A966"}),(0,n.jsx)("stop",{offset:".396",stopColor:"#F4D181"}),(0,n.jsx)("stop",{offset:".615",stopColor:"#CFB468"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#A28C54"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"Awards2gis2022E",x1:"14.267",y1:"5.68",x2:"10.583",y2:"18.385",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#271C03"}),(0,n.jsx)("stop",{offset:".356",stopColor:"#705310"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#4E3805"})]})),(0,n.jsxs)("filter",Object.assign({id:"Awards2gis2022A",x:"15.134",y:"2",width:"14.866",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"1",dy:"2"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,n.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]})),(0,n.jsxs)("filter",Object.assign({id:"Awards2gis2022C",x:"3",y:"2",width:"23.533",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"1",dy:"2"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,n.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]}))]})]}))}const fl=()=>({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e},action:"tap"}),vl=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(bl),{_t:r}=(0,Ns.T)(),s=(0,Ie.I0)(),{bssRef:i,useBssHandler:a}=(0,Bt.T)((({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e}}))),o=a(fl),c=(0,nc.W)({type:"catalogSearch",query:r("Премия 2ГИС")}),d=r("Премия 2ГИС"),l=(0,we.useCallback)((()=>{s((0,T.xJ)((e=>(0,G.zh)((t=>(0,hl.gB)({query:d,viewpoint:t,regionId:(0,gl.k)(e)})))))),o()}),[s,d,o]);return(0,n.jsx)("div",Object.assign({ref:i},{children:(0,n.jsxs)(Pt.Z,Object.assign({href:c,onClick:l,styles:e.root},{children:[(0,n.jsx)(ml,{}),(0,n.jsx)("span",Object.assign({className:t(e.text)},{children:r("Премия 2ГИС 2022")}))]}))}))})),bl=(0,rt.k)({root:{display:"flex",alignItems:"center",padding:4,borderRadius:ar.E0.default,color:Ee.O.white,backgroundColor:"#222A51",boxShadow:"0px 1px 3px rgba(38, 38, 38, 0.5)",transition:"background-color 250ms ease","&:hover":{color:Ee.O.white,backgroundColor:"#2F3A6F"}},text:{paddingInlineStart:4,paddingInlineEnd:12,whiteSpace:"nowrap"}});var yl=r(15590);const xl=(0,we.memo)((e=>{var t,r;const{dataViewerWidth:s}=e,{css:i,s:a,inline:o}=(0,rt.y)(jl),{godmode:c,supportedLangs:d,featureNewYear:l,feature2gisAwards2022:u}=(0,ht.Z)(),p=d.length>1,h=(0,Ie.v9)((e=>e.session.is3dEnabled)),m=c||h||(0,$.$K)((0,Y.z)("is3dDisabled")),f=(0,Ie.v9)((e=>"backTo2004"===e.appContext.activeLayer)),v=(0,Ie.v9)((e=>!!e.appContext.weak.floors)),b=!f&&v,y=(0,Ie.v9)(Zd.W),x=(0,Ie.v9)(Ud.d),j=(0,Ie.v9)(Vd.S),w=!!(null==y?void 0:y.showCartButton)||!!(null==x?void 0:x.length)||!!(null===(t=j.data)||void 0===t?void 0:t.total),I=(0,Ie.v9)(g.kL),C=!!(null===(r=null==I?void 0:I.flags)||void 0===r?void 0:r.traffic),O=h&&l,_=u&&(0,yl.q)(null==I?void 0:I.id);return(0,n.jsxs)("div",Object.assign({className:i(a.root),style:o({start:s})},{children:[(0,n.jsxs)("div",Object.assign({className:i(a.top,a.row)},{children:[(0,n.jsxs)(lc.g,Object.assign({justifyContent:"flex-end"},{children:[(0,n.jsx)("div",Object.assign({className:i(a._pointerNone)},{children:(0,n.jsx)(no,{})})),(0,n.jsxs)("div",Object.assign({className:i(a._pointerNone,a.viewControls)},{children:[O&&(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(ul,{})})),(0,n.jsxs)(ot.w,{children:[_&&(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(vl,{})})),(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(tl,{})})),(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(Ad,{})})),C&&(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(oc,{})})),(0,n.jsx)("div",Object.assign({className:i(a.topControl)},{children:(0,n.jsx)(Do,{})}))]})]}))]})),w&&(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:i(a.row)},{children:(0,n.jsx)(lc.g,Object.assign({justifyContent:"flex-end"},{children:(0,n.jsx)(Pc,{})}))}))})]})),(0,n.jsx)("div",Object.assign({className:i(a.middle,a._pointerNone)},{children:(0,n.jsxs)("div",Object.assign({className:i(a.middleControls)},{children:[(0,n.jsxs)("div",Object.assign({className:i(a.viewControls)},{children:[b&&(0,n.jsx)("div",Object.assign({className:i(a.controlFloors)},{children:(0,n.jsx)(Ra,{})})),(0,n.jsxs)("div",{children:[h&&(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsx)(Wo,{})})),(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsx)(co,{})}))}),(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsx)(ha,{})}))]})]})),m&&(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsx)(ka.N,{children:({rotation:e,pitch:t})=>(0,n.jsx)(_a,{rotation:e,pitch:t})})}))})]}))})),(0,n.jsxs)("div",Object.assign({className:i(a.bottom,a._pointerNone)},{children:[(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsxs)(ca.Z,Object.assign({isVertical:!0},{children:[(0,n.jsx)(Ic,{}),(0,n.jsx)(Oc,{})]}))})),p&&(0,n.jsx)("div",Object.assign({className:i(a.control)},{children:(0,n.jsx)(bc,{})})),(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:i(a.feedbackControl)},{children:(0,n.jsx)(Ua,{})}))})]}))]}))}));xl.displayName="Controls";const jl=(0,rt.k)({root:{position:"absolute",top:0,bottom:0,end:16,pointerEvents:"none","& *":{userSelect:"none"},"@media print":{display:"none !important"}},top:{position:"absolute",top:16,start:0,end:0},row:{marginEnd:40,"&:not(:first-child)":{paddingTop:16,marginEnd:-40}},middle:{position:"absolute",top:0,end:4,bottom:"25%",display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-end",height:"50%",transform:"translateY(25%)"},bottom:{position:"absolute",end:0,bottom:16,display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"column"},control:{width:32,padding:"8px 0"},feedbackControl:{paddingTop:8},topControl:{marginEnd:16,":empty":{display:"none",margin:0}},controlFloors:{width:32,padding:8},middleControls:{display:"flex",flexDirection:"column",alignItems:"flex-end"},viewControls:{display:"flex",alignItems:"flex-end"},_pointerNone:{pointerEvents:"none","& > *":{pointerEvents:"auto"}}});const wl={layout:{overflowY:"hidden",position:"absolute",top:0,start:0,width:"100%",height:"100%",overflow:"hidden",zIndex:ar.W5.base,pointerEvents:"none"},layer:{transform:"translateZ(0px)",width:"100%",height:"100%",position:"absolute",top:0,start:0,overflow:"hidden","& > *":{position:"relative",pointerEvents:"auto",zIndex:ar.W5.base}},bottom:{zIndex:ar.W5.bottom},base:{zIndex:ar.W5.base},top:{zIndex:ar.W5.top,visibility:"hidden","& > *":{position:"absolute",visibility:"visible","&:empty":{visibility:"hidden"}}}},Il=(0,_e.D2)(wl)((function(e){const{bottom:t,base:r,top:s,s:i}=e;return(0,n.jsxs)("div",Object.assign({className:(0,je.iv)(i.layout)},{children:[(0,n.jsx)("div",Object.assign({className:(0,je.iv)(i.layer,i.base)},{children:r})),(0,n.jsx)("div",Object.assign({className:(0,je.iv)(i.layer,i.bottom)},{children:t})),(0,n.jsx)("div",Object.assign({className:(0,je.iv)(i.layer,i.top)},{children:s}))]}))})),Cl=(0,Be.P1)([({state:e})=>(0,g.kL)(e),({state:e})=>e.session.godmode||!1,({state:e})=>(0,Ve.Pc)(e),({state:e})=>0===e.appContext.frames.length,({state:e})=>e.appContext.lang],((e,t,r,n,s)=>({region:e,godmode:t,showLogoutButton:r,isDashboard:n,lang:s}))),Ol=(0,Ae.X1)(((e,t)=>Cl({state:e,props:t})));var _l=r(20930),kl=r(59431),Sl=r(42281),Ml=r(59055);const Tl=e=>(0,T.vP)((0,E.BN)(),(0,kl.$)(e)),Nl=(0,Ae.Z3)((e=>({showFeedback(){e((0,T.vP)((0,Ml.a)((0,T.PQ)((()=>Sl.Y.set((()=>!1))))),(0,Fa.U)("online5")))},openInteresting(){e((0,T.vP)((0,Ml.a)((0,T.PQ)((()=>Sl.Y.set((()=>!1))))),Tl("interesting")))},openGuidebook(){e((0,T.vP)((0,Ml.a)((0,T.PQ)((()=>Sl.Y.set((()=>!1))))),Tl("guidebook")))},openPopupAddOrg(){e((0,T.vP)((0,Ml.a)((0,T.PQ)((()=>Sl.Y.set((()=>!1))))),(0,_l.r)({subtype:"addOrg"})))},onOpenMessenger(){e((0,T.vP)((0,Ml.a)((0,T.PQ)((()=>Sl.Y.set((()=>!1))))),(0,wo.g)({})))},openPrintWindow(){e((0,T.PQ)((()=>{Sl.Y.set((()=>!1)),window.print()})))},onLogoutClick(){e((0,Po.k)())}})));class Pl extends we.PureComponent{render(){const{s:e}=this.props;return(0,n.jsx)("div",{className:(0,_e.iv)(e.root)})}}Pl.displayName=(0,He.I)("src/modules/sideBar/components/underHamburger");const El={root:{position:"absolute",top:"16px",end:"16px",width:"40px",height:"40px",borderRadius:ar.E0.oval,background:"#fff",boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)",cursor:"pointer"},logo:{margin:8,width:"24px",height:"24px",display:"inline-block",verticalAlign:"middle"}},Ll=(0,_e.D2)(El)(Pl);class zl extends we.PureComponent{render(){const{s:e,isSideBarShown:t,isIndicatorShown:r,onClick:s,i18n:{tp:i}}=this.props,a=i._t("Меню");return(0,n.jsx)("button",Object.assign({className:(0,_e.iv)(e.root),onClick:s,"data-hamburger":!0},Oe.n("wat-hamburger"),(0,Ka.P)({label:a}),{children:(0,n.jsx)(ua,Object.assign({title:a,to:"bottomBottomEnd",offset:12},{children:s=>(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(e.hamburger,r&&e._withDot),ref:s},{children:[(0,n.jsx)("span",{className:(0,_e.iv)(e.hamburgerLine,e._line1,t&&e._opened)}),(0,n.jsx)("span",{className:(0,_e.iv)(e.hamburgerLine,e._line2,t&&e._opened)}),(0,n.jsx)("span",{className:(0,_e.iv)(e.hamburgerLine,e._line3,t&&e._opened)}),(0,n.jsx)("span",{className:(0,_e.iv)(e.hamburgerLine,e._line4,t&&e._opened)})]}))}))}))}}zl.displayName=(0,He.I)("src/modules/sideBar/components/hamburger");const Rl=(0,_e.D2)((e=>({root:{position:"absolute",top:"16px",end:"16px",width:"24px",height:"24px",padding:8,cursor:"pointer"},hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:Ee.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:Ee.O.gray_262626,borderRadius:ar.E0.oval,start:0,transition:`background ${Gt.l.short}ms ease-in-out,\n      transform ${Gt.l.short}ms ease-in-out,\n      left ${Gt.l.short}ms ease-in-out,\n      top ${Gt.l.short}ms ease-in-out`,transform:"translateZ(0)","[data-hamburger]:hover &":{background:e.colors.green_299400_brand}},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"6px"},_line4:{top:"12px"},_opened:{background:e.colors.green_299400_brand,"&:nth-child(1)":{transform:"scale(0)",left:"50%",top:"6px"},"&:nth-child(2)":{transform:"rotate(45deg)"},"&:nth-child(3)":{transform:"rotate(-45deg)"},"&:nth-child(4)":{transform:"scale(0)",left:"50%",top:"6px"}}})))((0,ke.$)()(zl)),Fl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.sideMenu,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});const Hl=(0,_e.D2)((({mobile:e})=>({root:{height:"100%",flexDirection:"column",position:"absolute",top:0,end:0,bottom:0,background:Ee.O.white,transition:e?"initial":`transform ${Gt.l.short}ms ease-in-out, visibility ${Gt.l.short}ms`,boxShadow:Mi.q.popup,"@media print":{display:"none !important"}}})))((function(e){const[t,r]=(0,we.useState)(!1);(0,we.useEffect)((()=>r(!0)),[]);const{isMobileDevice:s}=(0,ht.Z)(),{children:i,type:a,isHidden:o,s:c,dir:d}=e,l=function(e,t){if(t)return"100%";switch(e){case"messenger":return ar.dp.standardFrameWidth;case"sideMenu":return ar.dp.sideMenuWidth}}(a,s),u={width:l,display:t?"flex":"none",transform:o?`logical translateX(${l}px)`:"logical translateX(0)",visibility:o?"hidden":"visible"};return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(c.root),style:(0,je.Qo)(u,d)},{children:i}))})),Bl=we.memo((e=>{const{lang:t,region:r,isDashboard:s,godmode:i,openPopupAddOrg:a,showLogoutButton:o,openInteresting:c,openGuidebook:d,openPrintWindow:l,onLogoutClick:u,bssOnFeedbackClick:p,showFeedback:h,onOpenMessenger:g}=e,m=Sl.Y.use(),f=m||s,v=(0,yt.$)((()=>{const{bssSideMenuClick:t}=e;Sl.Y.set((e=>!e)),m||t()})),b=(0,yt.$)((()=>{h(),p()}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(vt.N,{children:(0,n.jsx)(Ll,{})}),(0,n.jsx)(Hl,Object.assign({type:"sideMenu",isHidden:!m},{children:f&&(0,n.jsx)(Fl,{lang:t,region:r,showFeedback:b,openPopupAddOrg:a,godmode:i,showLogoutButton:o,openInteresting:c,openGuidebook:d,openPrintWindow:l,onLogoutClick:u,onOpenMessenger:g})})),m?(0,n.jsx)(Rl,{isSideBarShown:m,onClick:v}):(0,n.jsx)(vt.N,{children:(0,n.jsx)(Rl,{isSideBarShown:m,onClick:v})})]})}));Bl.displayName="Sidebar";const Al=(0,Se.z)(void 0,(e=>({bssSideMenuClick(){e((0,G.gF)({showFrameEvent:e=>(0,Me.x)({state:e,name:"sidebar",uuid:e.appContext.staticFrames.sidebar.id}),mapUuid:e=>e.appContext.staticFrames.map.id},(({showFrameEvent:e,mapUuid:t})=>(0,T.vP)((0,wt.zs)({uiElement:{name:"sidebarIcon",frameUuid:t},action:"tap"}),e&&(0,wt.GM)(Object.assign(Object.assign({},e),{showEventKey:(0,$.by)()}))))))},bssOnFeedbackClick(){e((0,G._N)((e=>e.appContext.staticFrames.sidebar.id),(e=>(0,wt.zs)({uiElement:{name:"feedbackButton",ownerName:"sidebar",frameUuid:e},action:"tap"}))))}})))((0,Ae.$j)(Ol,Nl)(Bl)),Dl=(0,Ae.X1)((e=>({popup:e.appContext.popup}))),Zl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.feedback,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});class Vl extends we.PureComponent{render(){const{children:e,isDark:t,s:r}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.overlay,t&&r._dark)},{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(r.content)},{children:e}))}))}}Vl.displayName=(0,He.I)("src/modules/popup/components/wrapper");const Ul=(0,_e.D2)((e=>({overlay:{background:(0,Qt.j)(Ee.O.black,.6),boxSizing:"border-box",padding:e.mobile?0:32,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},_dark:{background:(0,Qt.j)(Ee.O.black,.8)},content:{flex:"1 0 auto",display:"flex",justifyContent:"center",width:e.mobile?"100%":"initial"}})))(Vl),$l=()=>(0,n.jsx)(Te.E,{loader:Ne.H.photoUploader,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q}),Wl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.writeReview,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),ql=e=>(0,n.jsx)(Te.E,{loader:Ne.H.typedFeedback,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Gl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.editFavorite,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Ql=e=>(0,n.jsx)(Te.E,{loader:Ne.H.videoPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(pn.w,{asyncStatus:e})}),Kl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.entityVideoPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(pn.w,{asyncStatus:e})}),Jl=e=>(0,n.jsx)(Te.E,{loader:Ne.H.sharing,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var Yl=r(87249),Xl=r(42586),eu=r(81412),tu=r(44878);const ru=(0,T.gQ)("updateInfo",(e=>(0,G.gF)({locale:e=>(0,Q.O)(e),userInfo:e=>(0,Ve.bG)(e),frame:e=>(0,ee.t0)(e.appContext.frames,"userProfile")},(({userInfo:t,frame:r})=>{if(!t||!t.data)return(0,T.ZT)();if(!r)return(0,T.ZT)();const{first_name:n,middle_name:s,last_name:i,public_identity_accepted:a}=e,o=n!==t.data.first_name,c=s!==t.data.middle_name,d=i!==t.data.last_name,l=a!==t.data.public_identity_accepted,u=(0,$.by)();return(0,T.vP)((0,T.Mf)((o||d||c||l)&&(0,eu.gS)({userInfo:{first_name:n,last_name:i,middle_name:s,public_identity_accepted:a},statusId:u}),(0,Ye.j4)()),(0,tu.m)({}))}))));var nu=r(741);const su={title:Object.assign(Object.assign({},st.yG),{color:Ee.O.gray_929292})},iu=(0,_e.D2)(su)((0,jr.C)(((e,{tp:t})=>{const{type:r,user:n}=e;if(!n)return;const s=((e,t,r)=>{switch(e){case"firstName":{const e=t.first_name;return{title:r._t("Имя"),initialValue:e}}case"middleName":{const e=t.middle_name;return{title:r._gg("Отчество"),initialValue:e,placeholder:r._gg("если есть")}}case"lastName":{const e=t.last_name;return{title:r._t("Фамилия"),initialValue:e}}case"email":{const e=t.new_email||t.email;return{title:r._t("Электронная почта"),initialValue:e,htmlInputType:"email"}}case"password":{const e=void 0;return{title:r._t("Сменить пароль"),initialValue:e,htmlInputType:"password"}}}})(r,n,t);return{data:s}}))((0,ke.$)()((({data:e,type:t,onChange:r,error:s,s:i})=>{const{title:a,initialValue:o,htmlInputType:c,placeholder:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(i.title)},{children:a})),(0,n.jsx)(nu.n,{onChange:r,initialValue:o,error:s,dataT:t,inputType:c,placeholder:d})]})}))));function au({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13.222 12.843a4.999 4.999 0 115.555 8.312 4.999 4.999 0 01-5.555-8.312zm1.111 6.651a3 3 0 103.333-4.987 3 3 0 00-3.333 4.987z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M20.72 6l1.08 3.24 5.2 2.08V23a3 3 0 01-3 3H8a3 3 0 01-3-3V11.32l5.2-2.08L11.28 6h9.44zm3.987 17.707A1 1 0 0025 23V12.68l-4.8-1.92L19.28 8h-6.56l-.92 2.76L7 12.68V23a1 1 0 001 1h16a1 1 0 00.707-.293z",clipRule:"evenodd"})]}))}const ou={wrapper:{display:"flex",alignItems:"center",position:"relative"},avatar:{display:"flex",justifyContent:"center",alignItems:"center",color:Ee.O.gray_262626,background:Ee.O.white,boxShadow:Mi.q.popup,overflow:"hidden",borderRadius:ar.E0.oval,width:56,height:56,marginEnd:16},icon:{position:"absolute"},input:{display:"none"},errorText:{color:Ee.O.red_fe5000},uploaderText:{color:Ee.O.blue_0072ce,cursor:"pointer",display:"flex",alignItems:"center",":hover":{color:Ee.O.gray_262626}}},cu=(0,_e.D2)(ou)((0,jr.C)(((e,{tp:t})=>{const{user:r}=e;if(!r)return;return{initials:(0,vo.C)(r,t)}}))((0,ke.$)()((({onUpload:e,avatarUrl:t,errorText:r,initials:s,i18n:{tp:i},s:a})=>{const o=(0,we.useCallback)((()=>{}),[s]),c=(0,we.useCallback)((t=>{e(t)}),[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("label",Object.assign({htmlFor:"avatar-uploader",className:(0,_e.iv)(a.uploaderText)},{children:[(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(a.avatar)},{children:[(0,n.jsx)(bo.q,{src:t,initials:o}),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(a.icon)},{children:(0,n.jsx)(au,{color:t?Ee.O.white:Ee.O.gray_929292})}))]})),i._t("Загрузить аватар")]})),!!r&&(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(a.errorText)},{children:r})),(0,n.jsx)("input",{name:"wat-upload-input",id:"avatar-uploader",type:"file",multiple:!0,accept:"image/*",className:(0,_e.iv)(a.input),onChange:c})]})}))));var du=r(44551),lu=r(89107),uu=r(8970);const pu=(0,T.gQ)("uploadAvatar",(e=>{const{userId:t,file:r}=e;return(0,G.gF)({locale:e=>(0,Q.O)(e),regionId:e=>(0,g.fq)(e)},(({locale:e,regionId:n})=>{const s=(0,$.by)(),i=(0,$.by)();return(0,T.vP)((0,uu.t)({objectType:"profile",albumCode:"avatar",objectId:t,locale:e,regionId:n,temporaryId:i,file:r,isReplaced:!0}),(0,G._N)((e=>e.data.photo[i]),(e=>{if(!e||!e.data||!("url"in e.data))return(0,T.ZT)();const t=e.data.url;return(0,eu.gS)({userInfo:{avatar:t},statusId:s})})))}))}));var hu=r(91652),gu=r(91856),mu=r(41491);var fu=r(92811),vu=r(10405),bu=r(11411);const yu=(0,vu.ze)("userAvatar"),xu={openDeleteUserProfilePopup:Ye.Mw,closePopup:Ye.j4,uploadUserAvatar:pu},ju=(0,rt.k)({wrapper:{color:Ee.O.gray_929292,padding:"16px 24px"},bottomBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},removeLinks:{display:"flex",flexDirection:"column",alignItems:"flex-end"},input:{marginBottom:16,":empty":{marginBottom:0}},agreement:{display:"flex",alignItems:"center",paddingTop:28,cursor:"pointer"},agreementLabel:{color:Ee.O.gray_262626,marginInlineStart:4},agreementText:Object.assign(Object.assign({marginTop:14},st.yG),{color:Ee.O.gray_929292}),law:{marginTop:14}}),wu=(0,wi.G)({selectors:{},handlers:xu})((({getUserInfo:e,openDeleteUserProfilePopup:t,uploadUserAvatar:r,user:s})=>{const[i,a]=(0,we.useState)(s.first_name),[o,c]=(0,we.useState)(s.middle_name),[d,l]=(0,we.useState)(s.last_name),[u,p]=(0,we.useState)(s.new_email||s.email),[h,g]=(0,we.useState)((0,bu.ZQ)(s)),[m,f]=(0,we.useState)(s.avatar_preview_tpl&&(0,mu.B)(s.avatar_preview_tpl,{width:128,height:128})),[v,b]=(0,we.useState)(),[y,x]=(0,we.useState)(s.public_identity_accepted),{featurePersonalDataAgreement:j}=(0,ht.Z)(),{css:w,s:I}=(0,rt.y)(ju),C=(0,nt.T)(),{bssRef:O}=(0,Bt.T)((({frameId:e},t)=>(0,Me.x)({state:t,name:"profileSettingsFrame",uuid:e}))),_=(0,we.useCallback)((e=>{a(e)}),[]),k=(0,we.useCallback)((e=>{c(e)}),[]),S=(0,we.useCallback)((e=>{l(e)}),[]),M=(0,we.useCallback)((e=>{p(e)}),[]),T=(0,we.useCallback)((e=>{g(e.replace(/ /g,""))}),[]),N=(0,we.useCallback)((()=>{t({id:(0,$.by)(),user:s,type:"deleteUserProfile"})}),[t,s]),P=(0,we.useCallback)((()=>{x(!y)}),[y,x]),E=(0,we.useCallback)((e=>{x(!e)}),[x]),L=(0,we.useMemo)((()=>({first_name:i,middle_name:o,last_name:d,avatarUrl:m,email:u,phone:h,public_identity_accepted:null!==s.public_identity_accepted||y?y:null,userId:s.user_id})),[i,o,d,m,u,h,y,s]);(0,we.useEffect)((()=>e(L)),[L,e]);const z=(0,we.useCallback)((e=>{const t=e.target.files;if(!t||!t.length)return;const n=t[0];(0,du.w)(n,yu).then((e=>{r({userId:s.user_id,file:n}),b(void 0),f(e.src)})).catch((e=>{const t=(0,lu.R)(e,yu,C);b(t)}))}),[s.user_id]),R=s.phone_number_confirmed&&h.replace("+","")===(0,bu.ZQ)(s)||!1;return(0,n.jsxs)("div",Object.assign({className:w(I.wrapper),ref:O},{children:[(0,n.jsx)("div",Object.assign({className:w(I.input)},Oe.dx.n("wat-edit-userprofile-firstname"),{children:(0,n.jsx)(iu,{onChange:_,type:"firstName",user:s,error:!i})})),j&&(0,n.jsx)("div",Object.assign({className:w(I.input)},Oe.dx.n("wat-edit-userprofile-middlename"),{children:(0,n.jsx)(iu,{onChange:k,type:"middleName",user:s})})),(0,n.jsx)("div",Object.assign({className:w(I.input)},Oe.dx.n("wat-edit-userprofile-lastname"),{children:(0,n.jsx)(iu,{onChange:S,type:"lastName",user:s,error:!d})})),(0,n.jsx)("div",Object.assign({className:w(I.input)},Oe.dx.n("wat-edit-userprofile-email"),{children:(0,n.jsx)(iu,{onChange:M,type:"email",user:s,error:!u})})),(0,n.jsx)("div",Object.assign({className:w(I.input)},Oe.dx.n("wat-edit-userprofile-phone"),{children:(0,n.jsx)(fu.s,{hasPhone:!!s.phone_number,phoneCode:s.phone_code?"+"+s.phone_code:"",phone:h,isConfirmed:R,onChange:T,source:"profile",showConfirm:!0})})),(0,n.jsxs)("div",Object.assign({className:w(I.bottomBar)},Oe.dx.n("wat-edit-userprofile-avatar"),{children:[(0,n.jsx)(cu,{user:s,avatarUrl:m,errorText:v,onUpload:z}),(0,n.jsx)("div",Object.assign({className:w(I.removeLinks)},{children:(0,n.jsx)(Pt.r,Object.assign({color:"gray",dataN:"wat-edit-profile-link",dataT:"remove",onClick:N},{children:C._t("Удалить профиль")}))}))]})),j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",Object.assign({className:w(I.agreement)},Oe.dx.n("wat-edit-userprofile-agreement"),{onClick:P},{children:[(0,n.jsx)(gu.X,{isChecked:!!y,backgroundColor:y?Ee.O.green_30ad00:void 0,tickColor:Ee.O.white,onClick:E,dataN:"wat-edit-userprofile-agreement-acception"}),(0,n.jsx)("span",Object.assign({className:w(I.agreementLabel)},{children:C._gg("Показывать моё имя, фамилию или никнейм в продуктах 2ГИС")}))]})),(0,n.jsx)("div",Object.assign({className:w(I.agreementText)},{children:C._gg("Обратите внимание: если вы отзовёте согласие на обработку и распространение персональных данных, весь ваш контент будет обезличен. Ваши имя, фамилию или никнейм смогут увидеть только представители компаний, имеющие доступ к Личному кабинету.")}))]}),(0,n.jsx)("div",Object.assign({className:w(I.law)},{children:(0,n.jsx)(hu.p,{type:"default",buttonName:C._t("Сохранить")})}))]}))}));var Iu=r(47111),Cu=r(31535),Ou=r(82066);const _u={updateUserInfo:ru,closePopup:Ye.j4},ku={wrapper:{color:Ee.O.gray_929292,paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:34},header:{borderBottom:`1px solid ${Ee.O.gray_e6e6e6}`},close:{position:"absolute",top:12,end:16,cursor:"pointer"},footer:{paddingTop:20,paddingBottom:20}},Su=(0,wi.G)({selectors:()=>({}),handlers:_u})((0,_e.D2)(ku)((0,ke.$)()((({popup:e,closePopup:t,updateUserInfo:r,s,i18n:{tp:i}})=>{var a,o;const c=(0,we.useMemo)((()=>e.user),[e]),[d,l]=(0,we.useState)({first_name:c.first_name,middle_name:c.middle_name,last_name:c.last_name,avatarUrl:c.avatar,email:c.new_email||c.email,public_identity_accepted:c.public_identity_accepted,userId:c.user_id,phone:(0,bu.ZQ)(c)}),u=function(){const{authApi:e,credentialsApi:t}=(0,Iu.S)(),r=(0,Ie.v9)(Q.O),n=(0,Ie.v9)(Ve.bG).data,s=(0,Ie.I0)(),{mutateAsync:i}=(0,Ou.useMutation)((s=>(0,bd.mG)(this,void 0,void 0,(function*(){if(s===((null==n?void 0:n.new_email)||(null==n?void 0:n.email)))return;if(!(0,Cu.v)(s))throw new Error("invalid email");const i=yield t.getToken();if(!i)throw new Error("no access token");return yield e.updateEmail({accessToken:i,authClientId:"online",locale:r,email:s})}))),{onSuccess(e,t){var r;void 0!==e&&(e.code&&200!==e.code&&204!==e.code?s((0,Ye.Mw)({id:(0,$.by)(),type:"emailConfirmation",subtype:422===e.code&&"EntityExists"===(null===(r=e.error_fields)||void 0===r?void 0:r[0].error)?"errorWithEmail":"error",email:t})):s((0,Ye.Mw)({id:(0,$.by)(),type:"emailConfirmation",subtype:"success",email:t})))},onError(e,t){s((0,Ye.Mw)({id:(0,$.by)(),type:"emailConfirmation",subtype:"error",email:t}))}});return i}(),p=(0,we.useCallback)((()=>(0,bd.mG)(void 0,void 0,void 0,(function*(){yield u(d.email),r(d)}))),[d,u,r]),h=(0,we.useCallback)((()=>{t()}),[e.id]),g=(0,we.useCallback)((e=>{l(e)}),[]);return(0,n.jsx)(Yl.F,{dataN:"wat-edit-user-profile-popup",header:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.wrapper,s.header)},{children:i._t("Редактирование профиля")})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.close),onClick:h},{children:(0,n.jsx)(zi.x,{color:Ee.O.gray_262626})}))]}),body:(0,n.jsx)(wu,{user:c,getUserInfo:g}),footer:(0,n.jsx)(Xl.y,{submitText:i._t("Сохранить"),withoutUserAvatar:!0,onSubmit:p,onCancel:h,experimentalStyles:s.footer,disabledButton:!(null===(a=d.first_name)||void 0===a?void 0:a.trim())||!(null===(o=d.last_name)||void 0===o?void 0:o.trim())})})}))));var Mu=r(42067);const Tu={deleteUserProfile:(0,T.gQ)("deleteProfile",(e=>e?(0,T.vP)((0,Ye.j4)(),(0,D.xO)(),(0,Mu.a)({userId:e}),(0,Po.k)()):(0,T.ZT)())),openEditProfilePopup:jo.Z},Nu={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},st.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56},cancel:{background:Ee.O.blue_028eff,color:Ee.O.white}},Pu=(0,wi.G)({selectors:{},handlers:Tu})((0,_e.D2)(Nu)((0,ke.$)()((({popup:e,deleteUserProfile:t,openEditProfilePopup:r,s,i18n:{tp:i}})=>{const a=(0,we.useCallback)((()=>{t(e.user.user_id)}),[e]),o=(0,we.useCallback)((()=>{r()}),[e.id]),c=(0,we.useMemo)((()=>(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.wrapper)},{children:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(s.text)},{children:[(0,n.jsx)("h1",Object.assign({className:(0,_e.iv)(s.title)},{children:i._t("Уверены в этом?")})),(0,n.jsx)("p",{children:i._t("Ваш аккаунт будет удалён, но все отзывы, фотографии и зацепки останутся в справочнике, став анонимными.")})]}))}))),[e.id]),d=(0,we.useMemo)((()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.button,s.cancel),onClick:o},{children:i._t("Не удалять")})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.button)},{children:(0,n.jsx)(Pt.r,Object.assign({onClick:a},{children:i._t("Удалить")}))}))]})),[e.id]);return(0,n.jsx)(Yl.F,{dataN:"wat-delete-user-profile-popup",header:(0,n.jsx)(n.Fragment,{}),body:c,footer:d})})))),Eu={closeEmailConfirmaionPopup:Ye.j4},Lu=we.memo((e=>{const{closeEmailConfirmaionPopup:t,title:r,description:s,s:i,i18n:{tp:a}}=e,o=(0,we.useMemo)((()=>(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(i.wrapper)},{children:(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(i.text)},{children:[(0,n.jsx)("h1",Object.assign({className:(0,_e.iv)(i.title)},{children:r})),(0,n.jsx)("p",{children:s})]}))}))),[s,r,i.wrapper,i.text,i.title]),c=(0,we.useMemo)((()=>(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(i.button),onClick:t},{children:a._t("ok")}))),[t,i.button,a]);return(0,n.jsx)(Yl.F,{dataN:"wat-confirm-email-popup",body:o,footer:c})})),zu={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},st.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56,background:Ee.O.blue_028eff,color:Ee.O.white,borderRadius:`0 0 ${ar.E0.default} ${ar.E0.default}`}},Ru=(0,wi.G)({selectors:{},handlers:Eu})((0,_e.D2)(zu)((0,ke.$)()((0,jr.C)((({popup:{subtype:e,email:t}},{tp:r})=>({title:"success"===e?r._t("Необходимо подтвердить новый адрес"):r._t("Что-то пошло не так"),description:"success"===e?r._t("Для подтверждения перейдите по ссылке в письме, которое мы отправили по адресу %1",[t]):"errorWithEmail"===e?r._t("Данный e-mail занят другим пользователем"):r._t("Попробуйте еще раз!")})))(Lu)))),Fu=()=>(0,n.jsx)(Te.E,{loader:Ne.H.subscribers,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q}),Hu=()=>(0,n.jsx)(Te.E,{loader:Ne.H.subscriptions,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q});var Bu=r(48363),Au=r(71202),Du=r(14813),Zu=r(62185),Vu=r(49589);const Uu=(0,T.gQ)("submitComplaint",(({data:e,context:t})=>{const r=(0,$.by)();return"review"===e.type?(0,T.vP)((0,Ye.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),(0,Bu.am)({reviewId:e.id,text:e.text,statusId:r}),Wu(r,e.type)):(0,T.vP)((0,Ye.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),$u(e,r,t),Wu(r,e.type))})),$u=(e,t,r)=>(0,G.gF)({baseParams:Zu.w},(({baseParams:n})=>(0,Bu.K6)({statusId:t,data:Object.assign(Object.assign(Object.assign({},n),(0,Vu.A)()),{photoId:e.id,message:e.text,errorType:"product",emailValue:r.email,objectId:r.popup.objectId,objectType:r.popup.objectType})}))),Wu=(e,t)=>(0,T.xJ)((r=>{const n=r.status[e];return n&&n.meta?n&&"success"===n.meta.status?(0,T.vP)((0,di.$)((({tp:e})=>(0,Au.c)((0,Du.V)({title:e._t("Спасибо"),message:"photo"===t?e._t("Мы проверим это фото!"):e._t("Мы проверим этот отзыв!")})))),(0,Ye.j4)()):n&&"error"===n.meta.status?(0,T.vP)(qu(n.meta.code),(0,Ye.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!1})}))):void 0:qu()})),qu=e=>(0,di.$)((({tp:t})=>(0,Au.c)((0,Du.v)({title:400===e?t._t("Длина сообщения должна быть от 3 до 500 символов"):t._t("Что-то пошло не так"),message:t._t("Не получилось отправить жалобу на отзыв. Повторите попытку.")})))),Gu={isSendingStatus:e=>!(!e.appContext.popup||"complaint"!==e.appContext.popup.type)&&!!e.appContext.popup.isSending,user:e=>(0,Ve.bG)(e).data},Qu={onSubmitComplaintButtonClick:Uu,onCloseButtonClick:Ye.j4},Ku={wrapper:{padding:"12px 24px",boxShadow:Mi.q.innerBorderBottomBase},title:Object.assign({},st.FY),law:{marginTop:16}},Ju=(0,wi.G)({selectors:Gu,handlers:Qu})((0,_e.D2)(Ku)((0,ke.$)()((e=>{const{user:t,popup:r,onSubmitComplaintButtonClick:s,onCloseButtonClick:i,i18n:{tp:a},s:o,isSendingStatus:c}=e,{entityId:d,subtype:l}=r,[u,p]=(0,we.useState)(""),[h,g]=(0,we.useState)(""),m="photo"===l,f=m?a._t("Пожаловаться на фото"):a._t("Жалоба на отзыв"),v=m?!t&&(h.length<3||h.length>100)||u.length<3||u.length>500||c:u.length<3||u.length>500||c,b=(0,we.useMemo)((()=>(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(o.wrapper)},{children:[m&&!t&&(0,n.jsx)(nu.n,{error:!!h&&h.length>3&&h.length<100,placeholder:a._t("Укажите эл. почту, и мы ответим на ваши вопросы"),onChange:g,inputType:"email"}),(0,n.jsx)(nu.n,{multiline:!0,linesCount:6,placeholder:a._t("Опишите суть жалобы своими словами"),error:!!u&&u.length>3&&u.length<100,onChange:p}),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(o.law)},{children:(0,n.jsx)(hu.p,{type:"default_partner",buttonName:a._t("Отправить")})}))]}))),[m,t]),y=(0,we.useCallback)((()=>s({data:{type:l,id:d,text:u},context:{popup:r,email:t&&t.email||h}})),[u,t]);return(0,n.jsx)(Yl.F,{dataN:"wat-review-coplaint-popup",header:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(o.wrapper,o.title)},{children:(0,n.jsx)("h1",{children:f})})),body:b,footer:(0,n.jsx)(Xl.y,{disabledButton:v,withAuth:!0,submitText:a._t("Отправить"),onSubmit:y,onCancel:i})})})))),Yu=(e,{dateFns:t,config:{comma:r}})=>{const{date:n,entity:s}=e;if(!s)return;const i="name"in s?s.name:void 0;return{title:i,description:`${t.format(new Date(n),"d MMMM yyyy")}${r} ${i}`}},Xu=(0,wi.G)({selectors:({entityId:e,searchId:t})=>({entity:r=>(0,b.wj)({state:r,entityId:e,searchId:t}).data,isSearchBot:e=>e.session.isSearchBot})})((e=>{const{s:t,css:r}=(0,rt.y)(ep),s=(0,on.Gb)(Yu,e);if(!s)return null;const{title:i,description:a}=s;if(!i)return null;const{entity:o,isSearchBot:c}=e;return(0,n.jsxs)("div",Object.assign({className:r(t.wrapper)},{children:[!!o&&(0,n.jsx)("div",Object.assign({className:r(t.image)},{children:(0,n.jsx)(rr.T,{entity:o,isLoadingForced:c})})),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",Object.assign({className:r(t.title)},{children:(0,n.jsx)("h1",{children:i})})),!!a&&(0,n.jsx)("div",{children:a})]})]}))})),ep=(0,rt.k)({wrapper:{padding:"12px 24px",boxShadow:Mi.q.innerBorderBottomBase,display:"flex",alignItems:"center"},image:{marginEnd:16},title:Object.assign(Object.assign({},st.FY),{marginBottom:4})}),tp=(0,we.memo)((({onTextChange:e,officialAnswerText:t})=>{const{s:r,css:s}=(0,rt.y)(rp),i=(0,nt.T)();return(0,n.jsxs)("div",Object.assign({className:s(r.wrapper)},{children:[!!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:s(r.title)},{children:i._t("Официальный ответ")})),(0,n.jsx)("div",Object.assign({className:s(r.text)},{children:t}))]}),(0,n.jsx)("div",Object.assign({className:s(r.title)},{children:i._t("Добавьте комментарий")})),(0,n.jsx)(nu.n,{onChange:t=>e(t),autoFocus:!0,multiline:!0})]}))}));tp.displayName="Body";const rp=(0,rt.k)({wrapper:Object.assign(Object.assign({},st.oN),{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}),title:{color:Ee.O.gray_929292},text:{boxShadow:Mi.q.innerBorderBottomBase,paddingTop:8,paddingBottom:20,paddingStart:0,paddingEnd:0,marginBottom:16}});var np=r(69937),sp=r(51113),ip=r(8839),ap=r(44414),op=r(74173),cp=r(3892),dp=r(84387);const lp=(0,T.gQ)("submitReviewComment",(e=>{const{reviewId:t,text:r}=e,n=(0,$.by)(),s=(0,T.vP)((0,np.g7)({id:t,text:r,statusId:n}),(0,sp.$c)(n,(e=>(0,ip.d)(e)?(0,T.Mf)((0,Ye.j4)(),(0,di.$)((({tp:e})=>(0,Au.c)((0,Du.V)({title:e._t("Спасибо!"),message:e._t("Ваш комментарий отправлен")}))))):(0,di.$)((({tp:e})=>(0,Au.c)((0,Du.v)({title:e._t("Ошибка!"),message:e._t("Попробуйте еще раз!")})))))));return(0,T.Rh)((({featurePersonalDataAgreement:e,featurePhoneLaw:t})=>(0,G.gF)({hasPhone:Ve.DK,status:t=>(0,ap.I)(t,e)},(({hasPhone:e,status:r})=>{const n=t&&!e;return n||"idle"===r?(0,op.L)({after:e=>e?s:(0,T.ZT)(),openPopup:n?()=>(0,dp.p)():()=>(0,cp.I)(!1)}):s}))))})),up={review:e=>{const{popup:t}=e.appContext;if("addReviewComment"!==(null==t?void 0:t.type))return;const r=t.reviewId;return(0,Zn.Tt)({state:e,id:r}).data}},pp={closeAddReviewCommentPopup:Ye.j4,submitComment:lp},hp=e=>{var t;const{review:r}=e;if(r&&!r.temporary)return{date:r.date_created,officialAnswer:null===(t=r.official_answer)||void 0===t?void 0:t.text,entityId:r.object.id}},gp=(0,wi.G)({selectors:up,handlers:pp})((e=>{const{closeAddReviewCommentPopup:t,submitComment:r,review:s,popup:{searchId:i}}=e,[a,o]=(0,we.useState)(""),[c,d]=(0,we.useState)(!0),l=(0,we.useCallback)((e=>{o(e),d(e.length<4)}),[a]),u=(0,we.useCallback)((()=>{s&&r({text:a,reviewId:s.id})}),[t,a]),p=(0,nt.T)(),h=(0,on.Gb)(hp,e);if(!h)return null;const{date:g,entityId:m,officialAnswer:f}=h;return(0,n.jsx)(Yl.F,{dataN:"wat-add-review-comment-popup",header:(0,n.jsx)(Xu,{date:g,entityId:m,searchId:i}),body:(0,n.jsx)(tp,{onTextChange:l,officialAnswerText:f}),footer:(0,n.jsx)(Xl.y,{submitText:p._t("Опубликовать"),withAuth:!0,onSubmit:u,onCancel:t,disabledButton:c})})})),mp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.cart,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),fp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.deliveryOrderPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),vp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.sendOrderPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),bp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.broadcast,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),yp=()=>(0,n.jsx)(Te.E,{loader:Ne.H.thanksForReview,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q}),xp=()=>(0,n.jsx)(Te.E,{loader:Ne.H.thanksForPhoto,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q}),jp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.personalDataAgreementPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),wp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.smmTipPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(pn.w,{asyncStatus:e})}),Ip=e=>(0,n.jsx)(Te.E,{loader:Ne.H.smmCheckoutPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,n.jsx)(pn.w,{asyncStatus:e})});var Cp=r(64016),Op=r(53625);function _p(){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"212",height:"103",fill:"none"},{children:[(0,n.jsx)("path",{fill:"url(#phone-confirmation-a)",d:"M81.866 93.095h-4.23c-3.085.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.588-6.467 5.673-6.169h3.882c2.737.249 12.989 4.428 12.989 7.811v24.776c0 3.334-9.954 7.065-12.64 7.264Z"}),(0,n.jsx)("path",{fill:"url(#phone-confirmation-b)",d:"m94.108 92.249-12.043.846c-3.086.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.587-6.467 5.673-6.169l12.043 1.194c2.737.249 4.877 3.234 4.877 6.567v24.776c0 3.383-2.14 6.269-4.877 6.468Z"}),(0,n.jsx)("path",{fill:"url(#phone-confirmation-c)",d:"M60.07 47.423c0-8.905-3.534-16.965-8.86-20.995l-2.09-2.686h-5.225c-8.808-.15-16.173 9.95-16.173 23.184 0 13.78 7.962 23.632 17.169 23.632.298 0 6.32-.1 6.32-.1V68.12c5.325-3.831 8.858-11.791 8.858-20.697Z"}),(0,n.jsx)("path",{fill:"url(#phone-confirmation-d)",d:"M95.402 27.174c0-7.462-2.986-14.229-7.415-17.562l-1.741-2.239h-4.38c-7.365-.1-13.536 8.309-13.536 19.403 0 11.493 6.619 19.752 14.382 19.752.25 0 5.325-.05 5.325-.05v-1.94c4.38-3.234 7.365-9.901 7.365-17.364Z"}),(0,n.jsx)("path",{fill:"url(#phone-confirmation-e)",d:"M65.642 47.423c0 12.14-6.569 22.488-15.178 23.134-9.207.697-17.17-9.85-17.17-23.631 0-13.782 7.963-24.08 17.17-23.135 8.61.945 15.178 11.443 15.178 23.632Z"}),(0,n.jsx)("path",{fill:"url(#phone-confirmation-f)",d:"M101.225 27.125c0 10.149-5.474 18.806-12.69 19.353-7.714.597-14.333-8.209-14.333-19.702 0-11.492 6.669-20.099 14.332-19.303 7.216.697 12.691 9.503 12.691 19.652Z"}),(0,n.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M128.951 98.456c0 1.426-.771 2.641-1.78 2.717-1.082.082-2.016-1.155-2.016-2.77 0-1.613.934-2.825 2.016-2.713 1.009.105 1.78 1.34 1.78 2.766ZM200.352 3.773c0 1.426-.771 2.64-1.781 2.717-1.081.082-2.015-1.155-2.015-2.77 0-1.613.934-2.825 2.015-2.713 1.01.105 1.781 1.34 1.781 2.766ZM14.247 17.012c0 1.426-.77 2.64-1.78 2.717-1.082.082-2.016-1.156-2.016-2.77s.934-2.825 2.016-2.713c1.01.104 1.78 1.34 1.78 2.766ZM51.083 36.765l-.302 21.402M44.167 46.996l13.197.543M93.758 74.888l-10.942-.068 7.627-10.98v21.485M150.099 77.903c5.897.582 45.866 4.547 51.091-27.312 2.683-16.373-37.845-37.523-52.341-36.302-6.539.55-49.442 5.432-55.097 6.7-5.002 1.122-7.54 3.693-7.224 6.754.144 1.384.475 4.264 5.947 5.729.799.215 1.645.407 2.546.575 5.182.986 12.031 1.198 20.261.096.597-.078 1.99-.145 2.641-.195.025 0 .049 0 .07-.002"}),(0,n.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M123.256 50.321c-3.307 4.941-1.567 16.859 16.951 17.493 12.249.42 15.19-4.363 15.939-8.803"}),(0,n.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M121.345 43.28c-.593 7.517 4.84 11.995 18.307 12.551 3.022.125 10.696.205 14.545-3.32M124.815 62.323c-2.963 1.271-4.214 9.292 4.565 13.774 7.412 3.783 22.95 3.55 25.875-2.522 1.565-3.25.167-6.608-2.962-8.06"}),(0,n.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M162.21 31.402c-14.232-5.966-17.263-.587-28.369-1.077-12.518-.553-16.333 1.618-16.359 5.702-.044 6.814 8.821 11.165 20.194 9.347 4.936-.789 10.035 1.793 14.433 3.206 4.959 10.675 12.888 18.007 23.258 16.535"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-a",x1:"71.946",x2:"94.527",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-b",x1:"76.426",x2:"99.007",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-c",x1:"27.703",x2:"60.062",y1:"47.161",y2:"47.161",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-d",x1:"68.311",x2:"95.391",y1:"26.976",y2:"26.976",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,n.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,n.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,n.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-e",x1:"33.278",x2:"65.638",y1:"47.205",y2:"47.205",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-f",x1:"74.202",x2:"101.232",y1:"26.942",y2:"26.942",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#19AA1E"}),(0,n.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]}))]})]}))}var kp=r(36062),Sp=r(93239),Mp=r(40696);const Tp=(0,we.memo)((({phone:e,resetCode:t})=>{const[r,s]=(0,we.useState)(59),{_t:i}=(0,Ns.T)(),{css:a,s:o}=(0,rt.y)(Np),c=(0,Ie.I0)(),{useBssHandler:d}=(0,Bt.T)(),l=d(kp.mH),u=()=>{const e=Date.now(),t=setInterval((()=>{const r=Math.floor(60-(Date.now()-e)/1e3);r>0?s(r):(clearInterval(t),s(0))}),1e3);return()=>{t&&clearInterval(t)}};(0,we.useEffect)((()=>u()),[]);const p=(0,yt.$)((()=>{s(59),u(),l(),c((0,Mp.ho)(e.replace(/ /g,""),(0,$.by)())),t()}));if(0===r)return(0,n.jsx)(es.z,Object.assign({appearance:"ghost",onClick:p,experimentalStyles:o.refreshButton,dataN:"wat-request-code-again"},{children:i("Отправить код ещё раз")}));const h=`0:${r<10?0:""}${r}`;return(0,n.jsx)("p",Object.assign({className:a(o.text)},{children:i("Новый код можно запросить через %1",[h])}))}));Tp.displayName="RefreshCodeTimer";const Np=(0,rt.k)({text:Object.assign(Object.assign({},st.oN),{color:Ee.O.gray_929292,marginTop:32,width:255,marginStart:"auto",marginEnd:"auto",textAlign:"left"}),refreshButton:{marginTop:32,padding:0}});var Pp=r(90560);const Ep=["","","",""],Lp=(0,we.memo)((({phone:e,withDecline:t,source:r,error:s})=>{const{_t:i}=(0,Ns.T)(),{css:a,s:o}=(0,rt.y)(zp),c=(0,Ie.I0)(),{bssRef:d,useBssHandler:l}=(0,Bt.T)((0,kp.Df)()),u=l(kp.Gk),p=(0,Ie.v9)((e=>{var t,r;return"loading"===(null===(r=null===(t=e.data.user.phone)||void 0===t?void 0:t[Pp.F])||void 0===r?void 0:r.status)})),[h,g]=(0,we.useState)(Ep),[m,f]=(0,Cp.z)(!!s),v=(0,bu.qF)(h),b=s!==bu.F9;(0,Op.x)({type:"common:escapeKeyUp",handler:()=>{u()}});const y=n=>{p||c((0,T.vP)(s?(0,Sp.V)({phone:e,withDecline:t,source:r}):(0,T.ZT)(),(0,Mp.hx)({phone:e,confirmationCode:n,source:r,withDecline:t})))},x=(0,yt.$)((()=>{u(),c((0,Mp.fy)(r,!1))})),j=(0,yt.$)((e=>{const t=parseInt(e.target.dataset.index||""),r=[...h];if(""===e.target.value&&!Number.isNaN(t))return r[t]=e.target.value,g(r),void f(!1);const n=e.target.value;return(0,bu.X1)(n)&&!Number.isNaN(t)?(r[t]=n,g(r),f(!1),(0,bu.lS)(e.target),void(t===h.length-1&&(0,bu.qF)(r)&&y(r.join("")))):void 0})),w=(0,yt.$)((e=>{const t=e.target;if(37!==e.keyCode&&(8!==e.keyCode||""!==t.value))return 39===e.keyCode?(e.preventDefault(),void(0,bu.lS)(e.target)):13===e.keyCode?(e.preventDefault(),void C()):void 0;if(e.preventDefault(),(0,bu.j1)(e.target),8===e.keyCode){const e=parseInt(t.dataset.index||"");if(e){const t=[...h];t[e-1]="",g(t)}}})),I=(0,yt.$)((e=>{(0,bu.X1)(e.key)||e.preventDefault()})),C=(0,yt.$)((()=>{v&&y(h.join(""))})),O=(0,yt.$)((()=>{g(Ep)}));return(0,n.jsx)(Yl.F,{dataN:"wat-confirm-phone-popup",showCloseButton:!0,onClose:x,body:(0,n.jsxs)("div",Object.assign({className:a(o.body),ref:d},{children:[(0,n.jsx)(_p,{}),(0,n.jsx)("h1",Object.assign({className:a(o.header)},{children:i("Подтвердите номер")})),(0,n.jsx)("p",Object.assign({className:a(o.text)},{children:i("Введите код из SMS, отправленного на номер %1",[e.replace(" ","&nbsp;")])})),(0,n.jsx)("div",Object.assign({className:a(o.inputWrapper)},{children:h.map(((e,t)=>(0,n.jsx)("input",Object.assign({autoFocus:0===t,className:a(o.input,m&&o._error),type:"number",placeholder:"-",min:0,max:9,value:e,"data-index":t,onChange:j,onKeyDown:w,onKeyPress:I},Oe.dx.n(`wat-phone-code-input-${t}`)),t)))})),m&&(0,n.jsx)("div",Object.assign({className:a(o.error)},{children:(0,bu.KY)(s,i)})),b&&(0,n.jsx)(Tp,{phone:e,resetCode:O}),(0,n.jsx)(es.z,Object.assign({appearance:v&&b?"secondary":"noncontrast",wide:!0,disabled:!bu.qF||!b||p,onClick:C,experimentalStyles:o.confirmButton,dataN:"wat-confirm-code"},{children:i("Подтвердить")})),t&&(0,n.jsx)(es.z,Object.assign({appearance:"ghost",onClick:x,dataN:"wat-confirm-phone-cancel"},{children:i("Отказаться и не привязывать")}))]}))})}));Lp.displayName="PhoneConfirmationPopup";const zp=(0,rt.k)((e=>({body:{padding:e.mobile?"56px 16px":"56px 116px",textAlign:"center"},header:Object.assign(Object.assign({},st.hC),{fontWeight:st.Ue.bold,marginTop:28,marginBottom:16}),text:Object.assign({},st.oN),textLine:{display:"block"},inputWrapper:{display:"flex",justifyContent:"space-between",marginTop:32},input:Object.assign(Object.assign({},st.hC),{flexGrow:1,border:"none",borderBottom:`1px solid ${Ee.O.gray_e6e6e6}`,padding:"12px 0",marginEnd:16,textAlign:"center",minWidth:1,":focus":{borderBottomColor:Ee.O.blue_0070cc,outline:"none","::placeholder":{color:"transparent"}}}),_error:{borderBottomColor:Ee.O.red_fe5000},error:Object.assign(Object.assign({},st.yG),{marginTop:6,color:Ee.O.red_fe5000}),confirmButton:{marginTop:40}}))),Rp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.phonePopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Fp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.successfulSubscriptions,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var Hp=r(21366);const Bp=e=>(0,n.jsx)(Te.E,{loader:Ne.H.social,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Ap=()=>(0,n.jsx)(Te.E,{loader:Ne.H.recommendations,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q});var Dp=r(14844),Zp=r(86592);function Vp(e){return(0,Ie.v9)((t=>{const r=t.appContext.popup;if(!e||e===(null==r?void 0:r.type))return r}))}var Up=r(72498);const $p=(0,we.memo)((()=>{const{css:e,s:t}=(0,rt.y)(Wp),r=(0,Ns.T)(),{brandName:s}=(0,ht.Z)(),i=Vp("choosePhone"),a=Fn((0,Zp.X)(null==i?void 0:i.entityId));return(0,n.jsx)(Dp.P,{children:(0,n.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,n.jsx)("div",Object.assign({className:e(t.caption)},{children:r._t("Выберите номер для звонка")})),(0,n.jsx)("div",Object.assign({className:e(t.message)},{children:r._t("Пожалуйста, скажите, что узнали номер в %1",[s])})),(0,n.jsx)("div",Object.assign({className:e(t.phones)},{children:a.map((({text:r,value:s,comment:i},a)=>(0,n.jsxs)("a",Object.assign({className:e(t.phone),href:`tel:${s}`},{children:[(0,n.jsx)(Up.L,{color:Ee.O.green_30ad00}),(0,n.jsxs)("span",Object.assign({className:e(t.text)},{children:[(0,n.jsx)("span",Object.assign({className:e(t.value)},{children:r||s})),i&&(0,n.jsx)("span",Object.assign({className:e(t.comment)},{children:i}))]}))]}),a)))}))]}))})}));$p.displayName="ChoosePhonePopup";const Wp=(0,rt.k)({root:{padding:28,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},st.FY),{marginTop:24}),message:{marginTop:12},phones:{marginTop:16,width:"100%"},phone:{paddingTop:16,paddingBottom:16,display:"flex",alignItems:"center"},text:{marginStart:16,display:"flex",flexDirection:"column"},value:{},comment:Object.assign({marginTop:2,color:Ee.O.gray_929292},st.yG)});var qp=r(49058);const Gp=({children:e,onClose:t})=>{const{isMobileDevice:r}=(0,ht.Z)();return r?(0,n.jsx)(Dp.P,{children:e}):(0,n.jsx)(Yl.F,{body:e,showCloseButton:!0,onClose:t})};Gp.displayName="PopupAdaptiveLayout";var Qp=r(55457);const Kp=(0,we.memo)((()=>{var e;const{css:t,s:r}=(0,rt.y)(Jp),s=(0,Ns.T)(),{featureAlbumsCounts:i}=(0,ht.Z)(),{frame:a,entity:o}=(0,Rn.j)(),c=o&&(0,kr.J)(o)?(0,Sr.a)(o.rubrics):void 0,d=(0,Ie.v9)(Q.O),l=(0,gn.VP)("menu"===(null==a?void 0:a.tab)&&"branch"===(null==o?void 0:o.type)?{branchId:o.id,locale:d}:void 0),u=i?20:void 0,p=(0,Qp.gx)("menu"===(null==a?void 0:a.tab)&&"branch"===(null==o?void 0:o.type)?{id:a.entityId,albumId:z.Ok,locale:d,pageSize:u}:void 0,{enabled:i}),h=p.data?(null===(e=p.data)||void 0===e?void 0:e.pages[0].items.length)||0:void 0,g=l.data?l.data.total||0:void 0,m=i?h:g,{bssRef:f}=(0,Bt.T)((({size:e})=>(t,r)=>{const n=(0,ee.t0)(r.appContext.frames,"entity");if(void 0!==e&&n)return{uiElement:{name:"addPricePhotoSuccess",ownerName:"cardPrices",frameUuid:n.id},payload:{productOffersList:{entity:{id:n.entityId,type:"branch"},size:e},placeItem:(0,Dt.s)({state:r,entityFrameId:n.id}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0}}}})({size:m})),v="menu"===c?s._t("Фотография появится в разделе Меню сразу после модерации: обычно на проверку уходит 1-2 дня"):s._t("Фотография появится в разделе с ценами сразу после модерации: обычно на проверку уходит 1-2 дня"),b=(0,Ie.I0)(),y=(0,we.useCallback)((()=>{b((0,Ye.j4)())}),[b]);return(0,n.jsx)(Gp,Object.assign({onClose:y},{children:(0,n.jsxs)("div",Object.assign({ref:f,className:t(r.root)},{children:[(0,n.jsx)("div",Object.assign({className:t(r.icon)},{children:(0,n.jsx)(qp.w,{})})),(0,n.jsx)("div",Object.assign({className:t(r.caption)},{children:s._t("Знаете цену и другим подсказываете. Спасибо!")})),(0,n.jsx)("div",Object.assign({className:t(r.message)},{children:v})),(0,n.jsx)("div",Object.assign({className:t(r.button)},{children:(0,n.jsx)(Pt.Z,Object.assign({onClick:y},{children:s._t("Хорошо")}))}))]}))}))}));Kp.displayName="MenuPhotoThankPopup";const Jp=(0,rt.k)({root:{padding:90,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},icon:{width:304,height:180},caption:Object.assign(Object.assign({},st.FY),{marginTop:32}),message:{marginTop:16},button:{marginTop:32}});var Yp=r(65969),Xp=r(65126);const eh=(0,we.memo)((()=>{var e,t;const{css:r,s}=(0,rt.y)(th),i=(0,Ns.T)(),a=(0,Ie.I0)(),o=Vp("erir"),c=(0,Xp.j)(o),d=!(null===(e=null==c?void 0:c.blocks)||void 0===e?void 0:e.length)&&!(null==c?void 0:c.isLoading)&&!(null==c?void 0:c.wasLoading),{onCopy:l,renderIdInput:u}=(0,Xp.e)(),p=(0,we.useCallback)((()=>{a((0,Ye.j4)())}),[a]);return(0,we.useEffect)((()=>{d&&a((0,Ye.j4)())}),[]),d?null:(0,n.jsx)(Gp,Object.assign({onClose:p},{children:(0,n.jsxs)("div",Object.assign({className:r(s.root)},{children:[(0,n.jsx)("div",Object.assign({className:r(s.caption)},{children:i._t("О рекламодателе")})),(0,n.jsx)("div",Object.assign({className:r(s.info)},{children:(null==c?void 0:c.isLoading)?(0,n.jsx)(Yp.p,{}):(null===(t=null==c?void 0:c.blocks)||void 0===t?void 0:t.length)?(0,n.jsxs)(n.Fragment,{children:[c.blocks.map((({erid:e,legalName:t},i)=>(0,n.jsx)("div",Object.assign({className:r(s.block)},{children:e?(0,n.jsxs)(it.v,Object.assign({inline:!0},{children:[t||null,(0,n.jsx)("span",Object.assign({className:r(s.erid)},{children:e}))]})):t}),i))),!!c.erid&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Pt.Z,Object.assign({styles:s.link,onClick:l},{children:i._t("Скопировать ID")})),u(c.erid)]})]}):i._t("Не удалось загрузить данные.")}))]}))}))}));eh.displayName="ErirPopup";const th=(0,rt.k)({root:{padding:24,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},st.FY),{marginTop:24}),info:{marginTop:12,textAlign:"center"},block:{marginTop:12,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},link:{marginTop:20,marginBottom:20}}),rh=()=>(0,n.jsx)(Te.E,{loader:Ne.H.newYearPromoPopup,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q});var nh=r(21952);const sh=e=>(0,n.jsx)(Te.E,{loader:Ne.H.desktopPromoPopupBanner,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var ih=r(11720);const ah="desktopOvercastAppPopup",oh=(0,we.memo)((()=>{const e=(0,Ie.I0)(),{onClose:t}=(0,ih.n)(),{bssRef:r,bssRefFrame:s,trackBssAction:i}=(0,nh.v)({promoType:ah}),a=(0,yt.$)((r=>{if("close"===r)e((0,Ye.j4)()),t();i(r)}));return(0,n.jsx)(Yl.F,{body:(0,n.jsx)("div",Object.assign({ref:s},{children:(0,n.jsx)("div",Object.assign({ref:r},{children:(0,n.jsx)(sh,{promoType:ah,onAction:a})}))}))})}));oh.displayName="DesktopPromoPopup";const ch=e=>({frameId:t})=>({uiElement:{name:"closePromo",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}}),dh=e=>({frameId:t})=>({uiElement:{name:"toStore",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}});var lh=r(87198),uh=r(97294);function ph(){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"49",height:"9",viewBox:"0 0 49 9"},{children:(0,n.jsx)("path",{fill:"#FF9500",d:"M4.5 0l1.188 3H9L6.644 5.261 7.5 8.5l-3-1.695-3 1.695.923-3.173L0 3h3.271L4.5 0zm10 0l1.188 3H19l-2.356 2.261L17.5 8.5l-3-1.695-3 1.695.923-3.173L10 3h3.271L14.5 0zm10 0l1.188 3H29l-2.356 2.261L27.5 8.5l-3-1.695-3 1.695.923-3.173L20 3h3.271L24.5 0zm10 0l1.188 3H39l-2.356 2.261L37.5 8.5l-3-1.695-3 1.695.923-3.173L30 3h3.271L34.5 0zM49 3h-3.312L44.5 0l-1.229 3H40l2.423 2.327L41.5 8.5l3-1.695 3 1.695-.856-3.239L49 3zm-4.5 3.025V1.5l.792 2H47.5l-1.571 1.501.571 2.156-2-1.132z"})}))}var hh=r(16499),gh=r(77786);const mh=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(fh),r=(0,nt.T)(),{brandName:s}=(0,ht.Z)(),i=(0,Ie.v9)((e=>e.session.platform)),a=(0,lh.O)({platform:i,type:"mobilePromo"}),[o,c]=(0,we.useState)(!1),{bssRef:d,useBssHandler:l}=(0,Bt.T)((({frameId:e})=>({uiElement:{name:"appPromoFrame",uuid:e,type:"frame"}}))),u=(0,Bt.T)((p="mobilePromo",({frameId:e})=>({uiElement:{name:"appPromo",ownerName:"appPromoFrame",frameUuid:e},payload:{appPromoInfo:{type:p}}})));var p;const h=l(ch,{type:"mobilePromo"}),g=l(dh,{type:"mobilePromo"}),m=(0,we.useCallback)((()=>{g()}),[g]),f=(0,we.useCallback)((()=>{h(),c(!0)}),[h]);if(o||!a)return null;const v=a.link,b=`${s} ${r._t("Городской справочник")}`,y=(0,uh.V)(i);return(0,n.jsxs)("div",Object.assign({className:t(e.root),ref:d},Oe.dx.n("wat-top-promo"),{children:[(0,n.jsxs)("a",Object.assign({className:t(e.link),target:"_blank",href:v,onClick:m,ref:u.bssRef},{children:[(0,n.jsx)("div",Object.assign({className:t(e.logo)},{children:(0,n.jsx)(gh.y,{})})),(0,n.jsxs)("div",Object.assign({className:t(e.info)},{children:[(0,n.jsx)("div",Object.assign({className:t(e.title)},{children:b})),(0,n.jsxs)("span",Object.assign({className:t(e.stat)},{children:[(0,n.jsx)(ph,{}),(0,n.jsx)("span",Object.assign({className:t(e.additionalInfo)},{children:y.reviews}))]})),(0,n.jsx)("div",Object.assign({className:t(e.download)},Oe.dx.n("wat-top-downland"),{children:r._t("Загрузить приложение")}))]}))]})),(0,n.jsx)("div",Object.assign({className:t(e.close),onClick:f},Oe.dx.n("wat-top-close"),{children:(0,n.jsx)(hh.x,{})}))]}))}));mh.displayName="MobileAppPromoSmartBanner";const fh=(0,rt.k)({root:{position:"relative",display:"flex",background:"white",width:"100%",padding:"12px 20px",boxSizing:"border-box",flexShrink:0,zIndex:2,"@media (max-width: 320px)":{padding:"12px 16px"}},close:{display:"flex",justifyContent:"center",alignItems:"center",color:"#bbbbbb"},logo:{width:64,height:64,"& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:64,padding:"0 12px",color:Ee.O.black},title:Object.assign(Object.assign({},st.oN),{lineHeight:"16px","@media (max-width: 320px)":Object.assign(Object.assign({},st.yG),{lineHeight:"18px"})}),stat:{display:"flex",alignItems:"center",padding:"4px 0px"},additionalInfo:Object.assign(Object.assign({},st.yG),{lineHeight:st.yG.fontSize,paddingStart:4,color:Ee.O.gray_929292}),download:Object.assign(Object.assign({},st.oN),{textDecoration:"none",color:Ee.O.blue_0672ad,"@media (max-width: 320px)":Object.assign({},st.yG)})}),vh=e=>(0,n.jsx)(Te.E,{loader:Ne.H.mobileAppPromoBannerPopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var bh=r(25920);const yh=()=>{const e=(0,ht.Z)();return{name:(0,we.useMemo)((()=>(e=>{switch((0,Qi.c)(bh.Bm,e)){case bh.d:return"bottomOvercastChoicePopup";case bh.MT:return"bottomOvercastPopup";case bh.Ni:return"fullscreenChoicePopup"}return"smartBannerOld"})(e.experiments)),[e.experiments])}},xh=(0,we.memo)((()=>{const{name:e}=yh();return"smartBannerOld"===e?(0,n.jsx)(mh,{}):(0,n.jsx)(vh,{name:e})}));class jh extends we.PureComponent{render(){const{s:e,isDark:t,popup:r}=this.props,s=this.renderContentModule();return s?(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:r.id}},{children:(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.popup)},{children:(0,n.jsx)(Ul,Object.assign({isDark:t},{children:s}))}))})):null}renderContentModule(){const{popup:e}=this.props;switch(e.type){case"feedback":return(0,n.jsx)(Zl,{type:e.subtype});case"createReview":case"editReview":return(0,n.jsx)(Wl,{popup:e});case"photoUploader":return(0,n.jsx)($l,{});case"typedFeedback":return(0,n.jsx)(ql,{popup:e});case"editFavorite":return(0,n.jsx)(Gl,{popup:e});case"videoPlayer":return(0,n.jsx)(Ql,{popup:e});case"entityVideoPlayer":return(0,n.jsx)(Kl,{popup:e});case"editUserProfile":return(0,n.jsx)(Su,{popup:e});case"deleteUserProfile":return(0,n.jsx)(Pu,{popup:e});case"subscribers":return(0,n.jsx)(Fu,{});case"subscriptions":return(0,n.jsx)(Hu,{});case"recommendations":return(0,n.jsx)(Ap,{});case"successfulSubscriptions":return(0,n.jsx)(Fp,{popup:e});case"noFriends":return(0,n.jsx)(Hp.j,{});case"social":return(0,n.jsx)(Bp,{source:e.source});case"sharing":return(0,n.jsx)(Jl,{popup:e});case"complaint":return(0,n.jsx)(Ju,{popup:e});case"emailConfirmation":return(0,n.jsx)(Ru,{popup:e});case"addReviewComment":return(0,n.jsx)(gp,{popup:e});case"deliveryOrder":return(0,n.jsx)(fp,{popup:e});case"cart":return(0,n.jsx)(mp,{popup:e});case"sendOrder":return(0,n.jsx)(vp,{popup:e});case"broadcast":return(0,n.jsx)(bp,{popup:e});case"thanksForReview":return(0,n.jsx)(yp,{});case"thanksForPhoto":return(0,n.jsx)(xp,{});case"personalDataAgreement":return(0,n.jsx)(jp,{withDecline:e.withDecline});case"smmTipPopup":return(0,n.jsx)(wp,{popup:e});case"smmCheckout":return(0,n.jsx)(Ip,{popup:e});case"phoneConfirmationPopup":return(0,n.jsx)(Lp,{phone:e.phone,withDecline:e.withDecline,source:e.source,error:e.error});case"phonePopup":return(0,n.jsx)(Rp,{type:e.subtype});case"choosePhone":return(0,n.jsx)($p,{});case"menuPhotoThank":return(0,n.jsx)(Kp,{});case"erir":return(0,n.jsx)(eh,{});case"newYearPromo":return(0,n.jsx)(rh,{});case"desktopPromo":return(0,n.jsx)(oh,{});case"mobileAppPromoBannerPopup":return(0,n.jsx)(xh,{});default:return null}}}jh.displayName=(0,He.I)("src/modules/popup");const wh=(0,Ae.$j)(Dl)((0,jr.C)((({popup:e})=>{if(e)return{popup:e,isDark:"isPopupGlassDark"in e&&e.isPopupGlassDark}}))((0,_e.D2)({popup:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})(jh)));var Ih=r(96023);const Ch=(0,Ae.X1)((e=>({notifications:e.appContext.weak.notifications}))),Oh=(0,Ae.Z3)((e=>({onNotificationClick(t){e((0,Au.y)({id:t}))}})));function _h({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M19.19 12.14l.44-2.21a3 3 0 0 0-2-3.44l-2.15-.71-.38.77a22.31 22.31 0 0 1-4.75 6.18L10 13v11.94l10.17.61h.31a5 5 0 0 0 4.88-3.93l1.85-8.49zm4.21 9.06a3 3 0 0 1-3.11 2.36l-8.29-.5V14a24.08 24.08 0 0 0 4.48-5.75l.53.18a1 1 0 0 1 .66 1.15l-.86 4.32 8 1zM6 13h2v12H6z"})}))}class kh extends we.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.notification.id)}}render(){const{title:e,message:t,icon:r,s,bssRef:i}=this.props;return(0,n.jsxs)("div",Object.assign({ref:i,className:(0,_e.iv)(s.notification)},Oe.dx.n("wat-notification"),Oe.dx.t("error"===r?"error":"success"),{onClick:this.handleClick},{children:[(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.icon,"error"===r&&s._error)},{children:(0,n.jsx)(_h,{})})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.title)},{children:e})),(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(s.message)},{children:t}))]}))}componentDidMount(){this.hideTimer=window.setTimeout((()=>{this.handleClick()}),6e3)}componentWillUnmount(){window.clearTimeout(this.hideTimer)}}kh.displayName=(0,He.I)("src/modules/notifications/components/notification");const Sh={notification:{background:Ee.O.white,paddingTop:20,paddingBottom:20,paddingStart:56,paddingEnd:12,boxShadow:Mi.q.popup,borderRadius:ar.E0.isolate,cursor:"pointer",position:"relative",animationName:{from:{transform:"translateY(30px)",opacity:0},to:{transform:"translateY(0)",opacity:1}},animationDuration:`${Gt.l.short}ms`},icon:{color:Ee.O.green_299400,position:"absolute",top:16,start:12},_error:{color:Ee.O.red_fe5000,transform:"rotate(180deg)"},title:Object.assign(Object.assign({},st.Rw),{marginBottom:4}),message:Object.assign({},st.oN)},Mh=(0,Se.z)((e=>{const{notification:t}=e,r=t.payload.bssName;if(r)return{uiElement:{name:r,frameUuid:e.notification.id},payload:t.payload.payload}}))((0,jr.C)((({notification:e})=>{const{type:t,payload:r}=e;return{title:r.title,message:r.message,icon:"success"===t?"success":"error"}}))((0,_e.D2)(Sh)(kh)));class Th extends we.PureComponent{constructor(){super(...arguments),this.handleNotificationClick=e=>{this.props.onNotificationClick(e)}}render(){const{notifications:e,s:t}=this.props;return e.length?(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(t.root)},{children:e.slice(-3).map((e=>(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(t.item)},{children:(0,n.jsx)(Mh,{notification:e,onClick:this.handleNotificationClick},e.id)}),e.id)))})):null}}Th.displayName=(0,He.I)("src/modules/notifications");const Nh=(0,Ae.$j)(Ch,Oh)((0,_e.D2)((({mobile:e})=>({root:{position:"absolute",top:72,end:e?"initial":16,width:e?"100%":304,boxSizing:"border-box",paddingStart:e?20:0,paddingEnd:e?20:0},item:{marginBottom:16}})))(Th));function Ph(){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"46",height:"20",viewBox:"0 0 46 20",fill:"none"},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.94557 4C3.10921 4 0.981934 5.72727 1.00012 8.72727H3.63648C3.60012 7.52727 4.36375 6.36364 5.94557 6.36364C7.14557 6.36364 7.90921 7.16364 7.90921 8.18182C7.90921 9.23636 7.07284 9.81818 5.72739 10.4727C3.96375 11.3273 2.90921 11.7273 1.00012 12.3636V15.8182H10.4547V13.4545H4.56375C5.47513 13.0746 6.3622 12.6575 7.16375 12.2727C9.29102 11.2545 10.5456 10.1091 10.5456 8.05455C10.5456 5.58182 8.69102 4 5.94557 4ZM14.6365 6.54545H20.091V4.18182H12.091V15.8182H14.6365V6.54545ZM23.9092 4.18182H21.3638V15.8182H23.891L28.6365 8.38182V15.8182H31.1819V4.18182H28.6365L23.9092 11.6182V4.18182ZM43.9637 11.4545H41.3274C40.9274 12.7455 39.7092 13.6364 38.2728 13.6364C36.1819 13.6364 34.8183 11.8364 34.8183 10C34.8183 8.16364 36.1456 6.36364 38.3456 6.36364C39.8001 6.36364 40.9274 7.25455 41.3274 8.54545H43.9637C43.5819 5.94545 41.5274 4 38.2728 4C34.6728 4 32.2728 6.52727 32.2728 10C32.2728 13.4727 34.6728 16 38.2728 16C41.5274 16 43.5819 14.0909 43.9637 11.4545Z",fill:"#262626"}),(0,n.jsx)("path",{d:"M7.37995 12.7236C8.46637 12.2035 9.3845 11.6268 10.0307 10.8792C10.6913 10.115 11.0456 9.19789 11.0456 8.05455C11.0456 6.68461 10.5274 5.52975 9.60399 4.72338C8.68736 3.92294 7.41183 3.5 5.94557 3.5C4.42799 3.5 3.05869 3.96279 2.06534 4.86931C1.06576 5.78153 0.49027 7.10418 0.500125 8.7303L0.503137 9.22727H1.00012H3.63648H4.15186L4.13625 8.71213C4.1213 8.21878 4.27169 7.75623 4.56122 7.42388C4.84267 7.10079 5.28711 6.86364 5.94557 6.86364C6.43188 6.86364 6.79387 7.02384 7.03112 7.2516C7.26848 7.47947 7.40921 7.8013 7.40921 8.18182C7.40921 8.55014 7.27344 8.83401 6.97812 9.1151C6.6616 9.41637 6.17818 9.69739 5.50879 10.023C3.77007 10.8655 2.73667 11.2577 0.842002 11.8893L0.500116 12.0033V12.3636V15.8182V16.3182H1.00012H10.4547H10.9547V15.8182V13.4545V12.9545H10.4547H6.89602C7.0606 12.8765 7.22208 12.7993 7.37995 12.7236ZM7.37995 12.7236C7.37984 12.7236 7.37973 12.7237 7.37961 12.7237L7.16375 12.2727L7.38012 12.7235C7.38006 12.7235 7.38001 12.7235 7.37995 12.7236ZM15.1365 15.8182V7.04545H20.091H20.591V6.54545V4.18182V3.68182H20.091H12.091H11.591V4.18182V15.8182V16.3182H12.091H14.6365H15.1365V15.8182ZM24.4092 4.18182V3.68182H23.9092H21.3638H20.8638V4.18182V15.8182V16.3182H21.3638H23.891H24.1651L24.3125 16.0872L28.1365 10.0948V15.8182V16.3182H28.6365H31.1819H31.6819V15.8182V4.18182V3.68182H31.1819H28.6365H28.3619L28.2145 3.91358L24.4092 9.89964V4.18182ZM44.4586 11.5262L44.5414 10.9545H43.9637H41.3274H40.9589L40.8498 11.3066C40.5175 12.379 39.4998 13.1364 38.2728 13.1364C36.5131 13.1364 35.3183 11.6187 35.3183 10C35.3183 8.38506 36.4734 6.86364 38.3456 6.86364C39.5753 6.86364 40.5129 7.60635 40.8498 8.69344L40.9589 9.04545H41.3274H43.9637H44.5425L44.4584 8.47281C44.2511 7.0606 43.5857 5.81033 42.5167 4.9145C41.4474 4.01834 40.0021 3.5 38.2728 3.5C36.3518 3.5 34.7193 4.17672 33.5666 5.34684C32.4151 6.51583 31.7728 8.14635 31.7728 10C31.7728 11.8537 32.4151 13.4842 33.5666 14.6532C34.7193 15.8233 36.3518 16.5 38.2728 16.5C39.9998 16.5 41.4452 15.9921 42.5157 15.1C43.5864 14.2077 44.2515 12.9562 44.4586 11.5262Z",stroke:"#F1EDDA",strokeOpacity:"0.7"})]}))}function Eh(){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"20",fill:"none",viewBox:"0 0 40 20"},{children:(0,n.jsx)("path",{fill:"#6E7173",d:"M2 8.727C1.982 5.727 4.05 4 6.808 4c2.669 0 4.472 1.582 4.472 4.054 0 2.055-1.22 3.2-3.288 4.219-.778.382-1.644.909-2.527 1.181h5.903V16H2v-3.34c1.856-.636 2.881-1.333 4.596-2.187 1.308-.655 2.12-1.237 2.12-2.291 0-1.018-.742-1.818-1.908-1.818-1.538 0-2.28 1.163-2.245 2.363H2zM23.635 9.636v.91c0 3-1.98 5.454-5.568 5.454-3.447 0-5.815-2.527-5.815-6s2.298-6 5.903-6c3.094 0 5.02 1.836 5.48 4h-2.563c-.442-1.036-1.538-1.636-2.846-1.636-2.245 0-3.5 1.781-3.5 3.636 0 1.854 1.273 3.636 3.483 3.636 1.378 0 2.527-.69 2.88-1.818h-3.358V9.636h5.904zM27.453 16h-2.475V4h2.475v12zM38.43 7.636h-2.564c-.248-.781-.919-1.454-2.421-1.454-1.29 0-1.945.509-1.945 1.236 0 .891 1.237 1.146 2.793 1.418l.068.012c2.047.36 4.139.727 4.139 3.425C38.5 14.8 36.467 16 33.727 16c-2.527 0-4.79-1.527-5.037-3.818h2.563c.318.945 1.255 1.636 2.598 1.636 1.29 0 2.015-.436 2.015-1.272 0-1.032-1.505-1.28-3.01-1.53l-.1-.016c-1.61-.273-3.872-1.018-3.872-3.455 0-2.2 1.874-3.545 4.65-3.545 2.739 0 4.63 1.418 4.895 3.636z"})}))}const Lh=(0,we.memo)((()=>{const{brandName:e,lang:t}=(0,ht.Z)();if("Urbi"===e)return null;return"ru"===t?(0,n.jsxs)(zh,{children:[(0,n.jsx)(Ph,{}),false]}):(0,n.jsxs)(zh,{children:[(0,n.jsx)(Eh,{}),false]})})),zh=({children:e})=>{const{css:t,s:r}=(0,rt.y)(Rh),{lang:s}=(0,ht.Z)(),i="ru"===s?"https://dev.2gis.ru":"https://dev.2gis.com";return(0,n.jsx)(Pt.Z,Object.assign({external:!0,href:i,styles:r.root},{children:(0,$.oA)(e).map(((e,s)=>(0,n.jsx)("div",Object.assign({className:t(r.item)},{children:e}),s)))}))},Rh=(0,rt.k)({root:{display:"flex",justifyContent:"flex-end",height:16,marginBottom:3},item:{marginStart:8}}),Fh=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(Hh),{licenseAgr:r,privacyUrl:s,comma:i}=(0,ht.Z)(),a=(0,Ns.T)(),o=`${r}?utm_medium=map-footer&utm_campaign=2gis5`;return(0,n.jsxs)("div",Object.assign({className:t(e.copyright)},{children:[(0,n.jsx)(Lh,{}),(0,n.jsx)(Pt.Z,Object.assign({color:"dark",external:!0,href:o},{children:a._t("Лицензионное соглашение")})),i," ",(0,n.jsx)(Pt.Z,Object.assign({color:"dark",external:!0,href:s},{children:a._t("Политика конфиденциальности").toLowerCase()}))]}))})),Hh=(0,rt.k)({copyright:Object.assign(Object.assign({position:"absolute",bottom:16,end:72,textAlign:"right"},st.Vz),{userSelect:"none"})});class Bh extends we.PureComponent{render(){const{s:e,links:t}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(e.root)},Oe.dx.n("wat-awesome-dash"),{children:t.map((({url:t,name:r},s)=>(0,n.jsx)("a",Object.assign({className:(0,_e.iv)(e.item),href:t},{children:r}),s)))}))}}Bh.displayName=(0,He.I)("src/modules/seoDash");const Ah={root:{position:"absolute",bottom:0,left:0,right:0,height:21,overflowY:"scroll",background:Ee.O.white},item:Object.assign(Object.assign({},st.FY),{display:"inline-block",margin:"0 4px",color:Ee.O.blue_0072ce})},Dh=(0,wi.G)({selectors:()=>({seoStoreData:e=>e.data.seoStore}),handlers:{}})((0,jr.C)((({seoStoreData:e})=>{var t,r;if(null===(r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.links)||void 0===r?void 0:r.length)return{links:e.data.links}}))((0,_e.D2)(Ah)(Bh)));var Zh=r(42461),Vh=r(20887),Uh=r(23172);const $h=(0,T.gQ)("handleEditClick",(e=>(0,T.vP)((0,E.BN)(),(0,Vh.b)(e),(0,Uh.y)())));var Wh=r(83918);const qh={onEditClick:$h};class Gh extends we.PureComponent{constructor(){super(...arguments),this.handleEditClick=()=>{this.props.onEditClick(this.props.toast.item)}}render(){const{title:e,s:t,i18n:r}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,_e.iv)(t.root)},Oe.dx.n("wat-added-to-collection"),{children:[(0,n.jsx)("span",Object.assign({className:(0,_e.iv)(t.title)},{children:e})),(0,n.jsx)(es.z,Object.assign({dataN:"wat-change-collection-button",onClick:this.handleEditClick,compact:!0,appearance:"primary"},{children:r.tp._t("Изменить")}))]}))}}const Qh={root:{display:"flex",alignItems:"center",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:12,width:"max-content",maxWidth:312,boxSizing:"border-box",wordBreak:"break-word",background:Ee.O.white,borderRadius:ar.E0.default,boxShadow:Mi.q.popup,"& > button":{flexShrink:0}},title:{marginEnd:12}},Kh=(0,_e.D2)(Qh)((0,ke.$)()(Gh)),Jh=(0,wi.G)({selectors:({toast:e})=>({collection:(0,Zh.nA)(e.collectionId)}),handlers:qh})((0,jr.C)(((e,t)=>{const{collection:r}=e,{tp:n}=t;if(r)return{title:n._t("Добавлено в «%1»",[(0,Wh.c)(r,t)])}}))(Kh));var Yh=r(9421),Xh=r(57010),eg=r(92199);const tg=({onClose:e,timeout:t,children:r,targetBoundingClientRect:s,to:i,offset:a})=>{const o=we.useRef(null);return(0,Xh.k)(o,e,t),(0,Yh.t)(o,e),(0,n.jsx)(eg.k,Object.assign({innerRef:o,targetBoundingClientRect:s,to:i,offset:a||8},{children:r}))};const rg=(0,we.memo)((({type:e,to:t})=>{const{css:r,s,dir:i}=(0,rt.y)(ng),a=(0,kc.A)(Uh.y),o=(0,Ns.T)(),{bssRef:c}=(0,Bt.T)((d={type:e},(e,t)=>{const r=function(e){if("layer_exchange"===e)return"exchangeCurrencyLayerPromo"}(d.type);if(r)return{uiElement:{name:r,frameUuid:t.appContext.staticFrames.map.id}}}));var d;const l=(0,Ie.v9)(g.kL),u=(0,we.useMemo)((()=>"centerEnd"===t?[s._center,"rtl"===i&&s._rtl]:s._default),[t]),p=(0,we.useMemo)((()=>{switch(e){case"layer_metro":return o._t("Включите&nbsp;слой&nbsp;с&nbsp;метро, так удобнее планировать маршруты");case"realty":return o._gg("Покажем, все объявления в этом доме");case"ppng":return o._gg("Теперь строим маршруты\n для грузового транспорта!");case"layer_realty_heatmap":return(null==l?void 0:l.flags.metro)?o._gg("Покажем,&nbsp;сколько&nbsp;минут&nbsp;идти&nbsp;пешком&nbsp;до&nbsp;метро"):o._gg("Недвижимость&nbsp;города&nbsp;теперь&nbsp;на&nbsp;карте.\nВыбирайте&nbsp;её&nbsp;в&nbsp;отдельном&nbsp;слое");case"layer_realty_sublayers":return(null==l?void 0:l.flags.metro)?o._gg("Включите&nbsp;тепловую&nbsp;карту&nbsp;доступности&nbsp;метро"):o._gg("Включите&nbsp;тепловую&nbsp;карту\nс&nbsp;ценами&nbsp;аренды&nbsp;или&nbsp;продажи");case"layer_photo":return o._t("Прекрасное&nbsp;рядом&nbsp;—&nbsp;посмотрите!\nПоказываем&nbsp;на&nbsp;карте&nbsp;фотографии&nbsp;города");case"layer_exchange":return o._gg("Курсы&nbsp;валют на&nbsp;карте");case"exchange_input":return o._gg("Курс&nbsp;выгодней\nпри&nbsp;обмене&nbsp;большей&nbsp;суммы");case"layer_road_accident":return o._gg("Аварийные места на карте");case"layer_tourism":return o._t("Туристические места")}}),[e]);return(0,n.jsx)("div",Object.assign({className:r(s.tooltip,u),onClick:a,ref:c},Oe.dx.n("wat-layer-promo"),Oe.dx.t(e),{children:p}))})),ng=(0,rt.k)({tooltip:{background:Ee.O.blue_028eff,color:Ee.O.white,borderRadius:ar.E0.default,boxShadow:Mi.q.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:16,boxSizing:"border-box",margin:"auto",userSelect:"none",position:"relative",whiteSpace:"pre-wrap","::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:Ee.O.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8,marginStart:-4}},_center:{"::before":{marginTop:-4,marginStart:-8,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}}}),sg=()=>{const e=(0,Ie.v9)((e=>e.appContext.weak.toast)),t=(0,kc.A)(Uh.y),r=we.useCallback((()=>{t()}),[]);if(!e)return null;switch(e.type){case"addedToCollection":return(0,n.jsx)(tg,Object.assign({onClose:r,timeout:3e3,targetBoundingClientRect:e.targetBoundingClientRect,to:"bottomBottomStart"},{children:(0,n.jsx)(Jh,{toast:e})}));case"showPromoToast":return(0,n.jsx)(tg,Object.assign({onClose:r,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},{children:(0,n.jsx)(rg,{type:e.subtype,to:e.to})}));default:return null}},ig=e=>(0,n.jsx)(Te.E,{loader:Ne.H.messenger,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q});var ag=r(78188);const og=we.memo((()=>{const[e,t]=(0,we.useState)(void 0);(0,Op.x)({type:"map:hint",handler:e=>{t(e)}});const{s:r,css:s}=(0,rt.y)(cg);if(!e||"undefined"==typeof window)return null;const i=(0,ag.Y)(e.point);return(0,n.jsx)(eg.k,Object.assign({targetBoundingClientRect:i,to:"bottomEnd",offset:8,pointerEvents:"none"},{children:(0,n.jsx)("div",Object.assign({className:s(r.hint)},{children:e.text}))}))}));og.displayName="Hint";const cg=(0,rt.k)({hint:Object.assign(Object.assign({},st.oN),{background:Ee.O.white,boxShadow:Mi.q.popup,borderRadius:ar.E0.default,padding:"4px 8px",whiteSpace:"nowrap"})});var dg=r(95281),lg=r(98849),ug=r(54467);var pg=r(13096),hg=r(96378);const gg=(0,T.gQ)("replaceFrameInBuildingWithOriginalSearchIfNeeded",(e=>(0,T.xJ)((t=>{if(!e)return(0,T.ZT)();const r=t.appContext.frames.find(pg.n);if(r){const n=function(e,t){for(const r of[...e].reverse())for(const e of r)if(t(e))return e}(t.appContext.graveyard,(t=>(0,hg.E)(t)&&((0,ee.QB)(t)===e||(0,ee.vr)(t)===e)));if(n&&(0,hg.E)(n))return(0,D.Wk)(Object.assign(Object.assign({},n),{id:r.id}))}}))));var mg=r(46584),fg=r(68789),vg=r(73896);const bg=(0,T.gQ)("getEntityByPoint",(e=>(0,T.xJ)((t=>{const r=t.appContext.zoom,n=t.session.is3dEnabled;if(r)return(0,T.vP)((0,G.zh)((s=>(0,mg.I5)({point:e.point,zoom:Math.ceil(r),regionId:(0,g.yH)(t)||"0",searchId:e.searchId,is3dEnabled:n,viewpoint:s}))),(0,T.xJ)((t=>{const r=(0,fg.c)({state:t,searchId:e.searchId});if(!r.meta||"error"===r.meta.status)return;if(!r.data||!r.data.items.length)return;const n=r.data.items[0],s=(0,b.wj)({state:t,entityId:n});return s.data?"point"===s.data.type?(0,vg.W)({point:e.point,shouldCenterMap:!1}):(0,A.WZ)({entityId:s.data.id,frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,skipFetchEntity:!0}):void 0})))})))),yg=(0,T.gQ)("openEntityFromMap",(({adsId:e,entityId:t,point:r})=>{const n=(0,$.by)(),s=(0,$.by)(),i=(0,$.by)(),a=(0,$.by)();return(0,T.vP)((0,E.BN)(),(0,na.KO)(),(0,lg.p)(),(0,G._N)(re.Wr,gg),(0,ug.HP)({frameId:n,entityId:t,searchId:i,gtaId:a,statusId:s,point:r}),t?xg({entityId:t,point:r,frameId:n,statusId:s,gtaId:a,searchId:i,adsId:e}):bg({point:r,frameId:n,statusId:s,searchId:i,gtaId:a}))})),xg=(0,T.gQ)("getEntityById",(e=>(0,T.vP)((0,A.WZ)({entityId:(0,$._J)(e.entityId),frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,adsId:e.adsId}),(0,G.Mb)(e.frameId,(t=>{if(!t||"pending"!==t.type)return(0,T.ZT)();const r=(0,$.by)(),n=(0,$.by)(),s=(0,$.by)();return bg({point:e.point,frameId:e.frameId,statusId:r,searchId:n,gtaId:s})})))));var jg=r(10668),wg=r(13501),Ig=r(19170);const Cg=(0,T.gQ)("clickMap",(({entityId:e,point:t,center:r,type:n,isCommercial:s,sysCode:i,isPersonal:a,isCityCommercial:o})=>{const c=r?{lon:r[0],lat:r[1]}:t;return(0,wt.zc)((t=>(0,T.vP)((0,G.gF)({hashmap:e=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},isRealty:e=>"realty"===e.appContext.activeLayer},(({hashmap:t,isRealty:r})=>r&&t&&e&&void 0!==t[e]?(0,wg.nv)((t=>(0,jg.T)({entity:{id:e,type:"building"},suggestId:null==t?void 0:t.suggestId}))):r?(0,Ml.C)(yg({entityId:e,point:c})):yg({entityId:e,point:c}))),"rmbMenuItem"!==n?(0,G.gF)({entity:e=>{const t=(0,ee.t0)(e.appContext.frames,"entity");return t&&(0,b.wj)({state:e,entityId:t.entityId,searchId:t.searchId}).data},poiCategory:Ig.Q},(({entity:e,poiCategory:r})=>{var c,d;return function(e){const{entity:t,type:r,sysCode:n,isCommercial:s,isPersonal:i,isCityCommercial:a,isModel3d:o,isContext:c,forcedEventOrdinal:d}=e;switch(r){case"poi":return(0,dg.Y8)({sysCode:n,isCommercial:s,isPersonal:i,isCityCommercial:a,isContext:c,forcedEventOrdinal:d,entity:t});case"routePlatformPoint":return(0,dg.OF)({forcedEventOrdinal:d});default:return(0,dg.VO)({entity:t,isModel3d:o,forcedEventOrdinal:d})}}({entity:e,type:n,sysCode:i,isCommercial:s,isPersonal:a,isCityCommercial:o,isModel3d:null===(d=null===(c=null==e?void 0:e.ads)||void 0===c?void 0:c.options)||void 0===d?void 0:d["3d"],isContext:!(!r||"branch"!==(null==e?void 0:e.type)||e.poi_category!==r),forcedEventOrdinal:t})})):(0,T.ZT)())))}));var Og=r(19671),_g=r(37189),kg=r(19447);const Sg=e=>{const{type:t,lonLat:r}=e,n={type:"point",lonLat:r},s="dirTo"===t?[void 0,n]:[n,void 0];return(0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"directions")),(e=>{if(e){const n=e.points.length-1,s="dirTo"===t?n:0,i=(0,_g.z)({type:"point",lonLat:r}),a=(0,kg.r)(i,e.points,s)||e.points;return(0,Og.R)({frameId:e.id,tab:e.tab,framePoints:a})}return(0,Qa.b)({points:s})}))},Mg=(0,T.gQ)("contextMenuClick",(e=>{const{type:t,lonLat:r,entityId:n}=e;return Tg(t,r,n)})),Tg=(e,t,r)=>{switch(e){case"info":return Cg({type:"rmbMenuItem",point:t,entityId:r});case"dirTo":return Sg({type:"dirTo",lonLat:t});case"dirFrom":return Sg({type:"dirFrom",lonLat:t});case"share":return(0,T.vP)(Cg({type:"rmbMenuItem",point:t,entityId:r}),(0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"entity")),(e=>(0,yc.q)({frameId:null==e?void 0:e.id}))))}};var Ng=r(42317);const Pg=({color:e="currentColor"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 3a7 7 0 0 0-6.49 9.626l.217.538.576.078C9.471 13.668 11 15.798 11 20h2c0-4.202 1.53-6.332 4.697-6.758l.576-.078.217-.538A7 7 0 0 0 12 3zm0 2a5 5 0 0 1 5 5l-.008.278c-.02.37-.08.732-.181 1.086l-.17.035c-2.12.471-3.652 1.633-4.58 3.43l-.061.123-.061-.124c-.928-1.796-2.46-2.958-4.58-3.429l-.171-.035A5 5 0 0 1 12 5z"})})),Eg=({color:e="currentColor"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M17 3a4 4 0 1 1-3.017 6.626l-3.07 1.536a4.016 4.016 0 0 1 0 1.676l3.07 1.536a4 4 0 1 1-.895 1.789l-3.07-1.537a4 4 0 1 1 0-5.253l3.07-1.535A4 4 0 0 1 17 3zm0 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})),Lg=({color:e="currentColor"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 21a6 6 0 0 1-5.996-5.775L7 15l-.001-2.1A5.002 5.002 0 0 1 8 3a5 5 0 0 1 1 9.9V15a4 4 0 0 0 7.995.2L17 15v-4h2v4a6 6 0 0 1-6 6zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9-2V7h2v2h-2z"})})),zg=({color:e="currentColor"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M9 3c3.2 0 5.9 2.6 6 5.8V11.1c2.7.6 4.4 3.2 3.9 5.9-.5 2.3-2.5 4-4.9 4-2.8 0-5-2.2-5-5 0-2.4 1.7-4.4 4-4.9V9c0-2.2-1.8-4-4-4-2.1 0-3.9 1.7-4 3.8V13H3V9c0-3.3 2.7-6 6-6zm5 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-9 2v2H3v-2h2z"})}));var Rg=r(92790);function Fg(e){return{info:"whatIsHere",dirTo:"routeHere",dirFrom:"routeFromHere",share:"sendLink"}[e]}const Hg=(0,rt.k)({wrapper:{boxShadow:Mi.q.popup,borderRadius:ar.E0.default,background:Ee.O.white,cursor:"pointer"},list:{boxSizing:"border-box",position:"relative",boxShadow:Mi.q.innerBorderBottomBase,"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:8,paddingEnd:12,listStyleType:"none",userSelect:"none",":hover":{background:Ee.O.gray_f2f2f2,color:Ee.O.blue_0072ce}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,marginEnd:8}}),Bg=(0,Se.z)((e=>({uiElement:{name:"placeCardMapActionsPopup",ownerName:void 0,frameUuid:e.ownerFrameId}})),((e,t)=>({trackRMBItemClick(r,n){e((0,G._N)((e=>n?(0,b.wj)({state:e,entityId:n}).data:void 0),(e=>{const n={uiElement:{name:Fg(r),ownerName:"placeCardMapActionsPopup",frameUuid:t.ownerFrameId},action:"tap",payload:e?{placeItem:(0,Rg.Pj)({entity:e})}:void 0};return(0,wt.zs)(n)})))},trackRMBClick(r,n){const s={uiElement:{name:"map"===r?"mapObject":"POI",ownerName:"map",frameUuid:t.ownerFrameId},action:"rightClick",payload:n?{POI:{category:n.sysCode?{id:n.sysCode}:void 0,adsHighlight:n.isCommercial||!1}}:void 0};return e((0,wt.zs)(s))}})))((e=>{const{css:t,s:r}=(0,rt.y)(Hg),s=(0,Ns.T)(),i=(0,we.useRef)(null),{trackRMBItemClick:a,trackRMBClick:o,bssRef:c}=e,[d,l]=(0,we.useState)(void 0),u=(0,kc.A)(Mg);(0,Op.x)({type:"map:contextmenu",handler:e=>{var t;"map"!==e.origin&&"poi"!==e.origin||(l({lonLat:(0,Ng.U)(e),point:(t=e,{x:t.point[0],y:t.point[1]}),entityId:"poi"===e.origin?e.target.id:void 0}),o(e.origin,"poi"===e.origin?e.target:void 0))}}),(0,Op.x)({type:"common:escapeKeyUp",handler:()=>{l(void 0)},stopIfHandled:!0,priority:Je.U.FrameElement});const p=(0,we.useMemo)((()=>{if(d)return(0,ag.Y)({top:d.point.y,left:d.point.x})}),[d]),h=(0,yt.$)((e=>{d&&d.lonLat&&(u({type:e.type,lonLat:d.lonLat,entityId:d.entityId}),a(e.type,d.entityId),l(void 0))}));(0,Yh.t)(i,(()=>l(void 0)));const g=[{title:s._t("Что здесь?"),type:"info"},{title:s._t("Маршрут сюда"),type:"dirTo"},{title:s._t("Маршрут отсюда"),type:"dirFrom"},{title:s._t("Отправить ссылку"),type:"share"}],m=(0,we.useCallback)((e=>{switch(e){case"info":return(0,n.jsx)(Pg,{color:Ee.O.gray_262626});case"dirTo":return(0,n.jsx)(zg,{color:Ee.O.gray_262626});case"dirFrom":return(0,n.jsx)(Lg,{color:Ee.O.gray_262626});case"share":return(0,n.jsx)(Eg,{color:Ee.O.gray_262626});default:return null}}),[]);return p?(0,n.jsx)(eg.k,Object.assign({targetBoundingClientRect:p,to:"bottomEnd",offset:0},{children:(0,n.jsx)("nav",Object.assign({className:t(r.wrapper),ref:i},Oe.dx.n("wat-context-menu"),{children:(0,n.jsx)("ul",Object.assign({className:t(r.list),ref:c},{children:g.map(((e,s)=>(0,we.createElement)("li",Object.assign({},Oe.dx.n("wat-context-menu-item"),Oe.dx.t(e.type),{key:s,className:t(r.item),onClick:()=>h(e)}),(0,n.jsx)("div",Object.assign({className:t(r.icon)},{children:m(e.type)})),e.title)))}))}))})):null}));var Ag=r(73551),Dg=r(9889);const Zg=(0,T.gQ)("fetchEntityByEntranceIfNeeded",(e=>(0,G._N)((0,Dg.qA)(e.id),(t=>t.data?(0,T.ZT)():(0,Dg.y8)(e)))));function Vg(e){const t=(0,Ag.r1)(e);if(!t)return(0,lg.p)();const r="marker"in e?e.marker:void 0,{point:n,origin:s}=e,i="poi"===e.origin?{isCommercial:e.target.isCommercial,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial}:void 0;return(0,T.vP)(("poi"===s||"marker"===s)&&(0,T.PQ)((()=>{Ih.M.set((()=>({id:t,point:n,marker:r,poi:i,origin:s})))})),(0,T.xJ)((s=>{var a;const o=s.data.entity.profile[t];if("marker"===e.origin&&"tUgc"===(null===(a=null==r?void 0:r.data)||void 0===a?void 0:a.source))return;const c=(0,re.WK)(s),d=o&&o.data&&"success"===o.meta.status;if(d&&!c)return;const l=!!c&&s.data.searchContext[`${c}_${t}`];return d&&c&&l?void 0:"poi"===e.origin?e.target.sysCode===ft.Dn?(0,T.vP)(Zg({id:t}),(0,G._N)((0,Dg.qA)(t),(e=>Ih.M.get()?(0,$.$K)(e.meta)&&"success"===e.meta.status&&(0,$.$K)(e.data)&&(0,$.$K)(e.data.id)?(0,T.PQ)((()=>{var t;const s=null===(t=e.data)||void 0===t?void 0:t.id;if(!s)return(0,T.ZT)();Ih.M.set((()=>({id:s,poi:i,point:n,marker:r,origin:"poi"})))})):(0,lg.p)():(0,T.ZT)()))):(0,A.DZ)({id:t,searchId:void 0}):"marker"===e.origin&&(null==r?void 0:r.data)?(0,A.DZ)({id:t,searchId:c,hash:(0,$._G)(r.id)}):void 0})))}function Ug(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas"),r=!(!t.getContext("webgl",e)&&!t.getContext("experimental-webgl",e)),n=document.createElement("canvas");return`${r?"available":"unavailable"},${!(!n.getContext("webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))&&!n.getContext("experimental-webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0})))?"good-perf":"fail-perf"}`}}catch(e){}return"none"}var $g=r(4456),Wg=r(88969),qg=r(33099);function Gg(e){return e>=11}var Qg=r(83204);const Kg=36e5,Jg={};const Yg=e=>{const{locale:t,segmentId:r}=e;if(t&&r)return{baseLocale:t,segmentId:r}};var Xg=r(69546),em=r(6164);const tm={};var rm=r(53562);const nm={};let sm;setInterval((()=>{const e=+new Date-Kg;for(const t of Object.keys(Jg))Jg[t]<e&&delete Jg[t]}),Kg);const im=e=>({mouseout:t=>{var r;if("marker"===t.origin&&"realty"===(null===(r=t.marker.data)||void 0===r?void 0:r.source)){if((0,em.Tg)())return;return em.xj.set((()=>{})),(0,em.uN)(),void(0,em.iV)((()=>{(0,em.Tg)()||e((0,Xg.l)())}),200)}if("map"!==t.origin){if("ppnot"===t.origin)return e((0,F.Kn)({type:"map:mouseout",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,Wg._)());e((0,J.yy)({hoveredId:void 0})),sm&&clearTimeout(sm),sm=setTimeout((()=>{e((0,lg.p)()),sm=void 0}),100)}},mouseover:t=>{var r,n;if("marker"===t.origin&&"realty"===(null===(r=t.marker.data)||void 0===r?void 0:r.source))return em.xj.set((()=>{})),sm&&clearTimeout(sm),(0,em.uN)(),void(0,em.iV)((()=>{const r=(0,Ag.r1)(t);e((0,T.Mf)(Vg(t),r&&(0,J.yy)({realtyHoveredId:r})))}),50);if("marker"===t.origin&&"infrastructure"===(null===(n=t.marker.data)||void 0===n?void 0:n.source)&&(0,em.uN)(),"map"===t.origin)return;if("ppnot"===t.origin)return e((0,F.Kn)({type:"map:mouseover",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,qg.C)({text:t.geometry.eventData.name,point:{lon:t.geometry.position[0],lat:t.geometry.position[1]}}));const s=(0,Ag.r1)(t);s&&(e((0,J.yy)({hoveredId:s})),Qg.a.stopTracker(e),sm&&clearTimeout(sm),sm=setTimeout((()=>{e(Vg(t)),sm=void 0}),50))},click:t=>{e((0,T.Mf)((0,F.Kn)({type:"map:click",event:t}),(0,J.yy)({hoveredId:void 0,realtyHoveredId:void 0})))},contextmenu:t=>{e((0,F.Kn)({type:"map:contextmenu",event:t}))},dragend:t=>{e((0,F.Kn)({type:"map:dragend",event:t}))},moveend(t){Qg.Y.stopTracker(e),e((0,na.$x)(t)),e((0,F.Kn)({type:"map:moveend",event:t}))},move(t){e(function(e){return(0,T.vP)((0,lg.p)(),(0,F.Kn)({type:"map:move",event:e}))}(t))},performancecaveat(){e((0,xt.nc)(["Map","Performance","Slow",void 0,{nonInteraction:!0}]))},floorcomplexchange(t){var r;e((r=t.complex,(0,G.gF)({entityFrame:e=>(0,ee.Fq)(e.appContext.frames),floors:e=>e.appContext.floors,catalogMarkersData:re.H3},(({entityFrame:e,floors:t,catalogMarkersData:n})=>void 0!==r?(0,ba.NN)({currentFloor:(0,Ag.DT)(r,t,e,n),floorNames:r.floorNames,firmsToFloorIndexMap:r.firmsToFloorIndexMap,id:r.id}):(0,ba.ox)()))))},rulerchange(t){e((0,Vi.s_)({points:t.points}))},zoomend(t){Gg(t.zoom)||e((0,Wg._)())},adsIconForPoiShown({adsId:t,ownerOrgId:r,donorBranchId:n,view:s,position:i,segmentId:a}){Jg[n]||(!function(e){Jg[e]=+new Date}(n),e((0,G.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:Q.O},(({mapBssUuid:e,dataLocale:o})=>(0,wt.GM)({showEventKey:(0,$.by)(),autoEvent:!0,uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:e},payload:{buyHereIcon:{commentShown:"iconWithLabel"===s,contentOwner:{adsPosition:"buyHereOnMap",adsId:t,org:r}},placeItem:{entity:{id:n,type:"branch",segmentInfo:Yg({locale:o,segmentId:a})},geoPosition:(0,qa.a3)({lon:i[0],lat:i[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}})))))},interactionstart(){e((0,F.Kn)({type:"map:interactionstart",event:void 0}))},commmodelshow({buildingId:t}){if(tm[t])return;!function(e){tm[e]=!0}(t);const r=(0,$.by)();e((0,T.vP)((0,rm.$)({id:t,searchId:r}),(0,dg.Rq)({entityId:t,searchId:r})))},commpoishow(t){t.commPois.forEach((({id:t,adsPriority:r})=>{(function(e){return!!nm[e]})(t)||(!function(e){nm[e]=!0}(t),e((0,T.vP)((0,rm.$)({id:t,searchId:(0,$.by)()}),(0,dg.jv)({id:t,adsPriority:r}))))}))}});class am extends we.Component{shouldComponentUpdate(){return!1}render(){return(0,n.jsx)("div",Object.assign({className:(0,_e.iv)(this.props.s.wrapper),style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#f6f2de"}},{children:(0,n.jsx)("div",{id:"map",style:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0}})}))}}am.displayName=(0,He.I)("src/modules/map/components/mapWrapper");const om=(0,_e.D2)({wrapper:{"& *":{userSelect:"none"}}})(am);var cm=r(24222),dm=r(32312),lm=r(98721),um=r(9475),pm=r(68800);const hm=(0,T.gQ)("searchInBuildingFromMarker",(e=>{const{buildingId:t,entityId:r}=e;return(0,G.gF)({searchFrame:e=>(0,ee.Di)(e.appContext.frames),currentMarkersId:re.xl},(({searchFrame:e,currentMarkersId:n})=>{if(!e)return(0,T.ZT)();const s=(0,$.by)(),i=(0,$.by)(),a=(e=>{if(e&&"search"===e.type&&"offers"!==e.searchType)return"inbuilding"===e.searchType&&e.originalSearchId?e.originalSearchId:(0,ee.QB)(e)})(e),o=e.query,c=(0,lm.Q)(e),d="rubricId"in e?e.rubricId:void 0,l=n||(0,$.by)();return(0,T.Mf)((0,E.BN)(),(0,T.vP)((0,cm.lX)({searchId:s,buildingId:t,query:o,page:1,filterValues:c,hasSearchControls:!0,shouldNotFetchMarkers:!0}),(0,G.gF)({search:e=>(0,dm.rO)({state:e,searchId:s})},(({search:e})=>{const n=(0,A.xo)({id:(0,$._J)(r),hash:(0,$._G)(r),type:"branch",searchId:s});return!e.data||!e.data.total||e.data.total<2?(0,T.vP)(gg(a),n):(0,T.vP)((0,D.Jt)({id:i,type:"search",searchType:"inbuilding",query:o,buildingId:t,searchId:(0,pe.Ue)(s),originalSearchId:a,page:(0,pe.Ue)(1),gtaId:(0,$.by)(),statusId:(0,$.by)(),noSearchControls:!0,filterPanelState:"manuallyClosed",filterValues:c,rubricId:d}),(0,Ml.C)(n))})),(0,G._N)(um.m,(e=>e&&(0,J.PP)({frameId:e.id,markersId:l}))),(0,sp.wN)({entityId:t},(e=>{if((0,Xo.G)(e))return(0,A.DZ)({id:t,hash:(0,$._G)(r),searchId:void 0})}))),n?void 0:(0,T.XJ)((0,pm.l)()))}))}));var gm=r(25666),mm=r(59065),fm=r(41296),vm=r(82666),bm=r(90980),ym=r(65301),xm=r(56656);const jm=(e,{exchangeSearch:t})=>{const r=(0,xm.X)(e);if(!r)return(0,T.ZT)("Marker with unknown type clicked");switch(r.source){case"catalog":return wm(e,r);case"realty":return function(e){return(0,T.vP)((0,lg.p)(),(0,dg.i2)(e),(0,wg.nv)((t=>{var r;return(0,jg.T)({suggestId:null==t?void 0:t.suggestId,entity:e.buildingId?{id:e.buildingId,type:"building"}:void 0,total:null===(r=e.data)||void 0===r?void 0:r.product_total})})))}(e);case"favorites":return Im(e);case"tUgc":return function(e,t){return(0,T.vP)((0,E.BN)(),(0,T.xJ)((e=>(0,wt.zs)({uiElement:{name:"tUGCPOI",frameUuid:e.appContext.staticFrames.map.id},payload:{tUGC:{id:t.id,category:(0,gm.N)(t.event),mode:(0,mm.P)(e)}},action:"tap"}))),function({id:e}){return(0,D.Jt)({type:"tUgc",eventId:e,id:(0,$.by)()})}({id:t.id}))}(0,r);case"exchange":return function(e,t,r){return(0,T.vP)((0,lg.p)(),(0,dg.M8)(e,r),(0,A.xo)({id:t.branch.id,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]}}))}(e,r,t);case"infrastructure":return function(e,t){return(0,T.vP)((0,dg.iQ)(e),(0,Ml.C)((0,A.xo)({id:e.id,type:t.type})))}(e,r);default:return(0,T.ZT)(`Click in marker ${JSON.stringify(r)} is unhandled`)}};function wm(e,t){const r=e.buildingId;return t.cluster&&r?(0,T.gQ)("openFirmsInBuildingFromMarker",(()=>(0,T.vP)((0,lg.p)(),(0,dg.pD)(e,t),hm({buildingId:r,entityId:e.id}))))():(0,T.vP)((0,lg.p)(),(0,dg.pD)(e,t),Cm({eventMarkerId:e.id,markerData:t}))}function Im(e){return(0,T.vP)((0,lg.p)(),(0,dg.N6)(),(0,fm.L)({type:(0,ym.l)(e.type)?"private":"public",favoriteId:e.id,shouldCenterMap:!1}))}const Cm=(0,T.gQ)("openCatalogEntityFromMarker",(e=>{const{eventMarkerId:t,markerData:r,point:n}=e;return(0,G.gF)({originalSearchId:re.Wr,querySearchFrame:e=>e.appContext.frames.find(hg.E),buyHereSearchFrame:e=>e.appContext.frames.find(vm.o)},(({originalSearchId:e,querySearchFrame:s,buyHereSearchFrame:i})=>{const a=e||s&&(0,ee.QB)(s)||(0,$.by)();return(0,T.vP)(gg(e),(0,A.xo)({id:(0,$._J)(t),hash:(0,$._G)(t),searchId:a,type:r.type,point:n,adsId:(0,bm.J)(i)}))}))}));const Om=(0,T.gQ)("clickEntrance",(({id:e,point:t})=>{const r=(0,$.by)(),n=(0,$.by)();let s=(0,$.by)(),i=(0,$.by)();return(0,T.vP)((0,E.BN)(),(0,na.KO)(),(0,lg.p)(),(0,dg.Y8)({sysCode:ft.Dn}),(0,D.Jt)({id:r,type:"pending",subtype:"entity",searchId:i,gtaId:n,statusId:s,point:t,entranceId:e}),Zg({id:e,statusId:s}),(0,G._N)((0,Dg.qA)(e),(({data:e,meta:a})=>!(0,$.$K)(e)||!(0,$.$K)(e.id)||a&&"error"===a.status?(0,D.D_)(r,(e=>Object.assign(Object.assign({},e),{type:"error",code:a&&"error"===a.status?a.code:500,subtype:"entity"}))):(s=(0,$.by)(),i=(0,$.by)(),(0,A.WZ)({entityId:e.id,frameId:r,statusId:s,searchId:i,gtaId:n,clickPoint:t})))))}));var _m=r(95429),km=r(20929);const Sm=(0,T.gQ)("clickAdsIconForPoi",(({adsId:e,donorBranchId:t,position:r,ownerOrgId:n,view:s,segmentId:i})=>(0,T.vP)((0,G.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:Q.O},(({mapBssUuid:a,dataLocale:o})=>(0,wt.zs)({uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:a},action:"tap",payload:{buyHereIcon:{commentShown:"iconWithLabel"===s,contentOwner:{adsPosition:"buyHereOnMap",adsId:e,org:n}},placeItem:{entity:{id:t,type:"branch",segmentInfo:Yg({locale:o,segmentId:i})},geoPosition:(0,qa.a3)({lon:r[0],lat:r[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}}))),yg({entityId:t,adsId:e,point:{lon:r[0],lat:r[1]}})))),Mm=(0,T.gQ)("clickEtaMarker",(({routeId:e})=>(0,G._N)((e=>(0,ee.t0)(e.appContext.frames,"entity")),(t=>"route"===(null==t?void 0:t.entityType)?(0,T.ZT)():(0,A.xo)({type:"route",id:e})))));function Tm(e,t){const r=(0,Ng.U)(e);if(r)switch(e.origin){case"adsIconForPoi":return Sm(e.markerData);case"marker":return(e=>{if(!e)return!1;const t=e.currentTarget,r=e.target;if(!t||!r)return!1;if(!t.querySelector("[data-isctabutton]"))return!1;const n=(e=>{const{parentDataAtr:t,event:r}=e,n=r.currentTarget,s=r.target;if(!n||!s)return!1;let i=s.parentNode;for(;i;){if(i.dataset[t])return!0;if(i===n)return!1;i=i.parentNode}return!1})({parentDataAtr:"isctabutton",event:e});return n})(e.htmlLabelEvent)?(e=>{const t=(0,xm.X)(e);if("catalog"!==(null==t?void 0:t.source))return;const r=(0,_m.U)(t);if(!r)return;const n=(0,$._J)(e.id);return(0,T.vP)((0,A.DZ)({id:n,searchId:t.searchId,hash:(0,$._G)(e.id)}),(0,dg.qk)(e,t),(0,km.c)({actionType:r.type,value:r.value,entityId:n,ctaOwner:"mapMarker"}))})(e.marker):jm(e.marker,t);case"photo":return(e=>{const{entityId:t,photoId:r}=e;return(0,T.vP)((0,A.wk)({id:t,searchId:void 0}),(0,sp.wN)({entityId:t},(e=>e.data?(0,At.l)({entityId:t,photoId:r,entityType:e.data.type,searchId:(0,$.by)()}):(0,T.ZT)())))})({entityId:e.markerData.objectId,photoId:e.markerData.photoId});case"poi":return e.target.sysCode===ft.Dn?Om({id:e.target.id,point:r}):Cg({entityId:e.target.id,point:r,center:e.target.center,type:"poi",isCommercial:e.target.isCommercial||!1,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial});case"etaMarker":return Mm({routeId:e.routeId});case"map":return Cg({entityId:e.targetId,point:r,type:"map"});case"geometry":return(0,T.vP)((0,Wg._)(),Cg({entityId:e.geometry.eventData.id,point:r,type:e.geometry.eventData.type}));default:return}}function Nm(e){return{id:e.id,type:"kilometer_road_sign"===e.type?"point":e.type,geometry:e.geometry&&e.geometry.selection}}var Pm=r(12601),Em=r(90495);const Lm=(0,Be.P1)([({state:e})=>(0,ee.WZ)(e.appContext.frames,["entity","realtyCard"])],(e=>!(!e||!(0,Pm.yb)(e)&&!(0,Qe.B)(e))&&e.showNearbyParkings)),zm=(0,Be.P1)([({state:e})=>function(e){const t=(0,ee.Fq)(e.appContext.frames),r=e.appContext.frames.find(Pm.yb);if(!t&&!r)return;if(t&&r)return;const n=(null==t?void 0:t.entityId)||(0,Em.W)(e);return n?(0,b.nM)({state:e,entityId:n}).data:void 0}(e),({state:e})=>e.appContext.zoom<=12,({state:e})=>(0,ee.Bj)(e.appContext.frames),Lm],((e,t,r,n)=>{if(r&&r.entityId)return{items:[Nm({id:r.entityId})]};if(!e)return;const s=n&&"links"in e&&e&&e.links&&e.links.nearest_parking||[];if(!t&&"adm_div"===e.type&&("region"===e.subtype||"district_area"===e.subtype))return;var i,a;const o=("group"in e?(i=e.group,a="geometry"in e?e.geometry:void 0,i?i.reduce(((e,t)=>{const r=Nm({id:t.id,type:t.type,geometry:a});return r?e.concat(r):e}),[]):[]):[]).concat(Nm(e)||[],s);return o.length?{items:o}:void 0}));var Rm=r(88912),Fm=r(99710),Hm=r(94498),Bm=r(29714),Am=r(90563);const Dm=e=>!!e&&"catalog"===e.data.source&&(0,Am.Q)(e.data);const Zm=(e,t)=>{const r=(0,_m.U)(e),n=null==r?void 0:r.type;if("link"===n||"order"===n)return[{type:n,text:(null==r?void 0:r.caption)||(null==r?void 0:r.name)||t._t("Подробнее"),href:null==r?void 0:r.value}]},Vm=(e,t,r,n,s)=>{var i;const a=[],{reviews:o,context:c}=e.data,d=o&&o.general_rating;d&&a.push({type:"rating",text:d.toString(10)});const l=null===(i=null==c?void 0:c.stop_factors)||void 0===i?void 0:i.slice(0,5).map((e=>e.name));l&&l.forEach((e=>{a.push({type:"stopFactor",text:e})}));const u=(e=>{const{marker:t,tp:r,time:n,dateFns:s,is12h:i}=e,a=Dm(t),o=(0,cn.w)({entity:t.data,format:"short",ctx:{dateFns:s,tp:r}});if(a&&o)return{text:o,color:(0,Hm.S)("closed"),type:"workingTime"};const{timezone_offset:c,schedule:d}=t.data;if(void 0===c||!d)return;const l=(0,Bm.t)(n,c),u=(0,Fm.Vi)(d,!1,l,r,i),p=(0,Rm.S)(d,l);return u?{text:u,color:(0,Hm.S)(p),type:"workingTime"}:void 0})({marker:e,time:t,tp:r,dateFns:n,is12h:s});if(u&&a.push(u),a.length)return a};var Um=r(98999),$m=r(48090);function Wm(e){const{marker:t,maxLines:r,tp:s,dateFns:i,time:a,is12h:o,MarkerLabel:c}=e,d=function(e){const{marker:t,time:r,maxLines:n,tp:s,dateFns:i,is12h:a}=e;if(0===n)return ft.LZ;const o=[],c=function(e){const{name:t,name_ex:r}=e;return r?r.primary:t||void 0}(t.data);if(!c)return ft.LZ;if(o.push([{type:"name",text:c}]),1===n)return o;const{ads:d}=t.data,l=(null==d?void 0:d.marker_microcomment)?[{type:"adsText",text:d.marker_microcomment}]:void 0;if(l&&o.push(l),2===n)return o;const u=Vm(t,r,s,i,a),p=Zm(t.data,s);if(l){const e=p||u;e&&o.push(e)}else u&&o.push(u),p&&o.push(p);return o.slice(0,n)}({marker:t,time:a,maxLines:r,tp:s,dateFns:i,is12h:o}),l=(0,Um.D)(d),{width:u,height:p}=l,h=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,$m.renderToStaticMarkup)((0,n.jsx)(c,{labelLines:d,dbgSize:h?l:void 0})),width:u,height:p,offset:["commercial"===t.type?20:14,-7]}}var qm=r(3849);function Gm(e){const t=e&&qm.qr.includes(e)?`personal_${e.slice(1)}`:"personal",r="personal"===t?`personal_${qm.gU.slice(1)}`:t;return{type:t,svgPath:`${(0,s.s)()}markers/coloredPersonal/${r}_marker.svg`}}const Qm=[],Km=e=>e.point?[e.point.lon,e.point.lat]:e.source_point?[e.source_point.lon,e.source_point.lat]:[],Jm=(e,t,r)=>{const n=e.map((e=>{var n;const s=e.collection_id&&(null===(n=null==r?void 0:r[e.collection_id])||void 0===n?void 0:n.color),i=(0,qm._p)(e.collection_id,s),a="public"===t?"public":Gm(i).type;return{key:e.id,id:e.id,lonLat:Km(e),type:a,data:{source:"favorites",entityId:e.object_id}}}));return{indexHashMap:e.reduce(((e,t,r)=>(t.object_id&&(e[t.object_id]=r),e)),{}),markers:n||Qm}};var Ym=r(13663);const Xm=(0,Ym.yc)(),ef=(0,Be.P1)([({state:e})=>{const t=(0,re.SC)(e),r=t&&(0,pe.Gp)(t),n=(0,ee.t0)(e.appContext.frames,"userProfile"),s=!!n&&"favorites"===n.profileTab;return r?(0,Ym.vE)(r)(e):s?Xm(e):void 0},({state:e})=>(0,Zh.tV)(e)],((e,t)=>{if(e)return Jm(e,"personal",t)}));var tf=r(90280),rf=r(48175);const nf=(0,Be.P1)([({state:e})=>sf(e),({state:e})=>(0,g.yH)(e)],((e,t)=>{const r=e?(0,rf.a)(e,t):void 0;if(r)return Jm(r,"public")})),sf=(0,Be.P1)([re.SC,tf.UW,e=>e.data.entity.profile],((e,t,r)=>{const n=e&&(0,pe.Gp)(e),s=n?t[n]:void 0;if(s)return s.map((e=>{if(e.object_id){const t=r[e.object_id];if(t){const r=t.data;return Object.assign(Object.assign({},e),{point:af(r,e)})}}return e}))}));function af(e,t){return t.point?t.point:e&&"point"in e?e.point:void 0}const of=3600,cf=86400,df=172800,lf=604800,uf=1209600,pf=1e3;var hf;!function(e){e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat",e[e.sun=7]="sun"}(hf||(hf={}));const gf=(e,t)=>{const{day:r,start_hour:n,finish_hour:s,start_minute:i,finish_minute:a}=t,o=new Date(e*pf);o.setSeconds(0),o.setMilliseconds(0);const c=o.getDay(),d=hf[r],l=o.getDate()+(d-c+7)%7;o.setDate(l),o.setHours(n,i,0,0);const u=Math.floor(o.getTime()/pf),p=23===s&&59===a;o.setHours(p?24:s,p?0:a,0,0);return[u,Math.floor(o.getTime()/pf)]},mf=e=>e.reduce(((e,t)=>{if(!e.length)return[t];const r=e[e.length-1];return r[1]>=t[0]?[...e.slice(0,e.length-1),[r[0],t[1]]]:[...e,t]}),[]),ff=(e,t)=>{if(!(null==t?void 0:t.length))return!0;const r=t.map((t=>gf(e,t)));r.sort(((e,t)=>e[0]-t[0]));return mf(r).some((([t,r])=>vf(e,t,r)))},vf=(e,t,r)=>{if("number"!=typeof t)return!0;if("number"==typeof r&&t>=r)return!0;const n=r||Number.MAX_SAFE_INTEGER;if(e>=t&&e<=n)return!0;if(e>n)return!1;const s=n-t,i=t-e;return s<43200?i<=of:s<df?i<=21600:s<uf?i<=cf:i<=lf};var bf=r(35155);const yf=e=>{const{event:t,userId:r,zoomStyle:n}=e;return t.user.id===r||!!((e,t)=>{switch(t){case"SHOW_ALL_MARKERS":return!0;case"SHOW_SMALL_MARKERS":return[3,4,5,6,7].includes(e.road);case"SHOW_LARGE_MARKERS":return"camera"!==e.type&&[5,6,7].includes(e.road);case"SHOW_MAIN_MARKERS":return"camera"!==e.type&&"comment"!==e.type&&[5,6,7].includes(e.road);default:return!1}})(t,n)&&("restriction"!==t.type||((e,t)=>{if(!t)return!0;const{finish_time:r,start_time:n,wdays:s}=t,i=Math.floor(e/pf);return vf(i,n,r)&&ff(i,s)})(Date.now(),t.data))},xf=(e,t,r)=>{if(!yf({userId:r,zoomStyle:t,event:e}))return[];switch(e.location.type){case"MultiPoint":return((e,t)=>{if("Point"===e.location.type)return[];if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return[];const r="camera"===e.type?(0,bf.y)(e):e.type;return e.location.coordinates.map(((t,n)=>({key:`${e.id}_${n}`,id:`${e.id}_${n}`,lonLat:t,type:r,data:{type:r,id:e.id,source:"tUgc",event:e}})))})(e,t);case"Point":const r=((e,t)=>{if("Point"!==e.location.type)return;if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return;const r="camera"===e.type?(0,bf.y)(e):e.type;return{key:e.id,id:e.id,lonLat:e.location.coordinates,type:r,data:{type:r,id:e.id,source:"tUgc",event:e}}})(e,t);return r?[r]:[];default:return[]}},jf=[],wf=(0,Be.P1)([({state:e})=>e.appContext.showTrafficOnMap,({state:e,tUgcMarkersState:t})=>{if((0,g.SJ)(e))return t},({state:e})=>{return(t=(0,re.Hr)(e))>16?"SHOW_ALL_MARKERS":t>14?"SHOW_SMALL_MARKERS":t>12?"SHOW_LARGE_MARKERS":t>10?"SHOW_MAIN_MARKERS":"NO_MARKERS";var t},({state:e})=>(0,Ve.b1)(e),({state:e})=>{return!!(t=(0,ee.WZ)(e.appContext.frames,["product","search"]))&&("search"===t.type||"product"===t.type);var t}],((e,t,r,n,s)=>s?{markers:jf,indexHashMap:{}}:e&&t&&"NO_MARKERS"!==r?((e,t,r)=>{const n=[],s={},i=[...e];return i.sort(((e,t)=>t.rate-e.rate)),i.forEach((e=>{const i=xf(e,t,r),a=n.length;return i.forEach(((e,t)=>{s[e.id]=a+t})),n.push(...i)})),{markers:n,indexHashMap:s}})(t,r,n):{markers:jf,indexHashMap:{}}));var If=r(80750);const Cf=(0,Be.P1)([({state:e})=>e.appContext.frames],(e=>(0,ee.WZ)(e,["search","entity","pending","product","prices","realty","realtyCard"]))),Of=(0,b.T3)();var _f=r(72366);const kf=(0,Be.P1)([function({state:e}){const t=Cf({state:e});return t&&"point"in t?t.point:void 0},function({state:e}){const t=Cf({state:e});if(!t)return;const{entityId:r,searchId:n}=(0,Ja.G)(t,e);return r?Of({state:e,entityId:r,searchId:n}):void 0},function({state:e}){var t,r;const n=Cf({state:e});if(!n)return;switch(n.type){case"realtyCard":return(0,Em.W)(e);case"realty":return"building"===(null===(t=n.entity)||void 0===t?void 0:t.type)?null===(r=n.entity)||void 0===r?void 0:r.id:void 0;case"product":return n.buildingId;default:return}}],((e,t,r)=>{var n;const s=null==t?void 0:t.data,i=(0,_f.m)(s);return{entityId:(null==i?void 0:i.id)||(null==s?void 0:s.id),buildingId:s&&(0,kr.J)(s)?null===(n=s.address)||void 0===n?void 0:n.building_id:r,pointFromFrame:e,pointFromEntity:s&&"point"in s?s.point:void 0,withAds:s&&"ads"in s&&(0,If.d)(s.ads)}}));const Sf=(0,Be.P1)([({state:e})=>e.appContext.floors],(e=>e?{id:e.floorsId,floorIndex:e.currentFloor}:void 0));function Mf(e){return"commercial"===e?{width:34,height:54}:{width:30,height:48}}const Tf=(0,Be.HP)((function(e,t,r,s,i,a,o,c){const{width:d,height:l}=Mf(e);let u;try{u=(0,$m.renderToStaticMarkup)((0,n.jsx)(a,{type:e,backTo2004:i,allowSnowStyle:c}))}catch(e){u=""}return[{html:u,width:d,height:l,offset:[-d/2,2-l],coordinates:[r,s],isInteractive:!0,isAnimated:!0,animationDuration:300,zIndex:o,data:{type:"czar",czarType:e,id:t}}]}));var Nf=r(759);function Pf(e,t,r){if(t&&t<25){if(e>=13)return 4;if(e>=11)return 1}const n=[{zoom:17,maxLines:4},{zoom:15,maxLines:2},{zoom:12,maxLines:1},{zoom:1,maxLines:0}].find((t=>e>=t.zoom)),s=void 0!==n?n.maxLines:0;return 1===s&&r&&t&&t>50&&e<14.3?0:s}const Ef=(0,Be.HP)((function(e,t){const r=e.entityId,n=r?null==t?void 0:t.markers[t.indexHashMap[r]]:void 0,s=(0,$.oA)([e.pointFromFrame,Lf(n),e.pointFromEntity]);if(!s||!s.length)return;const i="commercial"===(null==n?void 0:n.type)||e.withAds?"commercial":"default";return{id:r,entityId:e.entityId,buildingId:e.buildingId,lonLat:[s[0].lon,s[0].lat],type:i}}));function Lf(e){if(!e)return;const[t,r]=e.lonLat;return{lon:t,lat:r}}const zf="[[COUNT]]",Rf="[[PRICE]]",Ff=e=>{const{css:t,s:r}=(0,rt.y)(Hf),{visited:s=!1,hovered:i=!1}=e;return(0,n.jsx)("div",Object.assign({className:t(r.root)},Oe.dx.n("wat-realty-html-marker"),Oe.dx.s(s?"visited":void 0),{children:(0,n.jsx)("div",Object.assign({"data-ismarkerlabel":!0},{children:(0,n.jsxs)("div",Object.assign({className:t(r.content,s&&r._visited,i&&r._hovered)},{children:[(0,n.jsx)("div",Object.assign({className:t(r.count)},{children:zf})),(0,n.jsx)("div",Object.assign({className:t(r.text)},{children:Rf})),(0,n.jsx)("div",Object.assign({className:t(r.bullet)},{children:(0,n.jsx)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},{children:(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsx)("circle",{cx:"9",cy:"9",r:"8",fill:"currentColor"}),(0,n.jsx)("circle",{cx:"9",cy:"9",r:"5",fill:"#FFF"})]}))}))}))]}))}))}))},Hf=(0,rt.k)({root:{background:"transparent",display:"flex",height:0,width:126,pointerEvents:"none",justifyContent:"center"},count:Object.assign(Object.assign({display:"flex",alignItems:"center",height:16},st.Rw),{lineHeight:st.Rw.fontSize,padding:"0 4px",marginTop:4,marginBottom:4,marginStart:-4,marginEnd:4,backgroundColor:Ee.O.white,borderRadius:1,":empty":{display:"none"}}),content:{height:24,display:"flex",alignItems:"center",pointerEvents:"visible",position:"relative",boxSizing:"border-box",textAlign:"center",backgroundColor:"#0F7DDC",color:"#0F7DDC",borderRadius:cd.E.default,padding:"4px 8px",cursor:"pointer",":hover":{background:"#e32508",color:"#e32508"}},_visited:{background:"#af7eb2",color:"#af7eb2",":hover":{background:"#e32508",color:"#e32508"}},_hovered:{background:"#e32508",color:"#e32508"},text:Object.assign(Object.assign({},st.oN),{lineHeight:st.oN.fontSize,color:Ee.O.white}),bullet:{position:"absolute",fontSize:0,left:"50%",top:19,transform:"translateX(-50%)"}}),Bf=Math.pow(10,3),Af=Math.pow(10,6),Df=Math.pow(10,9);const Zf={width:126,height:24,offset:[-63,-27]},Vf=function(){const e=(0,Be.HP)((()=>(0,$m.renderToStaticMarkup)((0,n.jsx)(Ff,{})))),t=(0,Be.HP)((()=>(0,$m.renderToStaticMarkup)((0,n.jsx)(Ff,{visited:!0})))),r=(0,Be.HP)((()=>(0,$m.renderToStaticMarkup)((0,n.jsx)(Ff,{hovered:!0}))));return(n,s)=>{switch(!0){case s:return r();case n:return t();default:return e()}}}();function Uf(e,t,r,n){const s=((e,t,r)=>{const n=t&&t>=2;if(!e)return;if(e<Bf){const t=Math.round(e);return n?r._gg("от&nbsp;%1",[t]):t.toString()}if(e<Af){const t=parseFloat((e/Bf).toFixed(1));return n?r._gg("от&nbsp;%1&nbsp;тыс.",[t]):r._gg("%1&nbsp;тыс.",[t])}if(e<Df){const t=parseFloat((e/Af).toFixed(2));return n?r._gg("от&nbsp;%1&nbsp;млн",[t]):r._gg("%1&nbsp;млн",[t])}const s=Math.round(e/Df);return n?r._gg("от&nbsp;%1&nbsp;млрд",[s]):r._gg("%1&nbsp;млрд",[s])})(e.data.min_price,e.data.product_total,t),i=e.data.product_total>=2?e.data.product_total:"";if(!s)return e;const a=Vf(r,n),o=Object.assign({content:a.replace(zf,i.toString()).replace(Rf,s)},Zf);return Object.assign(Object.assign({},e),{htmlLabel:o})}const $f=()=>{const e=(0,s.s)();return{icons:{smallbullet:{normal:{img:`${e}markers/realty/small.svg`,size:[10,10],offset:[.5,.5]},hover:{img:`${e}markers/realty/small-hover.svg`,size:[10,10],offset:[.5,.5]},active:{img:`${e}markers/realty/small-visited.svg`,size:[10,10],offset:[.5,.5]}},middlebullet:{normal:{img:`${e}markers/realty/medium.svg`,size:[12,12],offset:[.5,.5]},hover:{img:`${e}markers/realty/medium-hover.svg`,size:[12,12],offset:[.5,.5]},active:{img:`${e}markers/realty/medium-visited.svg`,size:[12,12],offset:[.5,.5]}},bigbullet:{normal:{img:`${e}markers/realty/large.svg`,size:[18,18],offset:[.5,.5]},hover:{img:`${e}markers/realty/large-hover.svg`,size:[18,18],offset:[.5,.5]},active:{img:`${e}markers/realty/large-visited.svg`,size:[18,18],offset:[.5,.5]}}},zIndex:z.yQ.default}};function Wf(){const e=(0,s.s)();return{smallbullet:{normal:{url:`${e}markers/realty/small-visited.svg`},hover:{url:`${e}markers/realty/small-hover.svg`}},middlebullet:{normal:{url:`${e}markers/realty/medium-visited.svg`},hover:{url:`${e}markers/realty/medium-hover.svg`}},bigbullet:{normal:{url:`${e}markers/realty/large-visited.svg`},hover:{url:`${e}markers/realty/large-hover.svg`}}}}const qf="dg5_realty_visited_markers",Gf=e=>e.appContext.weak.realtyVisited,Qf=e=>e.appContext.weak.restoredRealtyVisited,Kf=e=>(null==e?void 0:e.categoryId)?`${e.categoryId}_${e.buildingId}`:e.buildingId,Jf=(0,T.gQ)("restorePersistedVisitedMarkers",(()=>(0,T.XJ)((0,G.gF)({restored:Qf,visited:Gf},(({restored:e,visited:t})=>{if(e)return(0,T.ZT)();const r=ev();r.length>1e3&&(0,ne.H)({id:"owieb",message:"too many visited markers in realty",level:"error",payload:{type:"debug",subtype:"visited markers getFormattedDataFromStorage error"}});const n=r.reduce(((e,t)=>(e[t]=!0,e)),{});return(0,J.yy)({realtyVisited:Object.assign(Object.assign({},t),n),restoredRealtyVisited:!0})}))))),Yf=(0,T.gQ)("saveVisitedMarker",(e=>(0,T.XJ)((e=>{const t=Kf({buildingId:e.buildingId,categoryId:e.categoryId}),r=Xf();return-1===r.indexOf(t)&&Kd.tO.local.setItem(qf,`${t};${r}`),(0,G._N)(Gf,(e=>(0,J.yy)({realtyVisited:Object.assign(Object.assign({},e),{[t]:!0})})))})(e)))),Xf=()=>Kd.tO.local.getItem(qf)||"",ev=()=>{const e=Xf().split(";");if(e.length<300)return e;const t=e.slice(0,300);return Kd.tO.local.setItem(qf,t.join(";")),t},tv=(0,Be.P1)([({state:e})=>"realty"===e.appContext.activeLayer,({state:e})=>e.data.realty.markers.default,({state:e})=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},({state:e})=>Gf(e),({state:e})=>e.appContext.weak.realtyHoveredId,({i18n:e})=>e,({state:e})=>{var t;return null===(t=(0,ee.t0)(e.appContext.frames,"realty"))||void 0===t?void 0:t.categoryId},({state:e})=>e.appContext.weak.infrastructureType],((e,t,r,n,s,i,a,o)=>{const c=null==t?void 0:t.data;if(!e||!c||o&&"allInfrastructure"!==o)return;const d=[];for(const e of c){const t=e.building_id,r={source:"realty",product_total:e.product_total,product_id:e.product_id,building_id:e.building_id,min_price:e.min_price},o=t,c=Kf({buildingId:e.building_id,categoryId:a}),l=n&&n[c],u={key:o,id:t,lonLat:[e.lon,e.lat],type:"bigbullet",buildingId:e.building_id,icon:l?Wf():void 0,data:r},p=s?(0,$._J)(s):void 0,h=Uf(u,i.tp,l,t===p);d.push(h)}return{indexHashMap:r,markers:d}})),rv=Object.freeze([]),nv=Object.freeze({}),sv=(0,Be.P1)([({state:e})=>e.appContext.weak.realtyHoveredId,tv,kf],((e,t,r)=>{if(!t)return nv;const n=r.buildingId,s=e&&t.indexHashMap?t.indexHashMap[(0,$._J)(e)]:void 0,i=n&&t.indexHashMap?t.indexHashMap[n]:void 0;return{hoveredMarkerIndices:void 0!==s?[s]:rv,hiddenMarkerIndices:void 0!==i?[i]:rv}})),iv=(0,Be.P1)([({state:e})=>"exchange"===e.appContext.activeLayer,({exchangeMarkersState:e})=>e],((e,t)=>{if(e&&(null==t?void 0:t.markersData))return{indexHashMap:t.markersData.hashMap,markers:t.markersData.markers}})),av=(0,Be.P1)([({state:e})=>e.appContext.weak.hoveredId,iv,kf],((e,t,r)=>{if(!t)return ft.Nu;const n=r.entityId,s=e&&t.indexHashMap?t.indexHashMap[e]:void 0,i=n&&t.indexHashMap?t.indexHashMap[n]:void 0;return{hoveredMarkerIndices:void 0!==s?[s]:ft.LZ,hiddenMarkerIndices:void 0!==i?[i]:ft.LZ}}));function ov(){return(0,n.jsxs)("svg",Object.assign({width:"30",height:"48",viewBox:"0 0 30 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{opacity:"0.0363806",d:"M15 46.9999C16.6569 46.9999 18 46.3284 18 45.4999C18 44.6715 16.6569 43.9999 15 43.9999C13.3431 43.9999 12 44.6715 12 45.4999C12 46.3284 13.3431 46.9999 15 46.9999Z",fill:"black"}),(0,n.jsx)("path",{opacity:"0.0363806",d:"M15 47.9999C17.4853 47.9999 19.5 46.8807 19.5 45.4999C19.5 44.1192 17.4853 42.9999 15 42.9999C12.5147 42.9999 10.5 44.1192 10.5 45.4999C10.5 46.8807 12.5147 47.9999 15 47.9999Z",fill:"black"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 45.8836H15.8824C15.8824 29.2177 20.7768 23.7974 27.9874 23.7974H28.3297C29.0779 21.5907 30 17.9915 30 15.0004C30 7.1439 23.7679 0.000366211 15 0.000366211C6.23206 0.000366211 0 7.1439 0 15.0004C0 17.9915 0.922059 21.5907 1.67029 23.7974H2.01265C9.22412 23.7974 14.1176 29.2177 14.1176 45.8836H15Z",fill:"url(#czar-a)"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",Object.assign({id:"czar-a",x1:"15",y1:"22.942",x2:"15",y2:"0.000366211",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#1B89EE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#3198EC"})]}))})]}))}function cv(){return(0,n.jsxs)("svg",Object.assign({width:"36",height:"52",viewBox:"0 0 36 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("rect",{x:"1",y:"9",width:"34",height:"34",rx:"2",fill:"#CB3C3C",stroke:"#7A0E0E",strokeWidth:"2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 10H3.00001C2.72387 10 2.47387 10.1119 2.29291 10.2929L18 26L33.7071 10.2929C33.5262 10.1119 33.2762 10 33 10Z",fill:"#E95858"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00001 42H33C33.2762 42 33.5262 41.8881 33.7071 41.7071L18 26L2.29291 41.7071C2.47387 41.8881 2.72387 42 3.00001 42Z",fill:"#AE1F1F"})]}))}function dv(){return(0,n.jsxs)("svg",Object.assign({width:"34",height:"54",viewBox:"0 0 34 54",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{opacity:"0.0363806",d:"M17 52.9999C18.6569 52.9999 20 52.3284 20 51.4999C20 50.6715 18.6569 49.9999 17 49.9999C15.3431 49.9999 14 50.6715 14 51.4999C14 52.3284 15.3431 52.9999 17 52.9999Z",fill:"black"}),(0,n.jsx)("path",{opacity:"0.0363806",d:"M17 53.9999C19.4853 53.9999 21.5 52.8807 21.5 51.4999C21.5 50.1192 19.4853 48.9999 17 48.9999C14.5147 48.9999 12.5 50.1192 12.5 51.4999C12.5 52.8807 14.5147 53.9999 17 53.9999Z",fill:"black"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 52.0014H18C18 33.1134 23.547 26.9704 31.719 26.9704H32.107C32.955 24.4694 34 20.3904 34 17.0004C34 8.09637 26.937 0.000366211 17 0.000366211C7.063 0.000366211 0 8.09637 0 17.0004C0 20.3904 1.045 24.4694 1.893 26.9704H2.281C10.454 26.9704 16 33.1134 16 52.0014H17Z",fill:"url(#czar-commercial-a)"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 10.9999L14 15.4999L17 10.9999L20 15.4999L23 10.9999V21.9999H11V10.9999Z",fill:"white"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",Object.assign({id:"czar-commercial-a",x1:"17",y1:"26.0009",x2:"17",y2:"0.000366211",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#1B89EE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#3198EC"})]}))})]}))}function lv(){return(0,n.jsxs)("svg",Object.assign({width:"36",height:"52",viewBox:"0 0 36 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("rect",{x:"1",y:"9",width:"34",height:"34",rx:"2",fill:"#E89F00",stroke:"#795300",strokeWidth:"2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 10H3.00001C2.72387 10 2.47387 10.1119 2.29291 10.2929L18 26L33.7071 10.2929C33.5262 10.1119 33.2762 10 33 10Z",fill:"#FFB81C"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.00001 42H33C33.2762 42 33.5262 41.8881 33.7071 41.7071L18 26L2.29291 41.7071C2.47387 41.8881 2.72387 42 3.00001 42Z",fill:"#A77300"}),(0,n.jsx)("path",{d:"M10.7273 18.7273L14.3637 23.8182L18 18.7273L21.6364 23.8182L25.2727 18.7273V31.8182H10.7273V18.7273Z",fill:"white"})]}))}function uv(){return(0,n.jsxs)("svg",Object.assign({width:"30",height:"48",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",Object.assign({x1:"50%",y1:"50%",x2:"50%",y2:"0%",id:"czar-new-year-a"},{children:[(0,n.jsx)("stop",{stopColor:"#027AF2",offset:"0%"}),(0,n.jsx)("stop",{stopColor:"#3198EC",offset:"100%"})]}))}),(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsx)("path",{d:"M15 47c1.657 0 3-.672 3-1.5 0-.829-1.343-1.5-3-1.5s-3 .671-3 1.5c0 .828 1.343 1.5 3 1.5Z",fill:"#000",fillRule:"nonzero",opacity:".036"}),(0,n.jsx)("path",{d:"M15 48c2.485 0 4.5-1.12 4.5-2.5 0-1.381-2.015-2.5-4.5-2.5s-4.5 1.119-4.5 2.5c0 1.38 2.015 2.5 4.5 2.5Z",fill:"#000",fillRule:"nonzero",opacity:".036"}),(0,n.jsx)("path",{d:"M15 45.883h.882c0-16.666 4.895-22.086 12.105-22.086h.343C29.078 21.59 30 17.991 30 15c0-7.856-6.232-15-15-15S0 7.144 0 15c0 2.991.922 6.59 1.67 8.797h.343c7.211 0 12.105 5.42 12.105 22.086H15Z",fill:"url(#czar-new-year-a)"}),(0,n.jsx)("path",{d:"m16.73 6 .72 1.246-1.777 1.023v3.426l3.062-1.767-.007-2.057 1.441.005.007 2.057 1.779 1.035-.717 1.25-1.779-1.035-3.012 1.738 3.011 1.739 1.78-1.035.717 1.25-1.78 1.035-.006 2.058-1.44.005.006-2.058-3.062-1.767v3.582l1.778 1.024L16.73 20l-1.778-1.024L13.176 20l-.72-1.246 1.775-1.023v-3.53l-2.965 1.713.006 2.059-1.441-.005-.006-2.058-1.78-1.034.717-1.25 1.778 1.033 3.01-1.738-3.01-1.737-1.778 1.035-.717-1.25 1.779-1.036.007-2.057 1.44-.005-.006 2.058 2.966 1.713V8.268l-1.776-1.022L13.176 6l1.776 1.023L16.73 6Z",fill:"#FFF"})]}))]}))}const pv=({type:e,backTo2004:t,allowSnowStyle:r})=>(0,n.jsx)("div",Object.assign({style:Mf(e)},{children:t?"commercial"===e?(0,n.jsx)(lv,{}):(0,n.jsx)(cv,{}):"commercial"===e?(0,n.jsx)(dv,{}):r?(0,n.jsx)(uv,{}):(0,n.jsx)(ov,{})}));var hv=r(70371),gv=r(89848);const mv={offset:[20,-12]};function fv({formattedMarker:e,maxLines:t}){const r=(({formattedMarker:e,maxLines:t})=>{var r,n;const{data:s}=e;if(!t)return ft.LZ;const i=[],a=s.name,o=null===(n=null===(r=s.reviews)||void 0===r?void 0:r.general_rating)||void 0===n?void 0:n.toString();return a?(i.push([{type:"name",text:a}]),1===t?i:(o&&i.push([{type:"rating",text:o}]),2===t?i:i.slice(0,t))):ft.LZ})({formattedMarker:e,maxLines:t}),s=(0,$m.renderToStaticMarkup)((0,n.jsx)(hv.S,{labelLines:r})),i=(0,Um.D)(r);return Object.assign(Object.assign({},e),{htmlLabel:Object.assign(Object.assign({content:s},mv),i)})}var vv=r(51984);const bv=(0,Be.P1)([({state:e})=>(0,Em.W)(e),({state:e})=>e.data.realty.infrastructure,({state:e})=>e.appContext.weak.infrastructureType,({state:e})=>e.appContext.zoom,({state:e})=>e.data.entity.profile,({i18n:{tp:e}})=>e,({config:e})=>e],((e,t,r,n,s,i,a)=>{var o,c;if(!e||!t||!r)return;const d=null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.data;if(!d)return;const l=[],u=[];for(const e in d)for(const t of d[e]){const o=(0,$._J)(t.id),d=null===(c=s[o])||void 0===c?void 0:c.data,p=e===r,h=p&&d?(0,vv.KY)(d,i,a)[0]:void 0,g=p&&d?null==d?void 0:d.reviews:void 0,m={source:"infrastructure",type:(0,gv.j)(t.type),searchId:o,name:h,reviews:g,mainInfrastructureType:e},f={key:o,id:o,lonLat:[t.lon,t.lat],type:`${e}_${e===r?"selected":"normal"}`,buildingId:t.geometry_id,data:m},v=p?Pf(n):0,b=v?fv({formattedMarker:f,maxLines:v}):f;e===r&&u.push(b),"allInfrastructure"===r&&l.push(b)}return{normal:{markers:l,indexHashMap:l.reduce(((e,t,r)=>(t.id&&(e[t.id]=r),e)),{})},selected:{markers:u,indexHashMap:u.reduce(((e,t,r)=>(t.id&&(e[t.id]=r),e)),{})}}})),yv=(0,Be.P1)([({state:e})=>e.appContext.weak.hoveredId,bv],((e,t)=>{if(!t)return{normal:ft.Nu,selected:ft.Nu};const r=e&&t.normal.indexHashMap?t.normal.indexHashMap[e]:void 0,n=e&&t.selected.indexHashMap?t.selected.indexHashMap[e]:void 0;return{normal:{hoveredMarkerIndices:void 0!==r?[r]:ft.LZ,hiddenMarkerIndices:ft.LZ},selected:{hoveredMarkerIndices:void 0!==n?[n]:ft.LZ,hiddenMarkerIndices:ft.LZ}}})),xv=(0,Be.P1)([({state:e})=>(0,re.H3)(e),Sf,({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.firmsToFloorIndexMap],((e,t,r)=>function(e,t,r){if(!e||!t||void 0===r)return e;const n={};let s=0;return{markers:e.markers.filter((e=>{const i=(0,$._J)(e.id);return(void 0===t[i]||t[i]===r)&&(n[i]=s,s+=1,!0)})),indexHashMap:n}}(e,r,t&&t.floorIndex))),jv=(0,Be.P1)([xv,({state:e})=>(e=>{const t=(0,um.m)(e);if(t&&"query"===t.searchType&&"catalog"===t.tab)return(0,dm.rO)({state:e,searchId:(0,ee.QB)(t)}).data})(e)],((e,t)=>({markersData:e,profile:t}))),wv=(0,Be.P1)([jv,({state:e})=>e.appContext.zoom],(({profile:e},t)=>{const r=e&&e.searchType===Nf.Qt.recovery;return Pf(t,e&&e.total,r)}),{compareByFirstArgOnly:!0}),Iv=(0,Be.P1)([xv,wv,({state:e})=>e.session.time,({i18n:e})=>e,({is12h:e})=>e],((e,t,r,n,s)=>{if(!e)return;const i=function(e){const{markers:t,i18n:r,linesInLabel:n=0,time:s,is12h:i,MarkerLabel:a}=e;return n?t.map((e=>{const t=Wm({marker:e,maxLines:n,time:s,tp:r.tp,dateFns:r.dateFns,is12h:i,MarkerLabel:a});return t?Object.assign(Object.assign({},e),{htmlLabel:t}):e})):t}({i18n:n,is12h:s,markers:e.markers,time:r,linesInLabel:t,MarkerLabel:hv.S});return{markers:i,indexHashMap:e.indexHashMap}})),Cv=(0,Be.P1)([xv,({state:e})=>"backTo2004"===e.appContext.activeLayer],((e,t)=>{if(t)return"backTo2004";if(e){const t=e.markers.reduce(((e,t)=>e+(t.data.cluster?t.data.cluster.count:1)),0);if(t<20)return"fewmarkers"}return"default"}));let Ov;const _v=(0,Be.P1)([Iv,({state:e})=>(0,dm.Aw)({state:e,searchId:(0,re.xl)(e)||""})],((e,t)=>(Ov&&t&&"loading"===t.meta.status||(Ov=e),Ov))),kv=(0,Be.P1)([kf,_v,({state:e})=>"backTo2004"===e.appContext.activeLayer,({state:e})=>e.appContext.showSnow.allowSnowStyle],((e,t,r,n)=>{const s=Ef(e,t);return(null==s?void 0:s.id)?Tf(s.type,s.entityId,s.lonLat[0],s.lonLat[1],r,pv,z.yQ.czars,n):ft.LZ})),Sv=(0,Be.P1)([_v,Cv,kf,({state:e})=>e.appContext.weak.hoveredId?(0,b.nM)({state:e,entityId:e.appContext.weak.hoveredId}).data:void 0,({state:e})=>e.appContext.weak.hoveredId,sv,av,yv],((e,t,r,n,s,i,a,o)=>{const c=Ef(r,e),d=function(e,t){if(!e||!t)return;const r=t.indexHashMap[(0,$._J)(e)];return"number"==typeof r?[r]:void 0}(null==c?void 0:c.id,e),l=function(e){if(!e)return;const t=[];return e.markers.forEach((r=>{if(Dm(r))return t.push(e.indexHashMap[(0,$._J)(r.id)])})),t.length?t:void 0}(e),u=function(e,t,r){var n;const s=null==r?void 0:r.indexHashMap,i=null==r?void 0:r.markers;if(!e||!s||!i)return;const a=s[e],o=i[a];if(Dm(o))return;if("number"==typeof a)return[a];if("branch"===(null==t?void 0:t.type)){const e=null===(n=t.address)||void 0===n?void 0:n.building_id,r=e?s[e]:void 0,a="number"==typeof r?i[r]:void 0;if(Dm(a))return;return"number"==typeof r?[r]:void 0}}(s,n,e);return{[t]:{hiddenMarkerIndices:d,hoveredMarkerIndices:u,activeMarkerIndices:l},realty:i,exchange:a,infrastructureNormal:o.normal,infrastructureSelected:o.selected}}));const Mv=(0,Be.P1)([_v,ef,nf,wf,kf,Cv,tv,iv,bv],((e,t,r,n,s,i,a,o,c)=>{const d={default:[],fewmarkers:[],favorites:[],tUgc:[],realty:[],exchange:[],backTo2004:[],infrastructure:[]},l=Ef(s,e);var u,p;return d[i]=e?(u=e.markers,(p=l&&l.id)?u.map((e=>(0,$._J)(e.id)===p?Object.assign(Object.assign({},e),{htmlLabel:void 0}):e)):u):ft.LZ,d.favorites=r?r.markers:t?t.markers:ft.LZ,d.tUgc=n.markers||ft.LZ,d.realty=(null==a?void 0:a.markers)||ft.LZ,d.exchange=(null==o?void 0:o.markers)||ft.LZ,d.infrastructureNormal=(null==c?void 0:c.normal.markers)||ft.LZ,d.infrastructureSelected=(null==c?void 0:c.selected.markers)||ft.LZ,d}));var Tv=r(64301),Nv=r(35006);const Pv={type:"smallbullet",margin:0,safeZone:20,degradation:0},Ev={type:"middlebullet",margin:0,safeZone:24,degradation:0},Lv={type:"bigbullet",margin:0,safeZone:36,degradation:0},zv={priorityGroups:[Lv,Ev,Pv],labelMargin:60},Rv={9:{priorityGroups:[Object.assign(Object.assign({},Pv),{margin:0,safeZone:0})],labelMargin:30},10:{priorityGroups:[Object.assign(Object.assign({},Pv),{margin:0,safeZone:0})],labelMargin:35},11:{priorityGroups:[Object.assign(Object.assign({},Ev),{safeZone:8}),Object.assign(Object.assign({},Pv),{safeZone:0})],labelMargin:40},12:{priorityGroups:[Object.assign(Object.assign({},Ev),{safeZone:6}),Object.assign(Object.assign({},Pv),{safeZone:0})],labelMargin:45},13:{priorityGroups:[Object.assign(Object.assign({},Ev),{safeZone:2}),Object.assign(Object.assign({},Pv),{safeZone:0})],labelMargin:45},14:{priorityGroups:[Object.assign(Object.assign({},Ev),{safeZone:2}),Object.assign(Object.assign({},Pv),{safeZone:1})],labelMargin:50},15:{priorityGroups:[Object.assign(Object.assign({},Ev),{safeZone:4}),Object.assign(Object.assign({},Pv),{safeZone:2})],labelMargin:55},16:{priorityGroups:[Lv,Ev,Pv],labelMargin:60},17:zv,18:zv},Fv={priorityGroups:[...qm.qr.map((e=>({type:Gm(e).type,margin:0,safeZone:20,degradation:0}))),{type:"public",margin:0,safeZone:20,degradation:0}],labelMargin:0},Hv={9:Fv,10:Fv,11:Fv,12:Fv,13:Fv,14:Fv,15:Fv,16:Fv,17:Fv,18:Fv},Bv=z.Tq.map((e=>({type:`${e}_normal`,margin:0,safeZone:0,degradation:0}))),Av={priorityGroups:[...z.Tq.map((e=>({type:`${e}_selected`,margin:0,safeZone:0,degradation:0})))],labelMargin:5},Dv={priorityGroups:[...Bv],labelMargin:0},Zv={9:Av,10:Av,11:Av,12:Av,13:Av,14:Av,15:Av,16:Av,17:Av,18:Av},Vv={9:Dv,10:Dv,11:Dv,12:Dv,13:Dv,14:Dv,15:Dv,16:Dv,17:Dv,18:Dv},Uv={type:"smallbullet",margin:0,safeZone:12,degradation:0},$v={type:"middlebullet",margin:0,safeZone:20,degradation:0},Wv={type:"bigbullet",margin:0,safeZone:20,degradation:0},qv={priorityGroups:[Wv,$v,Uv],labelMargin:0},Gv={9:{priorityGroups:[Object.assign(Object.assign({},Uv),{margin:8,safeZone:0})],labelMargin:25},10:{priorityGroups:[Object.assign(Object.assign({},Uv),{margin:12,safeZone:0})],labelMargin:25},11:{priorityGroups:[Object.assign(Object.assign({},$v),{margin:14,safeZone:8,degradation:22}),Object.assign(Object.assign({},Uv),{margin:8,safeZone:0})],labelMargin:25},12:{priorityGroups:[Object.assign(Object.assign({},$v),{margin:14,safeZone:8,degradation:22}),Object.assign(Object.assign({},Uv),{margin:8,safeZone:0})],labelMargin:25},13:{priorityGroups:[Object.assign(Object.assign({},$v),{margin:4,safeZone:2}),Object.assign(Object.assign({},Uv),{margin:4,safeZone:0})],labelMargin:20},14:{priorityGroups:[Object.assign(Object.assign({},$v),{safeZone:2}),Object.assign(Object.assign({},Uv),{safeZone:1})],labelMargin:15},15:{priorityGroups:[Object.assign(Object.assign({},$v),{safeZone:4}),Object.assign(Object.assign({},Uv),{safeZone:2})],labelMargin:10},16:{priorityGroups:[Wv,$v,Uv],labelMargin:5},17:qv,18:qv},Qv={type:"commercial",margin:0,safeZone:0,degradation:78},Kv={type:"smallbullet",margin:0,safeZone:12,degradation:0},Jv={type:"middlebullet",margin:0,safeZone:20,degradation:0},Yv={type:"bigbullet",margin:0,safeZone:20,degradation:0},Xv={priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:52}),Yv,Jv,Kv],labelMargin:0},eb={9:{priorityGroups:[Object.assign(Object.assign({},Qv),{margin:4,safeZone:4,degradation:0}),Object.assign(Object.assign({},Kv),{margin:0,safeZone:0})],labelMargin:25},10:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Kv),{margin:0,safeZone:0})],labelMargin:25},11:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Jv),{safeZone:8}),Object.assign(Object.assign({},Kv),{safeZone:0})],labelMargin:25},12:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:1,degradation:0}),Object.assign(Object.assign({},Jv),{safeZone:6}),Object.assign(Object.assign({},Kv),{safeZone:0})],labelMargin:25},13:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:2,degradation:2}),Object.assign(Object.assign({},Jv),{safeZone:2}),Object.assign(Object.assign({},Kv),{safeZone:0})],labelMargin:20},14:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,margin:0,degradation:6}),Object.assign(Object.assign({},Jv),{safeZone:2}),Object.assign(Object.assign({},Kv),{safeZone:1})],labelMargin:15},15:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:10,degradation:20}),Object.assign(Object.assign({},Jv),{safeZone:4}),Object.assign(Object.assign({},Kv),{safeZone:2})],labelMargin:10},16:{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:52}),Yv,Jv,Kv],labelMargin:5},17:Xv,18:Xv},tb=(e,t=16)=>({degradation:0,type:e,margin:t,safeZone:t}),rb=[tb("restriction"),tb("crash"),tb("roadwork"),tb("comment"),tb("other")],nb=[tb("restriction",5),tb("crash",5),tb("roadwork",5),tb("comment",5),tb("other",5),...Nv.m.map((e=>tb(e,5)))],sb={9:{priorityGroups:rb,labelMargin:0},10:{priorityGroups:rb,labelMargin:0},11:{priorityGroups:rb,labelMargin:0},12:{priorityGroups:rb,labelMargin:0},13:{priorityGroups:rb,labelMargin:0},14:{priorityGroups:rb,labelMargin:0},15:{priorityGroups:rb,labelMargin:0},16:{priorityGroups:nb,labelMargin:0},17:{priorityGroups:nb,labelMargin:0},18:{priorityGroups:nb,labelMargin:0}},ib={priorityGroups:[{type:"grey",margin:0,safeZone:0,degradation:0},{type:"red",margin:0,safeZone:0,degradation:0},{type:"yellow",margin:0,safeZone:0,degradation:0},{type:"green",margin:0,safeZone:0,degradation:0}],labelMargin:0},ab={9:ib,10:ib,11:ib,12:ib,13:ib,14:ib,15:ib,16:ib,17:ib,18:ib},ob={default:eb,backTo2004:eb,fewmarkers:Object.assign(Object.assign({},eb),{9:Object.assign(Object.assign({},eb[9]),{priorityGroups:[Object.assign(Object.assign({},Qv),{margin:4,safeZone:4,degradation:0}),Object.assign(Object.assign({},Jv),{safeZone:4}),Object.assign(Object.assign({},Kv),{margin:0,safeZone:0})]}),10:Object.assign(Object.assign({},eb[10]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Jv),{safeZone:12}),Object.assign(Object.assign({},Kv),{margin:0,safeZone:0})]}),11:Object.assign(Object.assign({},eb[11]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Yv),{safeZone:16}),Object.assign(Object.assign({},Kv),{safeZone:2})]}),12:Object.assign(Object.assign({},eb[12]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Yv),{safeZone:16}),Object.assign(Object.assign({},Kv),{safeZone:2})]}),13:Object.assign(Object.assign({},eb[13]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Yv),{safeZone:0}),Object.assign(Object.assign({},Kv),{safeZone:2})]}),14:Object.assign(Object.assign({},eb[14]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,margin:0}),Object.assign(Object.assign({},Yv),{safeZone:0}),Object.assign(Object.assign({},Kv),{safeZone:2})]}),15:Object.assign(Object.assign({},eb[15]),{priorityGroups:[Object.assign(Object.assign({},Qv),{safeZone:0,degradation:0}),Object.assign(Object.assign({},Yv),{safeZone:0}),Object.assign(Object.assign({},Kv),{safeZone:2})]})}),tUgc:sb,favorites:Hv,parks:ab,realty:Rv,exchange:Gv,infrastructureSelected:Zv,infrastructureNormal:Vv},cb={marker:{fillColor:"#3389ed",fillOpacity:1,strokeOpacity:1,strokeColor:Ee.O.white,strokeWidth:3,width:7},circle:{fillColor:Ee.O.blue_028eff,fillOpacity:1,strokeOpacity:.2,strokeColor:Ee.O.blue_028eff,strokeWidth:17,width:7}},db=Math.pow(2,32);function lb(e,t,r){const n=function(e,t){const r=e*db/360,n=Math.sin((i=t,i*Math.PI/180)),s=Math.log((1+n)/(1-n))*db/(4*Math.PI);var i;return[r,s]}(e,t),s=hb(r),i=Math.floor((n[0]+Math.pow(2,31))/s),a=Math.floor((n[1]+Math.pow(2,31))/s),o=ub(i,a,r),c=pb(o[0],o[1]),d=ub(i+1,a+1,r);return[c,pb(d[0],d[1])]}function ub(e,t,r){const n=hb(r),s=2147483648;return[e*n-s,t*n-s]}function pb(e,t){const r=360*e/db,n=-2*Math.PI/db;return[r,90-2*(Math.atan(Math.exp(t*n))/Math.PI*180)]}function hb(e){return Math.pow(2,32-e)}const gb="#5d86dd",mb=(0,Be.P1)([e=>e.session.godmode,e=>(0,re.C8)(e),um.m],((e,t,r)=>{var n;if(!e)return ft.LZ;if(!(0,Y.z)("mapDebugMode")||!t||200!==t.code||!r||"query"!==r.searchType)return ft.LZ;const s=null===(n=t.search_attributes)||void 0===n?void 0:n.cluster_zoom;return s?t.items.map((e=>{const{lon:t,lat:r}=e,[n,i]=lb(t,r,s);return{type:"polyline",points:[n,[i[0],n[1]],i,[n[0],i[1]],n],clickable:!1,style:{fillOpacity:.4,strokeOpacity:1,fillColor:gb,strokeColor:gb,width:2,strokeWidth:0}}})):ft.LZ})),fb=(0,Be.P1)([e=>e.session.godmode,re.H3],((e,t)=>{if(!e)return ft.LZ;return(0,Y.z)("mapDebugMode")&&t?t.markers.map((e=>({type:"circleMarker",position:e.lonLat,radius:3,clickable:!1,style:{fillColor:"#ffffff",strokeColor:"#dd8a26",strokeWidth:1}}))):ft.LZ})),vb=(0,Be.P1)([mb,fb],((e,t)=>[...e,...t]));var bb=r(38773),yb=r(22176),xb=r(95908);function jb(e){if(!e)return;return[...e].reverse().reduce(((e,t)=>{const r=t.geometry;return"MultiPolygon"!==r.type||e.push(Object.assign(Object.assign({},t.properties),{coordinates:r.coordinates.map((e=>e.map((e=>function(e){let t=[0,0];return e.map((([e,r])=>{const[n,s]=t,i=[Number((n+e).toFixed(5)),Number((s+r).toFixed(5))];return t=i,i}))}(e)))))})),e}),[])}const wb=[],Ib="#959faa",Cb="#ffffff",Ob=[["interpolate",["linear"],["zoom"],10,"#ff563180",12,"#ff563166",13,"#ff56314d",15,"#ff563133"],["interpolate",["linear"],["zoom"],10,"#ffd46c80",12,"#ffd46c66",13,"#ffd46c4d",15,"#ffd46c33"],["interpolate",["linear"],["zoom"],10,"#7fcd3380",12,"#7fcd3366",13,"#7fcd334d",15,"#7fcd3333"],["interpolate",["linear"],["zoom"],10,"#0c780580",12,"#0c780566",13,"#0c78054d",15,"#0c780533"]],_b=(0,Be.P1)([e=>e.session.geolocation.allowed,e=>e.session.geolocation.position,e=>e.session.geolocation.accuracy],((e,t,r)=>{if(!e||!t)return wb;const n=[];return r&&n.push({type:"circleMarker",radius:cb.circle.width||0,position:[t.lon,t.lat],clickable:!1,style:cb.circle}),n.push({type:"circleMarker",radius:cb.marker.width||0,position:[t.lon,t.lat],clickable:!0,style:cb.marker}),n}));const kb=(0,Be.P1)([function(e){const t=(0,ee.Fq)(e.appContext.frames);if(!t)return;const r=t.routeId||t.entityId;return(0,b.nM)({state:e,entityId:r}).data},e=>Gg(e.appContext.zoom),function(e){const t=(0,ee.Fq)(e.appContext.frames);return t?t.activeDirectionId:void 0}],((e,t,r)=>{let n=[];if(!e)return wb;const s="route"===e.type?e:(0,bb.t)(e)&&"metro"===e.subtype&&e.routes?e.routes[0]:void 0;if(!s)return wb;const i="route"===e.type?s.route_logo:(0,bb.t)(e)&&"metro"===e.subtype?e.route_logo:void 0,a=!!(0,yb.Z)(i),o=s.directions;if(!o||!o.length)return wb;const c=r||o[0].id,d=s.color||"#5d86dd";let l=[];return o.forEach((e=>{const r=e.id===c,s=function(e,t,r,n){if(!e.geometry.selection)return;const s=(0,Tv.h_)(e.geometry.selection);if(!s)return;const i=[],a=n?Cb:r||Ib,o=s.map((e=>[e.lon,e.lat]));return i.push({type:"polyline",points:o,clickable:!0,eventData:{id:e.id},style:{fillColor:a,strokeColor:n?r:Cb,strokeOpacity:1,width:6,strokeWidth:2}}),e.platforms.forEach(((s,o)=>{if(!(r&&t||0===o||o===e.platforms.length-1))return;if(!s.geometry.centroid)return;const c=(0,Tv.rx)(s.geometry.centroid);c&&i.push({type:"circleMarker",clickable:!0,radius:0===o||o===e.platforms.length-1?n?8:7:n?6:5,position:[c.lon,c.lat],style:{fillColor:Cb,strokeColor:n?r:a,strokeOpacity:1,strokeWidth:2},eventData:{type:"routePlatformPoint",id:s.id,name:s.name}})})),i}(e,t,r?d:void 0,a);s&&(r?l=s:n=[...n,...s])})),[...n,...l]}));const Sb=(0,Be.P1)([xb.z,g.kL,Rd.j],((e,t,r)=>{var n;if(!t||"realtyWalkDistance"!==r)return wb;const s=jb(null===(n=e[t.id])||void 0===n?void 0:n.data);return s?s.reduce(((e,t,r)=>(t.coordinates.forEach((t=>{e.push({type:"polygon",points:t,style:{fillColor:Ob[r],strokeWidth:0},clickable:!1})})),e)),[]):wb}));const Mb=(0,Be.P1)([kb,_b,vb,Sb],((e,t,r,n)=>{const s=[...e,...t,...r,...n];return s.length?s:wb}));var Tb=r(86936),Nb=r(45632),Pb=r(13204),Eb=r(52143);const Lb=(e,t)=>"pedestrian"!==e?function(e){switch(e){case"fast":case"normal":case"slow":case"slow-jams":case"no-traffic":return e;default:return"ignore"}}(null==t?void 0:t.color):"zlevel-negative"===(null==t?void 0:t.zlevel)?"pedestrian-underground":"pedestrian";var zb=r(43268),Rb=r(48153);var Fb=r(42608),Hb=r(11259);const Bb=e=>{const{position:t,isCyrillicLang:r,isStartPoint:n,isFinishPoint:i}=e;if(n){return{size:[22,22],offset:[11,11],img:`${(0,s.s)()}directions/pointA.svg`}}if(i){return{size:[22,22],offset:[11,11],img:r?`${(0,s.s)()}directions/pointB.svg`:`${(0,s.s)()}directions/pointBLatin.svg`}}const a={size:[22,22],offset:[11,11],img:`${(0,s.s)()}directions/pointIntermediate.svg`},o=["pointIntermediate","pointIntermediateOne","pointIntermediateTwo","pointIntermediateThree","pointIntermediateFour","pointIntermediateFive","pointIntermediateSix","pointIntermediateSeven","pointIntermediateEight","pointIntermediateNine","pointIntermediateTen"];return Object.assign(Object.assign({},a),{img:`${(0,s.s)()}directions/${t>0&&t<=10?o[t]:o[0]}.svg`})};var Ab=r(24626);const Db=e=>"direction"===e.type;(0,Ab.F)(Db);const Zb={ppna:void 0,ppnot:void 0},Vb=(0,Be.P1)([e=>{const{state:t}=e,r=(0,Ga.SI)(t);return r?r.tab:z.QZ},e=>{const{state:t}=e,r=(0,Ga.SI)(t);return r?r.points:void 0},e=>{const{state:t}=e,r=(0,Ga.SI)(t);return r?r.activeDirectionId:void 0},e=>{const{state:t}=e,r=(0,Ga.SI)(t);return r?(0,Tb.cx)({state:t,searchId:(0,Nb.r)(r)||""}):void 0},e=>{const{isCyrillicLang:t}=e;return!!t}],((e,t,r,n,s)=>{const i=t&&function(e,t,r){const n=(0,Fb.n)(e,t);if(!n.length)return;return n.map(((e,t)=>!(0,Pb.j)(e)&&(0,$.$K)(e.lonLat)?{position:[e.lonLat.lon,e.lonLat.lat],icon:Bb({position:t,isCyrillicLang:r,isFinishPoint:t===n.length-1,isStartPoint:0===t})}:void 0))}(t,e,s);if(!i||i.every((e=>!(0,$.$K)(e))))return Zb;if(!n||!n.data||"success"!==n.meta.status){const t={points:i,routes:[]},r="loading"===(null==n?void 0:n.meta.status)||void 0;return"bus"===e?{ppnot:t,isRoutesLoading:r}:{ppna:t,isRoutesLoading:r}}const{data:a}=n;switch(a.type){case"ppna":case"ppng":case"pedestrian":return{ppna:Object.assign({points:i},$b(a.type,a.items,r))};case"ppnot":return{ppnot:Object.assign({points:i},Wb(a.items,r))}}})),Ub=(0,Be.P1)([e=>{const{state:t}=e;return t.appContext.weak.hoveredDirection},Vb,e=>{var t;return null===(t=function(e){const t=(0,ee.t0)(e.appContext.frames,"direction");return t&&Db(t)?t:void 0}(e.state))||void 0===t?void 0:t.directionId}],((e,t,r)=>t.ppnot?Object.assign(Object.assign({},t),{ppnot:Object.assign(Object.assign(Object.assign({},t.ppnot),e),{routes:r?t.ppnot.routes.filter((e=>e.id===r)):t.ppnot.routes})}):t));function $b(e,t,r){const n=[],s=(0,zb.q)(r,t);return t.forEach((t=>{const r={id:t.id,sections:[]};t.begin_pedestrian_path&&r.sections.push({type:"pedestrian",geometry:t.begin_pedestrian_path.geometry.selection}),(t.maneuvers||[]).forEach((t=>{const n=t.outcoming_path&&t.outcoming_path.geometry;n&&n.forEach((t=>{r.sections.push({type:Lb(e,t),geometry:t.selection})}))})),t.end_pedestrian_path&&r.sections.push({type:"pedestrian",geometry:t.end_pedestrian_path.geometry.selection}),n.push(r)})),{routes:n,activeRouteId:s}}function Wb(e,t){const r=[],n=(0,zb.q)(t,e);return e.forEach((e=>{const t={id:e.id,movements:[]};e.movements.forEach((e=>{const r=e.alternatives?e.alternatives[0].geometry:[],n=function(e){return!!e&&!!(0,yb.Z)(e.waypoint.route_logo)}(e);for(let s=0;s<r.length;s++){const i=Gb(r[s]),a=(0,Id.J)(r[s].selection);for(;s<r.length-1&&Gb(r[s+1])===i;)(0,Id.J)(r[s+1].selection).slice(1).forEach((e=>{a.push(e)})),s++;const o=`LINESTRING(${a.map((([e,t])=>`${e} ${t}`)).join(",")})`,c=(0,Eb.N)(e,n,i);t.movements.push(Object.assign({id:e.id,type:i?"pedestrian-underground":e.type,waypointType:qb(e.waypoint.subtype),geometry:[o],waypointColor:(0,Rb.A)(e),lineColor:c,hoveredLineColor:n?c:(0,Hb.X)(c,.5)},n&&e.waypoint.color?{borderColor:e.waypoint.color,hoveredBorderColor:(0,Hb.X)(e.waypoint.color,.7)}:void 0))}})),r.push(t)})),{routes:r,activeRouteId:n}}function qb(e){return"mcc"===e||"mcd"===e?"metro":e}function Gb(e){return(e.z_first||0)<0||(e.z_last||0)<0}var Qb=r(97698);const Kb=(0,Be.P1)([e=>e.appContext.showTrafficOnMap],(e=>e?{}:void 0)),Jb=(0,Be.P1)([({config:e})=>e,({state:e})=>!!Kb(e),({state:e,config:t})=>{const{ppnot:r,ppna:n,isRoutesLoading:s}=Ub({state:e,isCyrillicLang:t.isCyrillicLang});return!(!(null==r?void 0:r.routes.length)&&!(null==n?void 0:n.routes.length))||s},({state:e})=>e.appContext.activeLayer,({state:e})=>!!e.appContext.activeSublayer,({state:e})=>(0,g.kL)(e),({state:e})=>(0,ee.t0)(e.appContext.frames,"search"),({state:e})=>(0,Ig.Q)(e),({state:e})=>e.appContext.showSnow.allowSnowStyle],((e,t,r,n,s,i,a,o,c)=>{let d;s?d=e.grayMapStyleId:"realty"===n&&e.realtyMapStyleId?d=e.realtyMapStyleId:"metro"===n?d="4bf19781-6fa2-4a43-8386-db596f51db8d":"backTo2004"===n?d="9e75a94c-36f7-4254-8101-90139ead38ad":"roadAccident"===n?d="fd6c509e-855c-4b40-b8b6-b90945c95d55":"tourism"===n?d="ca89ab0b-ceb6-4900-ab22-ad4651736837":c?d="d87e44e0-b34a-4733-a519-0af1ed786b47":e.customMapStyleId&&(d=e.customMapStyleId);const l=!!a&&"search"===a.type,u=(null==d?void 0:d.includes("//"))?{iconsPath:`${d}images/`,fontsPath:`${d}fonts/`,modelsPath:`${d}models/`}:void 0;return{id:d,styleOptions:u,globalAttributes:Object.assign(Object.assign({searchOn:l,trafficOn:t||r||!1,parkingOn:"parkings"===n},o?{poiCategory:o}:{}),(null==i?void 0:i.id)===ft.oV?{jurisdiction:e.defaultCountryCode.toLowerCase()}:{})}})),Yb=(0,Be.HP)((e=>e.rasterTileServerUrl?{url:(t,r,n)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${r}&z=${n}&ts=realty_resident_rent`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0)),Xb=(0,Be.HP)((e=>e.rasterTileServerUrl?{url:(t,r,n)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${r}&z=${n}&ts=realty_resident_sale`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0));const ey={fast:"#22aa01",normal:"#ffc402",slow:"#f72000","slow-jams":"#81020d","no-traffic":"#0f6ec1",ignore:"#0f6ec1",pedestrian:"#626262","pedestrian-underground":"#626262",inactive:"#b4bcd2",border:"#ffffff",border2:(0,Hb.X)("#141414",1),hovered:"#000000"},ty=({base:e,pedestrian:t,inactive:r})=>({normal:e,fast:e,ignore:e,"no-traffic":e,slow:e,"slow-jams":e,pedestrian:t,"pedestrian-underground":t,inactive:r}),ry=(e,t)=>({color:t[e],hoveredColor:t.hovered,borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),ny=(e=>({lineStylesByZoom:{14:ty({base:{width:5.73,borderWidth:3,border2Width:.5},pedestrian:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5}}),20:ty({base:{width:10.5,borderWidth:5.5,border2Width:.8},pedestrian:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5}})},lineStyles:{normal:ry("normal",e),fast:ry("fast",e),ignore:ry("ignore",e),"no-traffic":ry("no-traffic",e),slow:ry("slow",e),"slow-jams":ry("slow-jams",e),pedestrian:ry("pedestrian",e),"pedestrian-underground":ry("pedestrian-underground",e),inactive:ry("inactive",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}}}))(ey),sy=(0,Be.P1)([({config:e})=>e],(()=>ny));var iy=r(58924);const ay=(0,iy.E)(iy.S),oy=(0,Be.P1)([({config:e})=>e],(()=>ay)),cy=()=>{const e=(0,s.s)();return{icons:{smallbullet:{normal:{img:`${e}markers/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${e}markers/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]}},middlebullet:{normal:{img:`${e}markers/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${e}markers/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]}},bigbullet:{normal:{img:`${e}markers/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${e}markers/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]}}},zIndex:z.yQ.default}},dy=()=>{const e=qm.qr.reduce(((e,t)=>(e[Gm(t).type]={normal:{img:Gm(t).svgPath,size:[16,16],offset:[.5,.5]}},e)),{});return{icons:Object.assign(Object.assign({},e),{personal:{normal:{img:`${(0,s.s)()}markers/fav-personal.svg`,size:[16,16],offset:[.5,.5]}},public:{normal:{img:`${(0,s.s)()}markers/fav-public.svg`,size:[16,16],offset:[.5,.5]}},home:{normal:{img:`${(0,s.s)()}markers/fav-home.svg`,size:[16,16],offset:[.5,.5]}},work:{normal:{img:`${(0,s.s)()}markers/fav-work.svg`,size:[16,16],offset:[.5,.5]}}}),zIndex:z.yQ.favorites}},ly=()=>{const e=(0,s.s)(),t=z.Tq.reduce(((t,r)=>(t[`${r}_normal`]={normal:{img:`${e}markers/infrastructure/normal/${r}_marker.svg`,size:[24,24],offset:[.5,.5]}},t)),{});return{icons:Object.assign({},t),zIndex:z.yQ.default}},uy=()=>{const e=(0,s.s)(),t=z.Tq.reduce(((t,r)=>(t[`${r}_selected`]={normal:{img:`${e}markers/infrastructure/selected/${r}_marker.svg`,size:[36,36],offset:[.5,.5]}},t)),{});return{icons:Object.assign({},t),zIndex:z.yQ.favorites}},py=36,hy=()=>{const e={icons:{smallbullet:{normal:{img:`${(0,s.s)()}markers/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]},active:{img:`${(0,s.s)()}markers/smallbullet_closed.svg`,size:[14,14],offset:[.5,.5]}},middlebullet:{normal:{img:`${(0,s.s)()}markers/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]},active:{img:`${(0,s.s)()}markers/middlebullet_closed.svg`,size:[22,22],offset:[.5,.5]}},bigbullet:{normal:{img:`${(0,s.s)()}markers/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]},active:{img:`${(0,s.s)()}markers/bigbullet_closed.svg`,size:[24,24],offset:[.5,.5]}},commercial:{normal:{img:`${(0,s.s)()}markers/commercial.svg`,size:[py,py],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/commercial_hover.svg`,size:[40,40],offset:[.45,.425]},active:{img:`${(0,s.s)()}markers/commercial_closed.svg`,size:[py,py],offset:[.5,.5]}}},zIndex:z.yQ.default};return{default:e,fewmarkers:e,tUgc:{icons:Object.assign(Object.assign({},Nv.m.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{normal:{img:`${(0,s.s)()}markers/tUgc-${t}.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-${t}.svg`,size:[40,40],offset:[.5,1]}}})),{})),{crash:{normal:{img:`${(0,s.s)()}markers/tUgc-crash.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-crash.svg`,size:[40,40],offset:[.5,1]}},roadwork:{normal:{img:`${(0,s.s)()}markers/tUgc-roadwork.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-roadwork.svg`,size:[40,40],offset:[.5,1]}},restriction:{normal:{img:`${(0,s.s)()}markers/tUgc-restriction.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-restriction.svg`,size:[40,40],offset:[.5,1]}},comment:{normal:{img:`${(0,s.s)()}markers/tUgc-comment.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-comment.svg`,size:[40,40],offset:[.5,1]}},other:{normal:{img:`${(0,s.s)()}markers/tUgc-other.svg`,size:[36,34],offset:[.5,1]},active:{img:`${(0,s.s)()}markers/tUgc-other.svg`,size:[40,40],offset:[.5,1]}}}),zIndex:z.yQ.tUgc},favorites:dy(),realty:$f(),exchange:cy(),infrastructureNormal:ly(),infrastructureSelected:uy(),backTo2004:{zIndex:z.yQ.default,icons:{smallbullet:{normal:{img:`${(0,s.s)()}markers/2004/smallbullet.svg`,size:[14,14],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/2004/smallbullet_hover.svg`,size:[16,16],offset:[.43,.43]},active:{img:`${(0,s.s)()}markers/2004/smallbullet_closed.svg`,size:[14,14],offset:[.5,.5]}},middlebullet:{normal:{img:`${(0,s.s)()}markers/2004/middlebullet.svg`,size:[22,22],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/2004/middlebullet_hover.svg`,size:[26,26],offset:[.42,.42]},active:{img:`${(0,s.s)()}markers/2004/middlebullet_closed.svg`,size:[22,22],offset:[.5,.5]}},bigbullet:{normal:{img:`${(0,s.s)()}markers/2004/bigbullet.svg`,size:[24,24],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/2004/bigbullet_hover.svg`,size:[28,28],offset:[.43,.43]},active:{img:`${(0,s.s)()}markers/2004/bigbullet_closed.svg`,size:[24,24],offset:[.5,.5]}},commercial:{normal:{img:`${(0,s.s)()}markers/2004/commercial.svg`,size:[py,py],offset:[.5,.5]},hover:{img:`${(0,s.s)()}markers/2004/commercial_hover.svg`,size:[40,40],offset:[.45,.425]},active:{img:`${(0,s.s)()}markers/2004/commercial_closed.svg`,size:[py,py],offset:[.5,.5]}}}}}},gy=(0,Be.P1)([({config:e})=>e],(()=>({styles:hy(),generalization:ob})));function my(e,t,r,n){return t+r/n*e}const fy=(0,Be.P1)([e=>e.appContext.showSnow],(e=>"off"===e.status?{enabled:!1,dispersion:0,particleNumber:0,velocityX:0,velocityY:0,velocityZ:0,size:0,color:[]}:Object.assign({enabled:"on"===e.status},function(e){const t=[0,0,200,5e3,6],r=[600,0,800,5e4,8],n=[1200,-1e3,1300,1e5,8];let s=n;return e<=0?s=t:e<50?s=r.map(((r,n)=>my(e,t[n],r-t[n],50))):e<100&&(s=n.map(((t,n)=>my(e-50,r[n],t-r[n],50)))),{velocityX:s[0],velocityY:s[1],velocityZ:s[2],particleNumber:s[3],size:s[4],dispersion:200,color:[255,255,255,.8]}}(e.intensity)))),vy=["ru","en","az","uk","uz","ar","kk"],by=(0,Be.HP)((e=>[e])),yy=(0,Be.P1)([({state:e})=>e.config.isMobileDevice?0:(0,qi.w)(e),({rtl:e})=>e],((e,t)=>({[t?"right":"left"]:e}))),xy=(0,Be.P1)([({state:e})=>e.appContext.center.lon,({state:e})=>e.appContext.center.lat],((e,t)=>[e,t])),jy=(0,Qb.zB)({viewport:yy,center:xy,zoom:({state:e})=>e.appContext.zoom,pitch:({state:e})=>e.appContext.pitch,rotation:({state:e})=>e.appContext.rotation,minZoom:({state:e})=>(0,ia.d)({project:(0,g.kL)(e),is3d:e.session.is3dEnabled}).min,maxZoom:({state:e})=>(0,ia.d)({project:(0,g.kL)(e),is3d:e.session.is3dEnabled}).max,lang:({state:e})=>{const t=e.appContext.lang;return vy.includes(t)?t:"en"},projectList:({state:e})=>{const t=(0,g.kL)(e);return by(t)},htmlMarkers:kv,markers:Mv,markersState:Sv,markersSettings:gy,floors:Sf,select:zm,personalPoi:({state:e})=>(0,re.sH)(e),geometry:({state:e})=>Mb(e),entrances:({state:e})=>function(e){const t=e.appContext.frames.find((e=>"entity"===e.type)),r=e.appContext.frames.find(Pm.yb);if(!t||!r){if(t&&"entity"===t.type&&t.isShowEntrance)return(0,Ze._f)({state:e,entityId:t.entityId,entranceId:t.entranceId,searchId:t.searchId});if(r&&r.isShowEntrance){const t=(0,Em.W)(e);if(!t)return;return(0,Ze._f)({state:e,entityId:t,entranceId:r.entranceId})}}}(e),traffic:({state:e})=>Kb(e),ppna:({state:e,isCyrillicLang:t})=>{var r;return null===(r=Ub({state:e,isCyrillicLang:t}))||void 0===r?void 0:r.ppna},ppnaSettings:({state:e,config:t})=>sy({state:e,config:t}),ppnot:({state:e,isCyrillicLang:t})=>{var r;return null===(r=Ub({state:e,isCyrillicLang:t}))||void 0===r?void 0:r.ppnot},ppnotSettings:({state:e,config:t})=>oy({state:e,config:t}),ruler:({state:e})=>e.appContext.ruler.isActive?e.appContext.ruler:void 0,style:({state:e,config:t})=>Jb({state:e,config:t}),photos:({state:e})=>"photos"===e.appContext.activeLayer,rasterTileSource:function({state:e,config:t}){switch(e.appContext.activeSublayer){case"realtyPriceRent":return Yb(t);case"realtyPriceSale":return Xb(t);default:return}},snow:({state:e})=>fy(e)});var wy=r(35712);const Iy=(0,yd.createModel)("etaByViewport",(({services:e},t)=>({fetch(){return(0,bd.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getData(t)).data}))}})),(({fetch:e},t,{config:r})=>{e();const n=setInterval((()=>{e()}),r.etaRefreshTime);return({clearData:e})=>{clearInterval(n),e()}})),Cy=(0,yd.createModel)("etaByDirections",(({services:e},t)=>({fetch(){return(0,bd.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getCurrentDirectionsData(t)).data}))}})),(({fetch:e},t,{config:r})=>{e();const n=setInterval((()=>{e()}),r.etaRefreshTime);return({clearData:e})=>{clearInterval(n),e()}}));const Oy={arrowIcon:(0,$m.renderToStaticMarkup)((0,n.jsx)((function({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34"},{children:(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,n.jsx)("g",Object.assign({fill:e,fillRule:"nonzero",stroke:"#FFF",strokeWidth:"1.5",transform:"translate(-388 -169)"},{children:(0,n.jsx)("g",Object.assign({transform:"matrix(1 0 0 -1 389 202)"},{children:(0,n.jsx)("path",{d:"M13 0c7.18 0 13 5.82 13 13a13 13 0 01-7.053 11.563L13 31.5l-5.946-6.937A13 13 0 010 13C0 5.82 5.82 0 13 0z"})}))}))}))}))}),{})),transport:{bus:{icon:(0,$m.renderToStaticMarkup)((0,n.jsx)((function({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,n.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,n.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,n.jsx)("path",{fill:"#FFF",d:"M13 5.638c3.259 0 5.703.873 5.703.873v3.118h1.14v3.243l-1.14.815v5.864H17.56c-.45 0-.814-.691-.814-1.14H9.253c0 .449-.365 1.14-.814 1.14H7.297v-5.864l-1.14-.815V9.629h1.14V6.511S9.741 5.638 13 5.638zm3.136 9.351a.856.856 0 100 1.711.856.856 0 000-1.71zm-6.272 0a.856.856 0 100 1.711.856.856 0 000-1.71zm7.127-6.5H9.01v4.562c0 .44.357.798.798.798h6.386c.44 0 .798-.358.798-.798V8.489z"})]}))}))}))}),{})),color:"#436ABD"},tram:{icon:(0,$m.renderToStaticMarkup)((0,n.jsx)((function({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,n.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,n.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,n.jsx)("path",{fill:"#FFF",d:"M9.562 19.521l-.83 1.662H7.07l.83-1.662h1.662zm8.309 0l.83 1.662H17.04l-.831-1.662h1.662zM9.457 4.031a20.176 20.176 0 016.37-.078l.492.078-.011.064h.01l-.53 3.035c1.274.19 2.224.455 2.656.588l.257.084V17.86l-5.815 1.661L7.07 17.86V7.802l.258-.084a18.412 18.412 0 012.66-.588l-.53-3.034.01-.001-.01-.064zm6.752 11.336a.831.831 0 100 1.662.831.831 0 000-1.662zm-6.647 0a.831.831 0 100 1.662.831.831 0 000-1.662zm7.478-5.816H8.73v3.324c0 .426.321.777.734.825l.097.006h6.647c.426 0 .777-.321.825-.734l.006-.097V9.55zm-4.154-4.568c-.652 0-1.304.034-1.958.102l.39 1.892a19.312 19.312 0 013.14 0l.39-1.892a18.836 18.836 0 00-1.962-.102z"})]}))}))}))}),{})),color:"#EB5A2B"},shuttle_bus:{icon:(0,$m.renderToStaticMarkup)((0,n.jsx)((function({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,n.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,n.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,n.jsx)("path",{fill:"#FFF",d:"M15.566 5.158l.603 1.89c1.158.237 1.962.504 1.962.504l.502 3.421h1.21v1.71l-.856.856v5.987h-1.71a.855.855 0 01-.856-.855H9.579a.855.855 0 01-.855.855h-1.71v-5.987l-.856-.855v-1.71h1.218l.492-3.422s.804-.267 1.963-.503l.603-1.891h5.132zm.855 10.092a.855.855 0 100 1.71.855.855 0 000-1.71zm-6.842 0a.855.855 0 100 1.71.855.855 0 000-1.71zm3.42-6.842c-1.338 0-2.706.27-3.596.49l-.546 3.786h8.299L16.6 8.899c-.89-.22-2.26-.491-3.601-.491zm1.712-1.96h-.684v.685h.684V6.45zm-2.737 0h-.684v.685h.684V6.45zm1.368 0h-.684v.685h.684V6.45zm.685-.683h-.685v.684h.685v-.684zm-1.369 0h-.684v.684h.684v-.684z"})]}))}))}))}),{})),color:"#883C7A"},trolleybus:{icon:(0,$m.renderToStaticMarkup)((0,n.jsx)((function({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,n.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,n.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,n.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,n.jsx)("path",{fill:"#FFF",d:"M12.247 3.446v2.585a19.556 19.556 0 011.917.01l.649-2.595h.855v2.732c2.061.264 3.421.75 3.421.75v3.36h.856v2.566l-.856.855v5.987h-.855a.856.856 0 01-.855-.855H8.826a.856.856 0 01-.855.855h-.855v-5.987l-.856-.855v-2.566h.855v-3.36s1.44-.514 3.599-.772l.678-2.71h.855zM9.681 15.42a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm6.842 0a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm.856-5.987H8.826v3.42c0 .473.383.856.855.856h6.842a.856.856 0 00.856-.855V9.433z"})]}))}))}))}),{})),color:"#70AA35"}}};var _y=r(91122);const ky=(0,Be.P1)([e=>(0,ee.t0)(e.appContext.frames,"directions")],(e=>{if(e&&(0,Ga.B7)(e))return(0,Nb.r)(e)})),Sy=(0,Be.P1)([e=>{var t,r;return null===(r=null===(t=(0,Tb.cx)({state:e,searchId:ky(e)||""}))||void 0===t?void 0:t.data)||void 0===r?void 0:r.items},e=>(0,ee.t0)(e.appContext.frames,"directions")],((e,t)=>!t||"directions"!==t.type&&"bus"!==t.tab?ft.LZ:e||ft.LZ)),My=e=>{var t;const{ppnotDirection:r}=e;if(!(null===(t=null==r?void 0:r.movements)||void 0===t?void 0:t.length))return ft.LZ;const n=r.movements.reduce(((e,t)=>{var r;if(t){const n=t.routes_groups?t.routes_groups[0]:void 0;null===(r=null==n?void 0:n.routes)||void 0===r||r.map((t=>{var r;(null===(r=null==t?void 0:t.direction_ids)||void 0===r?void 0:r.length)&&e.push(...t.direction_ids)}))}return e}),[]),s=(0,_y.m)(n,(e=>e));return s.length?s:ft.LZ};function Ty(){const e=function(){const e=(0,Ie.v9)((e=>{var t;const r=null===(t=(0,ee.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId,n=r?(0,b.nM)({state:e,entityId:r}).data:void 0;return"route"===(null==n?void 0:n.type)?n:void 0}));return(0,we.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.directions)||void 0===t?void 0:t.map((({id:e})=>e)))||ft.LZ}),[null==e?void 0:e.directions])}(),t=function(){var e;const t=(0,Ie.v9)((e=>{const t=(0,ee.t0)(e.appContext.frames,"directions");if(t&&"bus"===t.tab)return t.activeDirectionId})),r=(0,Ie.v9)(Sy),n=t||(null===(e=r[0])||void 0===e?void 0:e.id),s=(0,we.useMemo)((()=>r.find((e=>e.id===n))),[n,r]);return(0,on.Gb)(My,{ppnotDirection:s})}(),r=function(){const e=(0,Ie.v9)((e=>{var t;const r=null===(t=(0,ee.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId,n=r?(0,b.nM)({state:e,entityId:r}).data:void 0;if(n&&(0,bb.t)(n)&&("stop"===(null==n?void 0:n.subtype)||"tram"===n.subtype))return n}));return(0,we.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.routes)||void 0===t?void 0:t.reduce(((e,t)=>e.concat(((null==t?void 0:t.direction_ids)||ft.LZ).map((e=>null==e?void 0:e.toString())))),[]))||ft.LZ}),[null==e?void 0:e.routes])}();return e.length?e:t.length?t:r.length?r:ft.LZ}function Ny(){const e=(0,Ie.v9)(re.Id),t=(0,Ie.v9)((e=>e.appContext.zoom)),r=(0,Ie.v9)((e=>"eta"===e.appContext.activeLayer)),n=Ty();let s;(function({delay:e}={}){const[t,r]=(0,we.useState)("undefined"==typeof window||!document.hidden);return(0,we.useEffect)((()=>{let t;const n=void 0!==e?()=>{document.hidden?t=setTimeout((()=>{t=void 0,r(!1)}),1e4):t?clearTimeout(t):r(!0)}:()=>{r(!document.hidden)};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}}),[e]),t})({delay:1e4})&&(n.length?s=Cy({directions:n}):r&&(s=Iy({viewport:e,zoom:t})));const i=(0,vd.tT)(s);return(0,we.useMemo)((()=>i.data?{devices:i.data.devices,styles:Oy}:void 0),[i])}var Py=r(19426),Ey=r(74757),Ly=r(14349);const zy=3e5,Ry=(0,we.memo)((e=>{var t;const{mapHandlers:r,bssRef:s,trackWebGlSupport:i,trackVideoadapter:a,subscribeOnMapClick:o,removeListener:c}=e,d=(0,ht.Z)(),{isCyrillicLang:l,rtl:u,currencies:p,is12h:h}=d,g=(0,we.useContext)(wy.f),m=(0,Py.b)(),f=(0,Ly.M)({staleTime:6e5,cacheTime:18e5,refetchInterval:zy,refetchOnWindowFocus:!0}),b=(0,we.useMemo)((()=>e=>"undefined"!=typeof window?jy({state:e,i18n:g,isCyrillicLang:l,rtl:u,currencies:p,is12h:h,config:d,exchangeMarkersState:m,tUgcMarkersState:f}):{}),[m,f]),y=(0,Ie.v9)(b),x=(0,Ie.v9)((e=>e.session.is3dEnabled)),j=(0,we.useMemo)((()=>(e=>({mapsapi:{tileServer:e.mapsapiTileServer+"&ts="+e.mapsapiTileset,retinaTileServer:e.mapsapiTileServer+"&ts="+e.mapsapiRetinaTileset,previewTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiTileset,previewRetinaTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiRetinaTileset},mapgl:{zmkTileServer:e.jakartaZmkTileServer,photoTileServer:e.photoTileServer,tileServer:""!==e.jakartaTileServer?e.jakartaTileServer:void 0,tileProtocol:""!==e.jakartaTileProtocol?e.jakartaTileProtocol:void 0,tileSet:""!==e.jakartaTileSet?e.jakartaTileSet:void 0,commercialTileSet:""!==e.jakartaCommercialTileSet?e.jakartaCommercialTileSet:void 0,key:""!==e.jakartaVectorTilesKey?e.jakartaVectorTilesKey:void 0,floorsUrl:""!==e.jakartaFloorsUrl?e.jakartaFloorsUrl:void 0,hasLimitedFunctionality:e.featureReadOnly,useRtlTextPlugin:e.mapUseRtlTextPlugin,useThreeJs:e.feature3dModel,bssUrl:""!==e.bssV3Url?e.bssV3Url:void 0,disableBssStatisticsForCommPoi:!0},godmode:e.godmode}))(d)),[]),[w,I]=(0,we.useState)(x?"3d":"2d");(0,we.useEffect)((()=>{(0,v.y9)(y,r,j,w).catch((()=>{I("2d")}))}),[w]),function({styleId:e}){(0,Od.K)((e=>{e.once("styleload",(()=>{e.addLayer({id:"immersive-model-point",type:"model",style:{useThreeJs:!0},filter:["match",["get","db_sublayer"],["Commercial_model"],!0,!1],minzoom:16},"843132")}))}),[e])}({styleId:null===(t=y.style)||void 0===t?void 0:t.id});const C=Ny();(0,we.useEffect)((()=>{(0,v.sA)(Object.assign(Object.assign({},y),{eta:C}),w)}),[y,w,C]);const O=(0,Ey.x)(),_=(0,we.useMemo)((()=>({exchangeSearch:O.data})),[O]);return(0,we.useEffect)((()=>{i(),a()}),[]),(0,we.useEffect)((()=>{const e=(0,$.by)();return o(e,(e=>Tm(e,_))),()=>{c(e)}}),[_]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",Object.assign({ref:s,dir:"ltr"},{children:(0,n.jsx)(om,{})}))})}));Ry.displayName="MapContainer";const Fy=(0,Ie.$j)(void 0,(e=>({mapHandlers:im(e),trackWebGlSupport(){e((0,xt.nc)(["Map","WebGL",Ug(),void 0,{nonInteraction:!0}]))},trackVideoadapter(){e((0,xt.nc)(["Map","Videoadapter",(0,$g.T)(),void 0,{nonInteraction:!0}]))},subscribeOnMapClick(t,r){e((0,F.Oo)({id:t,type:"map:click",handler:r,stopIfHandled:!0,priority:Je.U.Map}))},removeListener(t){e((0,F.xg)({id:t}))}})))((0,Se.z)(dg._X)(Ry));const Hy=()=>(0,n.jsx)(Te.E,{loader:Ne.H.privacyPolicyBanner,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:()=>(0,n.jsx)("div",{})}),By=we.memo((()=>{const e=(0,Ie.v9)((e=>e.appContext.weak.showPrivacyPolicyBanner)),t=(0,we.useMemo)((()=>({frameId:(0,$.by)()})),[]);return e?(0,n.jsx)(Xs.j.Provider,Object.assign({value:t},{children:(0,n.jsx)(Hy,{})})):null}));By.displayName="PrivacyPolicyBanner";const Ay=()=>{const[e,t]=(0,we.useState)(!1);return(0,we.useEffect)((()=>t(!0)),[]),e?(0,n.jsx)("div",{className:"is_app_healthy",style:{display:"none"}}):null};const Dy=(0,r(48470).p)((e=>{const t=e.message&&e.message.toString();(0,ne.H)({message:t,level:"error",id:"abhr3",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),Zy=(new Error("ChunkLoadError"),e=>(0,n.jsx)(Dy,{loader:Ne.H.fullBannerInner,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q})),Vy=e=>"exchange"===e.appContext.activeLayer?"exchangeFullScreenBanner":(0,ee.t0)(e.appContext.frames,"directions")?"routeSearchFullScreenBanner":void 0,Uy=(0,we.memo)((()=>{const[e,t]=(0,we.useState)(!1),r=(0,Ie.v9)(Vy),s=(0,we.useCallback)((()=>{t(!0)}),[]),{featureReadOnly:i,featureAdaptiveRedirect:a,isMobileDevice:o}=(0,ht.Z)();return i||!o||!r||e||a?null:(0,n.jsx)(Zy,{type:r,onClose:s})}));Uy.displayName="FullBanner";const $y=()=>(0,n.jsx)(Te.E,{loader:Ne.H.gdprCookieBanner,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:pn.Q});var Wy=r(44277),qy=r(50113),Gy=r(53832),Qy=r(94002),Ky=r(67242),Jy=r(78941),Yy=(r(81089),r(4816)),Xy=r(92959);const ex=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(tx),{featureReadOnly:r,feature2gisAwards2022:s}=(0,ht.Z)(),{bssRef:i}=(0,Bt.T)((0,Yy.W)()),a=(0,Ie.v9)(g.yH),o=(0,kc.A)(Qy.f),c=(0,kc.A)(Jy.S),d=[(0,n.jsx)(Gy.q,{onClick:o},"rubricator")];r||d.push((0,n.jsx)(Ky.Y,{onClick:c},"favorites")),function(){const e=(0,Ie.I0)();(0,Op.x)({handler:()=>{e((0,T.xJ)((e=>!e.appContext.isDataViewerMinimized&&(0,Vi.kG)({isMinimized:!0}))))},type:"map:interactionstart"})}();const l=s&&(0,yl.q)(a);return(0,n.jsxs)("div",Object.assign({ref:i,className:t(e.root)},Oe.dx.n("wat-frame"),Oe.dx.t("dashboard"),{children:[(0,n.jsx)("div",Object.assign({className:t(e.dashboard)},{children:(0,n.jsx)(qy.S,{ownerName:"dashboardFrame",where:"Dashboard",moreButtons:d})})),l&&(0,n.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,n.jsx)(Xy.C,{})})),!1]}))}));const tx=(0,rt.k)({root:{background:Ee.O.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},promo:{padding:"8px 16px",boxShadow:`inset 0 1px 0  ${Ee.O.gray_e6e6e6}`},dashboard:{padding:16}});var rx=r(62842),nx=r(95443),sx=r(48617),ix=r(83489),ax=r(27821);const ox=(0,we.memo)((({frame:e})=>{switch(e.type){case"realty":return(0,n.jsx)(rx.p,{});case"realtyCard":return(0,n.jsx)(nx.Q,{});case"entity":case"pending":return(0,n.jsx)(Qn,{});case"product":return(0,n.jsx)(ix.c,{});case"search":return(0,n.jsx)(sx.z,{});case"collection":return(0,n.jsx)(ax.E,{});case"dashboard":return null;default:return(0,n.jsx)(cx,{})}}));ox.displayName="MapNavFooter";const cx=(0,we.memo)((()=>{const e=[(0,Mn.d)()];return(0,n.jsx)(kn.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,n.jsx)(kn.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))})),dx=(0,we.memo)((({position:e})=>{var t;const{css:r,s}=(0,rt.y)(lx),{featureNewYear:i,feature2gisAwards2022:a}=(0,ht.Z)(),o=(0,Ie.v9)(g.kL),c=!!(null===(t=null==o?void 0:o.flags)||void 0===t?void 0:t.traffic),d=a&&(0,yl.q)(null==o?void 0:o.id);return(0,n.jsxs)("div",Object.assign({className:r(s.root)},{children:["top"===e&&(0,n.jsxs)("div",Object.assign({className:r(s.controlsContainer)},{children:[(0,n.jsxs)("div",Object.assign({className:r(s.controls)},{children:[i&&(0,n.jsx)("div",Object.assign({className:r(s._autoPointerEvents)},{children:(0,n.jsx)(ul,{})})),(0,n.jsx)("div",Object.assign({className:r(s._autoPointerEvents)},{children:d&&(0,n.jsx)(vl,{})})),(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:r(s._marginStartAuto,s._autoPointerEvents)},{children:(0,n.jsx)(Do,{})}))})]})),c&&(0,n.jsx)("div",Object.assign({className:r(s.controls)},{children:(0,n.jsx)("div",Object.assign({className:r(s._marginStartAuto,s._autoPointerEvents,s._controlPaddingTop)},{children:(0,n.jsx)(oc,{})}))}))]})),"bottom"===e&&(0,n.jsx)("div",Object.assign({className:r(s.controlsContainer)},{children:(0,n.jsx)("div",Object.assign({className:r(s.controls)},{children:(0,n.jsx)(ot.w,{children:(0,n.jsx)("div",Object.assign({className:r(s._marginStartAuto,s._autoPointerEvents)},{children:(0,n.jsx)(co,{})}))})}))}))]}))})),lx=(0,rt.k)({root:{width:"100%",pointerEvents:"none"},controlsContainer:{padding:12},controls:{display:"flex"},_controlPaddingTop:{paddingTop:8},_marginStartAuto:{marginStart:"auto"},_autoPointerEvents:{pointerEvents:"auto"}}),ux=(0,Ti.b)(),px=(0,we.memo)((()=>{const{s:e,css:t}=(0,rt.y)(hx),r=(0,Ie.v9)((e=>e.appContext.frames[0]||{id:e.appContext.staticFrames.dashboard.id,type:"dashboard"})),s=(0,Ie.v9)((e=>ux({state:e,frameId:r.id}))),i=(0,Ie.v9)((e=>!!e.appContext.isDataViewerMinimized)),a=(0,Ie.v9)((e=>e.appContext.staticFrames.map.id)),o=(0,kc.A)(Vi.kG,{isMinimized:!1}),c=(0,ht.Z)(),d=(0,Ie.v9)((e=>e.appContext.messenger.isOpen));(0,we.useEffect)((()=>{i&&o()}),[r.id]);const{name:l}=yh(),u="smartBannerOld"===l;if(d)return null;const p=(0,Gi.U)(r,s,c),h=p;return(0,n.jsxs)("div",Object.assign({className:t(e.root)},{children:[u&&(0,n.jsx)("div",Object.assign({className:t(e.mobilePromoWrapper)},{children:(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:(0,$.by)()}},{children:(0,n.jsx)(xh,{})}))})),(0,n.jsxs)("div",Object.assign({className:t(e.base)},{children:[(p||h)&&(0,n.jsxs)("div",Object.assign({className:t(e.topContentWrapper)},{children:[p&&(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:r.id}},{children:(0,n.jsx)("div",Object.assign({className:t(e.searchBarWrapper)},{children:(0,n.jsx)(Si,{frame:r,frameContext:s})}))})),h&&(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:a}},{children:(0,n.jsx)("div",Object.assign({className:t(p&&e.controlsBelowSearchBar)},{children:(0,n.jsx)(dx,{position:"top"})}))}))]})),(0,n.jsxs)("div",Object.assign({className:t(e.bottomContentWrapper,i&&e._minimized)},{children:[(0,n.jsxs)("div",Object.assign({className:t(e.aboveBottomContent)},{children:[(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:a}},{children:(0,n.jsx)(dx,{position:"bottom"})})),i&&(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:r.id}},{children:(0,n.jsx)("div",Object.assign({className:t(e.footer)},Oe.dx.n("wat-footer-map"),{children:(0,n.jsx)(ox,{frame:r})}))}))]})),"dashboard"===r.type&&(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:r.id}},{children:(0,n.jsx)("div",Object.assign({className:t(e.dashboardWrapper)},{children:(0,n.jsx)(ex,{})}))}))]})),"dashboard"!==r.type&&(0,n.jsx)(Xs.j.Provider,Object.assign({value:{frameId:r.id}},{children:(0,n.jsx)("div",Object.assign({className:t(e.frameWrapper,i&&e._minimized)},{children:(0,n.jsx)(Ys,{frame:r,frameContext:s})}))}))]}))]}))})),hx=(0,rt.k)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",pointerEvents:"none"},base:{flexGrow:1,flexShrik:1,display:"flex",position:"relative",zIndex:Wy.W.base,pointerEvents:"none"},mobilePromoWrapper:{flexGrow:0,flexShrink:0,pointerEvents:"auto"},topContentWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},searchBarWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:Wy.W.top},controlsBelowSearchBar:{marginTop:56},footer:{pointerEvents:"auto"},frameWrapper:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:Wy.W.base,pointerEvents:"auto"},_minimized:{transform:"translate3d(0, 100%, 0)"},bottomContentWrapper:{position:"absolute",bottom:0,width:"100%",transform:"translate3d(0, 0, 0)",transition:"transform .3s"},aboveBottomContent:{position:"absolute",width:"100%",bottom:"100%"},dashboardWrapper:{pointerEvents:"auto"}});var gx=r(4739);const mx=we.memo((()=>{const{css:e,s:t}=(0,rt.y)(fx),r=(0,Ns.T)(),s=(0,Ie.I0)(),i=(0,Ie.v9)((e=>e.appContext.activeSublayer)),a={realtyPriceSale:[r._gg("Дешевле"),r._gg("Дороже")],realtyPriceRent:[r._gg("Дешевле"),r._gg("Дороже")],realtyWalkDistance:[r._gg("< 5 мин"),r._gg("5-10"),r._gg("10-20"),r._gg("20-30")]},o=(0,yt.$)((()=>{s((0,wd.P)())}));return"realtyPriceSale"!==i&&"realtyPriceRent"!==i&&"realtyWalkDistance"!==i?null:(0,n.jsx)(n.Fragment,{children:i&&(0,n.jsxs)("div",Object.assign({className:e(t.temperatureBlock)},{children:[(0,n.jsx)("div",Object.assign({className:e(t.scaleWrapper)},{children:(0,n.jsx)(gx.I,{segments:"realtyWalkDistance"===i?z.fN:z.tC,labels:a[i],labelFontSize:13,labelsMarginTop:4,labelsJustifyContent:"realtyWalkDistance"===i?"space-around":void 0})})),(0,n.jsx)("div",Object.assign({onClick:o},{children:(0,n.jsx)(zi.x,{color:Ee.O.gray_cccccc})}))]}))})}));mx.displayName="TemperatureScaleControl";const fx=(0,rt.k)({temperatureBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:0,marginStart:8,marginEnd:8,paddingTop:8,paddingBottom:4,paddingStart:8,paddingEnd:8,backgroundColor:Ee.O.white,borderRadius:8,boxShadow:"0 3px 10px rgba(38, 38, 38, 0.15)"},scaleWrapper:{width:"100%",paddingEnd:8}});var vx=r(39738),bx=r(1199),yx=r(40314);const xx=(0,T.gQ)("fillstateRealtyMarkers",(()=>(0,T.XJ)((0,wg.nv)((e=>(0,G.gF)({entity:t=>{var r;const n=null==e?void 0:e.suggestId;return n?null===(r=(0,b.nM)({state:t,entityId:n}))||void 0===r?void 0:r.data:void 0},viewpoint:re.Id},(({entity:t,viewpoint:r})=>e&&(0,wg.Bg)(e)?!t||(0,yx.t)(t)||(0,bx.N)(t)?(0,vx.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:r}):(0,vx.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:r,entityId:t.id}):(0,T.ZT)()))))))),jx=we.memo((()=>{const{featureRealty:e}=(0,ht.Z)(),t=(0,Ie.v9)((e=>(0,ee.t0)(e.appContext.frames,"realty")));return e&&t?(0,n.jsx)(wx,{frame:t}):null})),wx=({frame:e})=>(function(e){const t=(0,Ie.I0)(),r=(0,Ie.v9)(re.Z1);we.useEffect((()=>{t(xx())}),[r,e.categoryId,e.filterValues,e.suggestId,t])}(e),function(e){const t=(0,Ie.I0)();we.useEffect((()=>{t(Jf())}),[t]),we.useEffect((()=>{e.entity&&"building"===e.entity.type&&t(Yf({buildingId:e.entity.id,categoryId:e.categoryId}))}),[e.entity,e.categoryId,t])}(e),null);const Ix=e=>(0,n.jsx)(Te.E,{loader:Ne.H.desktopPromoMapBanner,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:pn.Q}),Cx="desktopMapAppPopup",Ox=(0,we.memo)((()=>{const{experiments:e}=(0,ht.Z)(),t="map"===(0,Qi.c)("desktopPromo",e),{isClosed:r,onClose:s}=(0,ih.n)();return r||!t?null:(0,n.jsx)(_x,{onClose:s})}));Ox.displayName="DesktopPromoOnMap";const _x=(0,we.memo)((({onClose:e})=>{const{bssRef:t,trackBssAction:r}=(0,nh.v)({promoType:Cx}),s=(0,yt.$)((t=>{if("close"===t)e();r(t)}));return(0,n.jsx)("div",Object.assign({ref:t},{children:(0,n.jsx)(Ix,{promoType:Cx,onAction:s})}))}));_x.displayName="DesktopPromoOnMapInner";class kx extends we.Component{constructor(){super(...arguments),this.state={errorMessage:"",error:""},this.render=()=>{const{isMessengerOpen:e,dataViewerWidth:t,mapFrameId:r}=this.props;return this.state.error?(0,n.jsx)(Il,{base:(0,n.jsx)(n.Fragment,{}),bottom:(0,n.jsx)(n.Fragment,{}),top:(0,n.jsxs)("div",Object.assign({style:{padding:"16px",width:"100%",height:"100%",boxSizing:"border-box",background:"#fff"}},{children:[(0,n.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,n.jsx)(Qr.j,{code:500})})),(0,n.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,n.jsxs)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:[`Session id: ${this.props.config.sessionId}`,(0,n.jsx)("br",{}),`User id: ${this.props.config.userId}`,(0,n.jsx)("br",{}),`${this.state.error}`]}))]}))}):(0,n.jsx)(Il,{bottom:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Xs.j.Provider,Object.assign({value:{frameId:r}},{children:[(0,n.jsx)(Fy,{}),(0,n.jsx)(vt.N,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Fh,{}),(0,n.jsx)(og,{}),(0,n.jsx)(xl,{dataViewerWidth:t})]})}),(0,n.jsx)(vt.i,{children:(0,n.jsx)("div",Object.assign({style:{display:"none"}},{children:(0,n.jsx)(Ad,{})}))}),(0,n.jsx)(jx,{})]})),(0,n.jsx)(vt.N,{children:(0,n.jsx)(Al,{})}),(0,n.jsx)(vt.i,{children:(0,n.jsx)(mx,{})}),(0,n.jsx)(Hl,Object.assign({type:"messenger",isHidden:!e},{children:e&&(0,n.jsx)(ig,{})})),(0,n.jsx)(Ay,{})]}),base:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(vt.N,{children:(0,n.jsx)(ea,{})}),(0,n.jsx)(vt.i,{children:(0,n.jsx)(px,{})}),(0,n.jsx)("div",{id:"photoViewer"})]}),top:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Dh,{}),(0,n.jsx)(By,{}),(0,n.jsx)(wh,{}),(0,n.jsx)(Nh,{}),(0,n.jsx)(vt.N,{children:(0,n.jsx)(sg,{})}),(0,n.jsxs)(Xs.j.Provider,Object.assign({value:{frameId:r}},{children:[(0,n.jsx)(Ox,{}),(0,n.jsx)(Ih.u,{}),(0,n.jsx)(Bg,{}),(0,n.jsx)(Uy,{})]})),(0,n.jsx)("div",{id:"confirm",style:{width:"100%",height:"100%",pointerEvents:"none",visibility:"hidden"}}),(0,n.jsx)($y,{}),(0,n.jsx)(vt.i,{children:(0,n.jsx)(Al,{})}),(0,n.jsx)("div",{id:"tooltips",style:{position:"static"}})]})})}}componentDidCatch(e,t){const r=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"";(0,ne.H)({message:r,level:"error",id:"tb3ic",payload:{type:"exception",subtype:"appRender",stack:e.stack}}),this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`})}}const Sx=(0,Ie.$j)((e=>({dataViewerWidth:(0,qi.w)(e),mapFrameId:e.appContext.staticFrames.map.id,isMessengerOpen:e.appContext.messenger&&e.appContext.messenger.isOpen})))((0,ke.$)()((0,$s.R)()(kx)));var Mx=r(39136),Tx=r(83583),Nx=r(97589),Px=r(29513),Ex=r(15419);var Lx=r(5070),zx=r(27567),Rx=r(14748),Fx=r(4568),Hx=r(40411),Bx=r(59857),Ax=r(16770),Dx=r(93095);const Zx=(0,T.gQ)("updateEverythingWhenUserLoggedIn",(()=>(0,G.gF)({userId:e=>e.session.userId,userData:e=>(0,Ve.bG)(e).data},(({userId:e,userData:t})=>(0,T.Mf)((0,go.HK)(),(0,Hx.k)({userId:e,authId:t?t.user_id:void 0}),(0,Rx.s)(),(0,Fx.K)(),!!t&&!!t.user_id&&(0,T.Mf)((0,Ax.Jd)(),(0,Ax.hy)(),(0,Ax.oV)({albumId:z.n4}),(0,Bx.A0)(),(0,T.Rh)((({featureCart:e})=>e&&(0,Dx.o)({})))))))));var Vx=r(31446),Ux=r(73238),$x=r(52034),Wx=r.n($x);const qx=()=>Zx();var Gx=r(38091),Qx=r(73134);const Kx=e=>{const t=(()=>{const e="dg5_tmp_x",t={tmp:`${e}_at`,ls:"2gis_sdk_token"},r={tmp:`${e}_rt`,ls:"2gis_sdk_r_token"},n={expires:365,domain:window.location.hostname.split(".").map(((e,t)=>0===t?"":e)).join(".")};return{sync:()=>{const e=Kd.tO.local.getItem(t.ls);e&&Wx().set(t.tmp,e,n);const s=Kd.tO.local.getItem(r.ls);s&&Wx().set(r.tmp,s,n)},get:()=>({at:Wx().get(t.tmp),rt:Wx().get(r.tmp),ci:"monline"}),clean:()=>{Wx().remove(t.tmp,n),Wx().remove(r.tmp,n)}}})(),r=(()=>{const e="2gis_sdk_r_token",t="2gis_sdk_token";return{sync:()=>{},get:()=>({at:Kd.tO.local.getItem(t),rt:Kd.tO.local.getItem(e),ci:"online"}),clean:()=>{Kd.tO.local.removeItem(t),Kd.tO.local.removeItem(e)}}})(),{at:n,rt:s,ci:i}=(e?t:r).get();if(r.clean(),t.clean(),!Wx().get(z.I_)&&!Wx().get(z.gR)&&(n||s))return n&&Wx().set(z.I_,n),s&&Wx().set(z.gR,s),i};function Jx(e,t){return e.on("login",(e=>{"redirect_url"in e&&e.redirect_url?window.location.assign(e.redirect_url):t.dispatch((0,di.$)((({tp:e})=>(0,Au.c)((0,Du.v)({title:e._t("Ошибка!"),message:e._t("Что-то пошло не так. Попробуйте ещё раз.")})))))})),e.on("actualize",(()=>t.dispatch(function(e){let t;return(0,T.vP)((0,G.gF)({isUserLoggedIn:Ve.Pc,isUserStatusUnknown:Ve.zP},(({isUserLoggedIn:e,isUserStatusUnknown:r})=>(r||(t=e),(0,T.ZT)()))),(0,tu.m)({}),(0,Lx.F)({}),(0,G._N)(Ve.Pc,(r=>void 0!==t&&r===t?(0,T.ZT)():"refresh"===e?r?Zx():(0,T.vP)((0,Ux.I)(),(0,Vx.Y)(),(0,G._N)(Ve.bG,(e=>{var t;return"error"===(null===(t=e.meta)||void 0===t?void 0:t.status)&&401===e.meta.code?(0,T.PQ)((()=>{$x.remove("2gis_sdk_token")})):(0,T.ZT)()})),(0,go.u$)()):r?qx():(0,T.ZT)())))}("refresh")))),e.on("logout",(()=>{window.location.reload()})),e}const Yx=6e4;var Xx=r(93689);const ej=6e4;const tj=9e5;let rj;var nj=r(63595),sj=r(13162),ij=r(73226);let aj="";var oj=r(97813);const cj=(0,W.mq)("turnAutoPageViewOn"),dj=(0,T.gQ)("showEmailUpdateNotification",(()=>(0,G._N)((e=>e.appContext.weak.emailVerificationStatus),(e=>{const t=t=>"error"===e?t._t("Что-то пошло не так"):t._t("Готово"),r=t=>"error"===e?t._t("Попробуйте еще раз!"):t._t("Электронная почта подтверждена");return!!e&&(0,T.vP)((0,di.$)((({tp:n})=>"error"===e?(0,Au.c)((0,Du.v)({title:t(n),message:r(n)})):(0,Au.c)((0,Du.V)({title:t(n),message:r(n)})))),(0,J.yy)({emailVerificationStatus:void 0}))}))));var lj=r(57641),uj=r(17921),pj=r(17876);function hj(e){const{metric:t}=e;(0,pj.y)({[t.name]:t.value});const r=Math.round("CLS"===t.name?1e3*t.delta:t.delta);"undefined"!=typeof window&&window.ga&&window.ga(`${uj.bS}.send`,"event",{eventCategory:"Web Vitals",eventAction:t.name,eventValue:r,eventLabel:t.id,nonInteraction:!0})}var gj=r(80846),mj=r(95006);var fj=r(79899);function vj(e,t,r){window.isServerRendered=!1,e.dispatch((0,oj.G)()),e.dispatch((0,Xx.k)()),e.dispatch(dj()),e.dispatch((0,Ga.RP)((e=>{var t;if(!e||e.filterValuesByTab.truck)return(0,T.ZT)();const r=null===(t=(0,gj.h)())||void 0===t?void 0:t.ppng;return r?(0,T.vP)((0,Ga.eH)(e.id,(e=>Object.assign(Object.assign({},e),{filterValuesByTab:Object.assign(Object.assign({},e.filterValuesByTab),{truck:r})}))),"truck"===e.tab&&(0,mj.w)()):(0,T.ZT)()}))),e.dispatch((0,fj.R)()),function(e){let t;const r=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,Xx.k)({forced:!0})),r()}))}),ej))};r()}(e.dispatch),function(e){let t;const r=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,N.q_)({time:Date.now()})),r()}))}),Yx))};r()}(e.dispatch),e.dispatch((0,dl.oi)()),r.featureReadOnly?e.dispatch((0,nj.k)({name:"userId"})):function(e){function t(){const t=e.getState(),r=t.session.userId,n=(0,Ve.bG)(t).data;e.dispatch((0,Hx.k)({userId:r,authId:n?n.user_id:void 0}))}e.dispatch((0,io.ks)({userId:e.getState().session.userId})),t(),function e(){rj||(rj=window.setTimeout((()=>{window.requestIdleCallback((()=>{t(),rj=void 0,e()}))}),tj))}()}(e);const n=e.getState(),s="true"===Kd.tO.local.getItem("geolocationAllowed");"online"!==n.session.platform&&s&&e.dispatch((0,io.Fd)()),t&&(window.sdk={ui:t.ui,logout:t.logout},Jx(t,e),t.actualize(),setTimeout((()=>{e.dispatch((0,sj.A)())}),666),function(e){switch(aj.toLowerCase()){case"#flightaround":setTimeout((()=>{e((0,ij.P)(e))}),1e3);break;case"#hidedataviewer":e((0,Vi.kG)({isMinimized:!0}))}}(e.dispatch),e.dispatch(cj()),document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.body.classList.remove("_pi"),document.body.classList.add("_ki"))}),!0),document.addEventListener("mousedown",(function(){document.body.classList.remove("_ki"),document.body.classList.add("_pi")}),!0),setTimeout((()=>{(0,lj.mw)((e=>hj({metric:e}))),(0,lj.Fu)((e=>hj({metric:e}))),(0,lj.NO)((e=>hj({metric:e}))),(0,lj.a4)((e=>hj({metric:e}))),(0,lj.mr)((e=>hj({metric:e})))}),111))}function bj(){if("undefined"!=typeof window&&window.performance)return Object.assign(Object.assign(Object.assign({type:"client_start"},function(){const e=window.performance.timing;return{waiting:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,scriptLoading:e.domInteractive-e.domLoading,interactive:e.domInteractive-e.fetchStart,complete:e.domComplete-e.fetchStart,full:e.loadEventEnd-e.navigationStart}}()),function(){const e=window.navigator.connection||{};return{rtt:e.rtt,downlink:e.downlink}}()),function(){if(!performance.getEntriesByType)return{};const e=performance.getEntriesByType("navigation"),t=e&&e.length?e[0]:void 0;if(!t)return{};return{navigationType:t.type}}())}var yj=r(54576),xj=r(77665),jj=r(33730);const wj={queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,keepPreviousData:!0,retry:!1,retryOnMount:!1}};var Ij=r(15111);const Cj=Object.assign(Object.assign({},u),window.__customcfg);if((0,s.a)(Cj.staticPath),window.location.href.includes("__emulate_fatal_error_3__"))throw new Error("Emulated fatal error #3");try{const e=function(e){const{featureReadOnly:t,isMobileDevice:r}=e;if(t)return;return function(e){const{isMobileDevice:t,locale:r,country:n}=e,s=(0,Gx.hG)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]}),i={};return{on:(e,t)=>{i[e]=t},off:e=>{i[e]=void 0},ui:()=>(0,bd.mG)(this,void 0,void 0,(function*(){var e,t;try{const{data:t}=yield s("/_/auth/sign_in",{method:"post",params:{redirect_url_after_sign_in:encodeURIComponent(window.location.href),country:n,locale:r}});null===(e=i.login)||void 0===e||e.call(i,t)}catch(e){(0,Qx.No)("/_/auth/sign_in",{},void 0),null===(t=i.login)||void 0===t||t.call(i,{status:"error",code:500})}})),actualize:()=>(0,bd.mG)(this,void 0,void 0,(function*(){var e,r;const n=Kx(t);try{const{data:t}=yield s("/_/auth/refresh",{method:"post",data:{oci:n}});null===(e=i.actualize)||void 0===e||e.call(i,t)}catch(e){(0,Qx.No)("/_/auth/refresh",{},void 0),null===(r=i.actualize)||void 0===r||r.call(i,{status:"error",code:500})}})),token:()=>Promise.resolve(Wx().get(z.I_)),logout:()=>(0,bd.mG)(this,void 0,void 0,(function*(){var e,t;try{yield s("/_/auth/logout",{method:"post"}),null===(e=i.logout)||void 0===e||e.call(i,{status:"success",code:200})}catch(e){null===(t=i.logout)||void 0===t||t.call(i,{status:"error",code:500}),(0,Qx.No)("/_/auth/logout",{},void 0)}}))}}({isMobileDevice:r,locale:(0,zx.$)(e.lang,e.defaultCountryCode),country:e.isMiddleEast?"urbi"===e.brandCode?"ae_urbi":"ae":e.defaultCountryCode.toLowerCase()})}(Cj);window.addEventListener("error",(e=>{const{message:t,source:r,error:n}=e;(0,ne.H)({message:t,level:"warn",id:"ghmyb",payload:{type:"windowerror",source:r,stack:n.stack}})})),window.addEventListener("unhandledrejection",(e=>{const{reason:t}=e;(0,ne.H)({message:"string"==typeof t?t:t&&t.message,level:"warn",id:"ieey0",payload:{type:"unhandledrejection",stack:t&&t.stack}})})),window.onload=()=>{setTimeout((()=>{const e=bj();e&&(0,ne.UB)({message:"Client performance",level:"info",id:"9bin6",payload:e})}),0)},(0,je.Qv)(window.__classNames);const t=function(e){const t=new Tx.TranslationController(((t,r)=>{(0,Nx.o)(t,e.supportedLangs).then((e=>{r(t,e)})).catch((()=>{(0,ne.H)({message:`Fetch lang ${t} error`,level:"warn",id:"bu6p7",payload:{type:"network",subtype:"FetchLang"}}),r("ru",Ex.Z)}))}),(e=>{(0,ne.H)({message:"Error plural substitution",level:"warn",id:"2tfd5",payload:{type:"debug",subtype:"ErrorPluralSubstitution",data:e}})}),Px.C_);return new Mx.o(t)}(Cj);window.isServerRendered=!0,_j=window.location.hash,aj=_j||"";const s=(0,xj.u)({config:Cj,sideEffects:{getToken:e?e.token:()=>Promise.resolve(void 0)}}),i=(0,yd.createModelContext)({services:s,config:Cj}),a=new Ou.QueryClient({defaultOptions:wj});Promise.all([function(e,t,r,n){const s=Object.assign(Object.assign({},window.initialState),{config:t}),i=(0,h.l)({extraReducers:ve(t),enhancers:[],initialState:s,config:t,uiMiddlewares:[m(e),f(e),(0,M.n)(t,se),k((0,S.T)(),t),e=>t=>r=>{switch(r.type){case"MAP/SET_VIEW":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,v.ay)(t).then((e=>e.setView(r.payload)));break}case"MAP/GENERALIZE_MARKERS":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,v.ay)(t).then((e=>e.generalizeMarkers()));break}}return t(r)},(0,xe.qg)(n,{config:t,services:r})],mwWithServices:[(0,be.d)(E.BJ,t)],asyncExtraPayload:ye,apiServices:r});return Promise.resolve(i.dispatch(te())).then((()=>i))}(t,Cj,s,a),function(e){const t=window.preloadedComponentsList;if(!t||!t.length)return Promise.all([]);const r=t.map((t=>{const r=e[t];return r&&r.asyncImport?r.asyncImport():Promise.resolve()}));return Promise.all(r).catch((e=>{}))}(Ne.H),t.setLocale({lang:Cj.lang,countryCode:Cj.defaultCountryCode}).catch((()=>{})),(Oj=Cj.mapdbgmd,Oj?Promise.all([r.e(4736),r.e(4135)]).then(r.bind(r,79443)).then((({enable:e})=>{e()})):Promise.resolve())]).then((([r])=>{var o;o=r.dispatch,window.addEventListener("resize",(0,$.Ds)((()=>{o((0,F.Kn)({type:"window:resize",event:void 0}))}),300)),window.addEventListener("popstate",(e=>{e.state&&o((0,F.Kn)({type:"window:popstate",event:e}))})),window.addEventListener("message",(e=>o((0,F.Kn)({type:"window:message",event:e})))),window.addEventListener("keydown",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(e.target instanceof Element){const t=e.target.localName;if(["input","textarea"].includes(t))return}switch(e.keyCode){case fi.Hs:o((0,F.Kn)({type:"common:arrowLeftKeyDown",event:void 0}));break;case fi.ro:o((0,F.Kn)({type:"common:arrowRightKeyDown",event:void 0}));break;case fi.P9:o((0,F.Kn)({type:"common:arrowDownKeyDown",event:void 0}));break;case fi.HI:o((0,F.Kn)({type:"common:arrowUpKeyDown",event:void 0}));break;case fi.Fx:o((0,F.Kn)({type:"common:spaceKeyDown",event:void 0}))}}})),window.addEventListener("keyup",(e=>{e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||e.keyCode!==fi.O_||o((0,F.Kn)({type:"common:escapeKeyUp",event:void 0}))})),(e=>{const{platform:t,dispatch:r}=e;"android"===t&&("getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{var t;const n=!!(null===(t=e.find((e=>"ru.dublgis.dgismobile"===e.id||"ru.dublgis.dgismobile4preview"===e.id||"ru.dublgis.urbi"===e.id)))||void 0===t?void 0:t.id);r((0,xt.nc)(["NativeAppInfo",n?"Installed":"NotInstalled"]))})):r((0,xt.nc)(["NativeAppInfo","NoApi"])))})({dispatch:r.dispatch,platform:r.getState().session.platform}),(0,Oe.J)(Cj.isDxEnabled),(0,p.hydrate)((0,n.jsx)(yj.C,Object.assign({i18n:t,config:Cj,store:r,modelContext:i,services:s,queryClient:a},{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ou.Hydrate,Object.assign({state:window.__REACT_QUERY_STATE__},{children:(0,n.jsx)(Sx,{})})),(0,n.jsx)(jj.i,{})]})})),document.querySelector("#root"),(()=>vj(r,e,Cj)))})).catch((e=>{var t,r,n,s;(0,ne.H)({id:"egvnj",level:"fatal",message:e&&e.message,payload:{subtype:"ClientInitFailed",type:"exception",data:(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.includes("Minified React error #200"))?null===(n=null===(r=document.querySelector("div"))||void 0===r?void 0:r.outerHTML)||void 0===n?void 0:n.slice(0,100):null===(s=null==e?void 0:e.toString)||void 0===s?void 0:s.call(e),stack:null==e?void 0:e.stack}})}))}catch(Qr){(0,ne.H)({message:"client entry error",level:"fatal",id:"h34h5",payload:{type:"exception",subtype:"ClientEntryError",stack:(0,Ij.d)(Qr)}})}var Oj,_j},90091:(e,t,r)=>{"use strict";r.d(t,{Hv:()=>s,MS:()=>o,R7:()=>a,_V:()=>c});var n=r(2968);const{use:s,prefetch:i,invalidate:a,setQueryData:o}=(0,n.r)("fetchEntityAlbums",(e=>({services:t})=>t.photoApi.getEntityAlbums({objectId:e.objectId})),{staleTime:1/0,cacheTime:1/0}),c=i},55817:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n=10},43503:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});const n={159:{isMedia:!0},269:{isMedia:!1},161:{isMedia:!0},547:{isMedia:!1},162:{isMedia:!0},603:{isMedia:!1},164:{isMedia:!0},946:{isMedia:!1},165:{isMedia:!0},19487:{isMedia:!1},166:{isMedia:!0},23469:{isMedia:!1},363:{isMedia:!0},52681:{isMedia:!1},469:{isMedia:!0},56759:{isMedia:!1},879:{isMedia:!0},111005:{isMedia:!1},1203:{isMedia:!0},9786:{isMedia:!0},10803:{isMedia:!0},15791:{isMedia:!0},51459:{isMedia:!0},52248:{isMedia:!0},58871:{isMedia:!0},110317:{isMedia:!0},111593:{isMedia:!0},111594:{isMedia:!0},112636:{isMedia:!0},112656:{isMedia:!0},112658:{isMedia:!0}}},55457:(e,t,r)=>{"use strict";r.d(t,{JA:()=>d,gx:()=>o,sv:()=>c});var n=r(5163),s=r(2968),i=r(4279),a=r(7459);const{use:o,invalidate:c,setQueryData:d}=(0,s.H)("Entity Photo Album",(e=>[[e.id,e.locale,e.albumId],({services:t,context:r})=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{credentialsApi:n,photoApi:s}=t,{pageParam:o}=r,{id:c,albumId:d=i.n4,pageSize:l,locale:u}=e,p=yield n.getToken();return yield s.getPhotosByAlbum({objectId:c,albumId:d,page_size:l,page_token:o?`${o}`:void 0,locale:u||"ru",preview_size:a.s,accessToken:p})}))]),{getNextPageParam:e=>e.next_page_token})},70639:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});const n=10},63476:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(63295),s=r(82603),i=r(51665),a=r(2784),o=r(27215),c=r(70639),d=r(54722);const l=({entity:e,isFull:t,isDisable:r}={})=>{var l;const{featureReadOnly:u}=(0,d.Z)(),p=(0,o.v9)((t=>e&&(0,i.Te)({state:t,entityId:e.id}))),h="error"===(null===(l=null==p?void 0:p.meta)||void 0===l?void 0:l.status),g=!(null==p?void 0:p.meta)||"loading"===p.meta.status,m=(0,o.I0)();return(0,a.useEffect)((()=>{u||g||h||!e||r||(null==p?void 0:p.data)&&(!t||p.data.items.length>=p.data.total)||m((0,n.k)({id:e.id,type:e.type,page:1,pageSize:t?void 0:c.b}))}),[g,null==p?void 0:p.data,e,h,t,m,u,r]),{data:(null==p?void 0:p.data)&&Object.assign(Object.assign({},p.data),{items:p.data.items.map((({data:e})=>(null==e?void 0:e.temporary)?void 0:e)).filter(s.Gg)}),isLoading:g}}},21952:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(74215),s=r(50419);r(83466);function i(e){const{bssRef:t,useBssHandler:r}=(0,n.T)(o(e)),{bssRef:s}=(0,n.T)(a());return{bssRef:t,bssRefFrame:s,trackBssAction:r(c,e)}}const a=()=>({frameId:e},t)=>(0,s.x)({state:t,name:"promoBlockFrame",uuid:e}),o=({promoType:e})=>({frameId:t})=>({uiElement:{name:"promoBlock",ownerName:d(e),frameUuid:t},payload:{promoItem:{id:e}}}),c=({promoType:e})=>({frameId:t},r,n)=>{if(n)return{uiElement:{name:n,ownerName:"promoBlock",frameUuid:t},action:"tap",payload:{promoItem:{id:e}}}};function d(e){switch(e){case"desktopOvercastAppPopup":case"fullscreenChoicePopup":case"bottomOvercastChoicePopup":case"bottomOvercastPopup":return"fullScreenBanner";case"desktopMapAppPopup":return"map";case"desktopCardAppBanner":return"cardContacts";case"routeSearchSmall":return"routeSearchFrame"}}},11720:(e,t,r)=>{"use strict";r.d(t,{n:()=>c});var n=r(95849),s=r(52792),i=r(2784),a=r(27215);const o="2";function c(){const e=(0,a.v9)(d),[t,r]=(0,i.useState)(e);return{isClosed:t,onClose:(0,n.$)((()=>{r(!0),(0,s.J)("mobilePromoClosed",o)}))}}function d(e){return e.session.isMobilePromoClosed}},21319:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});const n={broadcast:{asyncImport:()=>Promise.all([r.e(1321),r.e(4601)]).then(r.bind(r,11062)),chunkName:"broadcast",moduleID:11062},prices:{asyncImport:()=>r.e(6039).then(r.bind(r,36456)),chunkName:"prices",moduleID:36456},catalog:{asyncImport:()=>Promise.all([r.e(1321),r.e(5512),r.e(8949),r.e(701)]).then(r.bind(r,13584)),chunkName:"catalog",moduleID:13584},collection:{asyncImport:()=>r.e(8137).then(r.bind(r,56364)),chunkName:"collection",moduleID:56364},contactsTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(4403),r.e(3865),r.e(1627)]).then(r.bind(r,60189)),chunkName:"contactsTab",moduleID:60189},discountsTab:{asyncImport:()=>r.e(4989).then(r.bind(r,62409)),chunkName:"discountsTab",moduleID:62409},dashboard:{asyncImport:()=>Promise.all([r.e(1321),r.e(9966)]).then(r.bind(r,79575)),chunkName:"dashboard",moduleID:79575},direction:{asyncImport:()=>r.e(0).then(r.bind(r,21784)),chunkName:"direction",moduleID:21784},directions:{asyncImport:()=>Promise.all([r.e(1321),r.e(4736),r.e(9554),r.e(5514),r.e(9685),r.e(9418)]).then(r.bind(r,86913)),chunkName:"directions",moduleID:86913},editFavorite:{asyncImport:()=>r.e(4195).then(r.bind(r,44106)),chunkName:"editFavorite",moduleID:44106},entityList:{asyncImport:()=>Promise.all([r.e(1321),r.e(7011)]).then(r.bind(r,85800)),chunkName:"entityList",moduleID:85800},entityTooltip:{asyncImport:()=>r.e(7157).then(r.bind(r,30549)),chunkName:"entityTooltip",moduleID:30549},entityVideoPopup:{asyncImport:()=>r.e(2e3).then(r.bind(r,51923)),chunkName:"entityVideoPopup",moduleID:51923},exchangeTooltip:{asyncImport:()=>r.e(1621).then(r.bind(r,16324)),chunkName:"exchangeTooltip",moduleID:16324},favorites:{asyncImport:()=>Promise.all([r.e(1321),r.e(205)]).then(r.bind(r,65470)),chunkName:"favorites",moduleID:65470},feedback:{asyncImport:()=>r.e(8656).then(r.bind(r,9016)),chunkName:"feedback",moduleID:9016},filters:{asyncImport:()=>Promise.all([r.e(1321),r.e(7596)]).then(r.bind(r,84725)),chunkName:"filters",moduleID:84725},gallery:{asyncImport:()=>Promise.all([r.e(5264),r.e(5121)]).then(r.bind(r,56127)),chunkName:"gallery",moduleID:56127},galleryAlbum:{asyncImport:()=>Promise.all([r.e(5264),r.e(8709)]).then(r.bind(r,9577)),chunkName:"galleryAlbum",moduleID:9577},gtaAds:{asyncImport:()=>Promise.all([r.e(1321),r.e(1863)]).then(r.bind(r,2593)),chunkName:"gtaAds",moduleID:2593},gdprCookieBanner:{asyncImport:()=>r.e(3883).then(r.bind(r,57208)),chunkName:"gdprCookieBanner",moduleID:57208},infoTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(4403),r.e(3865),r.e(376)]).then(r.bind(r,84833)),chunkName:"infoTab",moduleID:84833},insideTab:{asyncImport:()=>Promise.all([r.e(1321),r.e(9439)]).then(r.bind(r,60847)),chunkName:"insideTab",moduleID:60847},interestingCarousel:{asyncImport:()=>r.e(7840).then(r.bind(r,27845)),chunkName:"interestingCarousel",moduleID:27845},realtyTooltip:{asyncImport:()=>r.e(2375).then(r.bind(r,99589)),chunkName:"realtyTooltip",moduleID:99589},messenger:{asyncImport:()=>r.e(5743).then(r.bind(r,12173)),chunkName:"messenger",moduleID:12173},miniEntity:{asyncImport:()=>r.e(8242).then(r.bind(r,38197)),chunkName:"miniEntity",moduleID:38197},offer:{asyncImport:()=>Promise.all([r.e(1321),r.e(5512),r.e(5508)]).then(r.bind(r,51164)),chunkName:"offer",moduleID:51164},photoUploader:{asyncImport:()=>r.e(5800).then(r.bind(r,26390)),chunkName:"photoUploader",moduleID:26390},photoViewer:{asyncImport:()=>r.e(4186).then(r.bind(r,73911)),chunkName:"photoViewer",moduleID:73911},product:{asyncImport:()=>Promise.all([r.e(1321),r.e(5512),r.e(3018)]).then(r.bind(r,4970)),chunkName:"product",moduleID:4970},pricesTab:{asyncImport:()=>r.e(1328).then(r.bind(r,99590)),chunkName:"pricesTab",moduleID:99590},publicFavorites:{asyncImport:()=>Promise.all([r.e(1321),r.e(8749)]).then(r.bind(r,43389)),chunkName:"publicFavorites",moduleID:43389},realtyTab:{asyncImport:()=>Promise.all([r.e(3320),r.e(1039)]).then(r.bind(r,41867)),chunkName:"realtyTab",moduleID:41867},reviewsTab:{asyncImport:()=>Promise.all([r.e(47),r.e(5164)]).then(r.bind(r,37122)),chunkName:"reviewsTab",moduleID:37122},menuTab:{asyncImport:()=>r.e(618).then(r.bind(r,10954)),chunkName:"menuTab",moduleID:10954},photosTab:{asyncImport:()=>r.e(465).then(r.bind(r,71302)),chunkName:"photosTab",moduleID:71302},rubric:{asyncImport:()=>r.e(4531).then(r.bind(r,3103)),chunkName:"rubric",moduleID:3103},rubricator:{asyncImport:()=>r.e(6854).then(r.bind(r,66917)),chunkName:"rubricator",moduleID:66917},servicesTab:{asyncImport:()=>r.e(9430).then(r.bind(r,87356)),chunkName:"servicesTab",moduleID:87356},sharing:{asyncImport:()=>Promise.all([r.e(1321),r.e(8460)]).then(r.bind(r,91905)),chunkName:"sharing",moduleID:91905},sideMenu:{asyncImport:()=>Promise.all([r.e(1321),r.e(3673)]).then(r.bind(r,96674)),chunkName:"sideMenu",moduleID:96674},suggestList:{asyncImport:()=>Promise.all([r.e(1321),r.e(3267)]).then(r.bind(r,62022)),chunkName:"suggestList",moduleID:62022},typedFeedback:{asyncImport:()=>r.e(254).then(r.bind(r,73882)),chunkName:"typedFeedback",moduleID:73882},userProfile:{asyncImport:()=>Promise.all([r.e(1321),r.e(47),r.e(873)]).then(r.bind(r,95050)),chunkName:"userProfile",moduleID:95050},subscriptions:{asyncImport:()=>r.e(9841).then(r.bind(r,448)),chunkName:"subscriptions",moduleID:448},subscribers:{asyncImport:()=>r.e(4331).then(r.bind(r,71055)),chunkName:"subscribers",moduleID:71055},successfulSubscriptions:{asyncImport:()=>r.e(9669).then(r.bind(r,69667)),chunkName:"successfulSubscriptions",moduleID:69667},noFriends:{asyncImport:()=>r.e(1622).then(r.bind(r,56513)),chunkName:"noFriends",moduleID:56513},social:{asyncImport:()=>r.e(7443).then(r.bind(r,73988)),chunkName:"social",moduleID:73988},recommendations:{asyncImport:()=>r.e(5544).then(r.bind(r,86779)),chunkName:"recommendations",moduleID:86779},videoPopup:{asyncImport:()=>r.e(8663).then(r.bind(r,95634)),chunkName:"videoPopup",moduleID:95634},writeReview:{asyncImport:()=>r.e(7530).then(r.bind(r,95924)),chunkName:"writeReview",moduleID:95924},unconfirmedReviews:{asyncImport:()=>Promise.all([r.e(47),r.e(9828)]).then(r.bind(r,10463)),chunkName:"unconfirmedReviews",moduleID:10463},currentReview:{asyncImport:()=>Promise.all([r.e(47),r.e(6469)]).then(r.bind(r,41765)),chunkName:"currentReview",moduleID:41765},tUgcCard:{asyncImport:()=>r.e(2577).then(r.bind(r,38858)),chunkName:"tUgcCard",moduleID:38858},searchResults:{asyncImport:()=>Promise.all([r.e(1321),r.e(5512),r.e(8949),r.e(910)]).then(r.bind(r,78443)),chunkName:"searchResults",moduleID:78443},deliveryOrderPopup:{asyncImport:()=>r.e(6718).then(r.bind(r,56376)),chunkName:"deliveryOrderPopup",moduleID:56376},cart:{asyncImport:()=>Promise.all([r.e(1321),r.e(2648),r.e(511)]).then(r.bind(r,20391)),chunkName:"cart",moduleID:20391},sendOrderPopup:{asyncImport:()=>Promise.all([r.e(1321),r.e(2648),r.e(9428)]).then(r.bind(r,86057)),chunkName:"sendOrderPopup",moduleID:86057},confirm:{asyncImport:()=>r.e(3368).then(r.bind(r,79778)),chunkName:"confirm",moduleID:79778},userFriendsActivity:{asyncImport:()=>r.e(3123).then(r.bind(r,20077)),chunkName:"userFriendsActivity",moduleID:20077},realty:{asyncImport:()=>Promise.all([r.e(1321),r.e(4403),r.e(3320),r.e(2557)]).then(r.bind(r,77994)),chunkName:"realty",moduleID:77994},realtyCard:{asyncImport:()=>Promise.all([r.e(1321),r.e(47),r.e(3189)]).then(r.bind(r,95789)),chunkName:"realtyCard",moduleID:95789},achievementsFrame:{asyncImport:()=>Promise.all([r.e(1321),r.e(5751)]).then(r.bind(r,59802)),chunkName:"achievementsFrame",moduleID:59802},privacyPolicyBanner:{asyncImport:()=>Promise.all([r.e(1321),r.e(5776)]).then(r.bind(r,10576)),chunkName:"privacyPolicyBanner",moduleID:10576},fullBannerInner:{asyncImport:()=>r.e(3760).then(r.bind(r,42990)),chunkName:"fullBannerInner",moduleID:42990},exchange:{asyncImport:()=>r.e(3663).then(r.bind(r,27096)),chunkName:"exchange",moduleID:27096},personalDataAgreementPopup:{asyncImport:()=>r.e(6421).then(r.bind(r,82275)),chunkName:"personalDataAgreementPopup",moduleID:82275},thanksForPhoto:{asyncImport:()=>r.e(2835).then(r.bind(r,60556)),chunkName:"thanksForPhoto",moduleID:60556},thanksForReview:{asyncImport:()=>r.e(6499).then(r.bind(r,45736)),chunkName:"thanksForReview",moduleID:45736},smmTipPopup:{asyncImport:()=>r.e(3933).then(r.bind(r,45469)),chunkName:"smmTipPopup",moduleID:45469},smmCheckoutPopup:{asyncImport:()=>Promise.all([r.e(1321),r.e(9116)]).then(r.bind(r,30060)),chunkName:"smmCheckoutPopup",moduleID:30060},phonePopup:{asyncImport:()=>r.e(2757).then(r.bind(r,97511)),chunkName:"phonePopup",moduleID:97511},newYearPromoPopup:{asyncImport:()=>r.e(3464).then(r.bind(r,68555)),chunkName:"newYearPromoPopup",moduleID:68555},desktopPromoPopupBanner:{asyncImport:()=>r.e(5313).then(r.bind(r,31512)),chunkName:"desktopPromoPopupBanner",moduleID:31512},desktopPromoMapBanner:{asyncImport:()=>r.e(5060).then(r.bind(r,57789)),chunkName:"desktopPromoMapBanner",moduleID:57789},desktopPromoCardBanner:{asyncImport:()=>r.e(2326).then(r.bind(r,73521)),chunkName:"desktopPromoCardBanner",moduleID:73521},mobilePpPromoBanner:{asyncImport:()=>r.e(2761).then(r.bind(r,47403)),chunkName:"mobilePpPromoBanner",moduleID:47403},mobileAppPromoBannerPopup:{asyncImport:()=>r.e(831).then(r.bind(r,8493)),chunkName:"mobileAppPromoBannerPopup",moduleID:8493},bottomOvercastChoicePopup:{asyncImport:()=>r.e(6539).then(r.bind(r,20198)),chunkName:"bottomOvercastChoicePopup",moduleID:20198},bottomOvercastPopup:{asyncImport:()=>r.e(1877).then(r.bind(r,4914)),chunkName:"bottomOvercastPopup",moduleID:4914},fullscreenChoicePopup:{asyncImport:()=>r.e(9506).then(r.bind(r,309)),chunkName:"fullscreenChoicePopup",moduleID:309}}},11268:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n,s=r(27144);!function(e){e[e.Default=s.k]="Default",e[e.Map=s.k+1]="Map",e[e.Frame=s.k+2]="Frame",e[e.FrameElement=s.k+3]="FrameElement",e[e.Popup=s.k+4]="Popup",e[e.PopupElement=s.k+5]="PopupElement",e[e.Confirm=s.k+6]="Confirm"}(n||(n={}))},25376:(e,t,r)=>{"use strict";r.d(t,{V:()=>_});var n=r(8151),s=r(82603),i=r(29853),a=r(90095),o=r(49259),c=r(98721),d=r(25756),l=r(14075);function u(e,t,r){return t?Object.assign(Object.assign({},r),{[e]:t}):r}var p=r(4037),h=r(4279),g=r(79148),m=r(70997),f=r(51665),v=r(64049),b=r(53e3);var y=r(37144),x=r(62220),j=r(78621),w=r(99167),I=r(5389);const C=(0,y.P1)([e=>e.appContext.weak.isLangRepresentedInOriginalRequest,e=>e.appContext.weak.showSlugsNeededOnlyForStartup,e=>e.appContext.weak.isMapViewRepresentedInOriginalRequest,e=>e.appContext.weak.mapInteractionStarted,e=>e.appContext.weak.emailVerificationStatus],((e,t,r,n,s)=>({isLangRepresentedInOriginalRequest:e,showSlugsNeededOnlyForStartup:t,isMapViewRepresentedInOriginalRequest:r,mapInteractionStarted:n,emailVerificationStatus:s}))),O=(0,y.P1)([e=>e.appContext.activeLayer,e=>e.appContext.activeSublayer,e=>e.appContext.showTrafficOnMap],((e,t,r)=>({activeLayer:e,activeSublayer:t,showTrafficOnMap:r}))),_=(0,y.P1)([n.kL,function(e){var t,r;const s=(0,n.mN)(e),i=s?(0,f.nM)({state:e,entityId:s}).data:void 0;return i?(0,w.i)(i)||(null===(r=null===(t=(0,j.D4)({state:e,id:i.region_id}))||void 0===t?void 0:t.data)||void 0===r?void 0:r.uri_code):(0,j.Rg)(e)},x.Z1,C,O,function(e){const t=[];if(!e.appContext.frames.length)return t;return e.appContext.frames.reduce(((t,r)=>{const n=function(e,t){var r;switch(e.type){case"search":if("query"===e.searchType){const t=(0,d.Z)(e),r=(0,c.Q)(e);return e.tabCatalog.isBuyHereRubric&&e.tabCatalog.rubricId?{type:"rubric",rubricId:e.tabCatalog.rubricId,filters:(0,c.Q)(e),page:t>1?t:void 0}:{type:"search",query:e.query,rubricId:e.tabCatalog.rubricId,filters:r,page:t>1?t:void 0,attributeId:e.tabCatalog.attributeId}}if("filials"===e.searchType)return{type:"branches",orgId:e.orgId,filters:e.filterValues};if("inbuilding"===e.searchType)return{type:"inside",buildingId:e.buildingId,filters:(0,c.Q)(e),query:e.query};if("offers"===e.searchType)return{type:"offers",query:e.query,filters:(0,c.Q)(e)};if("buyHere"===e.searchType||"fmcg"===e.searchType){const t=(0,d.Z)(e);return{type:e.searchType,adsIds:e.adsIds,page:t>1?t:void 0,filters:(0,c.Q)(e)}}return;case"prices":return{type:"prices",branchId:e.entityId,categoryId:e.categoryId};case"userProfile":return"places"===e.profileTab?{type:"profile",profileTab:e.profileTab}:"favorites"===e.profileTab?{type:"favorites"}:{type:"my",profileTab:e.profileTab||"places"};case"exchange":return{type:"exchange",page:e.page>1?e.page:void 0,filters:e.filterValues,calc:{action:e.action,currencyCode:e.currencyCode,volume:e.volume}};case"achievements":return{type:"achievements",group:e.groupName};case"directions":return{type:"directions",tab:e.tab!==h.QZ?e.tab:void 0,points:e.points.map((e=>null===e||(0,g.Sb)(e)?void 0:e)),filters:(0,c.Q)(e)};case"entity":if("point"===e.entityType)return{type:"geo",point:e.point};const n=(0,f.nM)({state:t,entityId:e.entityId}).data;return{type:(0,p.C)(e.entityType),entityId:e.entityId,tab:n&&e.tab!==(0,l.R)(n)[0]?e.tab:void 0,query:"inside"===e.tab?e.tabInside&&e.tabInside.query:void 0,filters:(0,c.Q)(e),point:e.point,entranceId:e.entranceId};case"product":return{type:"product",productId:e.productId,filters:u("b",e.buildingId,(0,c.Q)(e))};case"gallery":return{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,p.C)(e.entityType),photoId:e.photoId,entityId:e.entityId};case"offer":return{type:"offer",productId:e.productId};case"publicFavorites":return{type:e.subtype};case"collection":return{type:"collection",collectionId:e.collectionId};case"rubricator":return{type:"rubrics"};case"rubric":return{type:"subrubrics",parentId:e.parentId};case"userFriendsActivity":return{type:"friends",entityId:e.entityId};case"realty":return{type:"realty",at:null===(r=e.entity)||void 0===r?void 0:r.id,category:(0,m.ax)(e.categoryId)||"sale",filters:e.filterValues};case"realtyCard":const s=e.realtyId;if(!s)return;return{type:"realtyAd",id:s,tab:"ad"!==e.tab?e.tab:void 0};case"error":return(0,v.k)(b._,e.subtype)?{type:"error",subtype:e.subtype}:void 0}}(r,e);return n?[n,...t]:t}),[])},e=>e.appContext.popup,e=>e.appContext.lang,e=>e.appContext.floors,e=>e.session,e=>e.appContext.ruler,e=>e.appContext.messenger,function(e){const t=e.appContext.showSnow;return t.allowSnowStyle?{type:"snow",intensity:"on"===t.status?t.intensity:void 0,allowSnowStyle:t.allowSnowStyle}:void 0}],((e,t,r,{isLangRepresentedInOriginalRequest:n,showSlugsNeededOnlyForStartup:c,isMapViewRepresentedInOriginalRequest:d,mapInteractionStarted:l,emailVerificationStatus:u},{activeLayer:p,activeSublayer:h,showTrafficOnMap:g},m,f,v,b,{is3dEnabled:y,statHash:x,utm:j},w,C,O)=>{const _=t?{type:"region",code:t}:void 0,k=f&&"createReview"===f.type?{type:"writeReview",source:f.sourceId}:void 0,S=C&&C.isOpen?{type:"messenger",dialogId:C.dialogId}:void 0,M=f&&"typedFeedback"===f.type?{type:"addOrg"===f.subtype?"addOrg":"feedback"}:void 0,T=(0,i.d)({project:e,is3d:y}),N=f&&"newYearPromo"===f.type?{type:"new_year_promo"}:void 0,P=u?{type:"auth",status:u}:void 0,E=l||d?{type:"mapview",center:r.center,pitch:(0,a.uZ)(r.pitch,o.eM,o.Nm),rotation:(0,a.uZ)(r.rotation,o.qN,o.mC),zoom:(0,a.uZ)(r.zoom,T.min,T.max)}:void 0,L=n?{type:"lang",lang:v}:void 0,z=b&&void 0!==b.currentFloor?{type:"floor",value:b.currentFloor}:void 0,R=function(e){if(!e)return[];return Object.keys(e).map((t=>({type:t,value:e[t]})))}(j),F=x&&c?{type:"stat",value:x}:void 0,H=w.isActive?{type:"ruler",points:w.points}:void 0,B=p&&"realty"!==p?{type:"layer",value:p}:void 0,A=h&&!(0,I.j)(h)?{type:"sublayer",value:h}:void 0,D=g?{type:"traffic"}:void 0;return(0,s.oA)([L,_,...m,S,k,M,z,E,...R,F,H,B,A,D,P,N,O])}))},54576:(e,t,r)=>{"use strict";r.d(t,{C:()=>m,x:()=>g});var n=r(52322),s=r(2784),i=r(13130),a=r(35712),o=r(27215),c=r(26486),d=r(60774),l=r(32996),u=r(39464),p=r(47111),h=r(82066);const g=s.createContext({}),m=({config:e,i18n:t,store:r,modelContext:s,services:m,children:f,queryClient:v})=>{const b=(0,l.gh)(e),y={config:e,tp:t.tp,dateFns:t.dateFns,theme:b};return(0,n.jsx)(h.QueryClientProvider,Object.assign({client:v},{children:(0,n.jsx)(o.zt,Object.assign({store:r},{children:(0,n.jsx)(g.Provider,Object.assign({value:r},{children:(0,n.jsx)(c.E.Provider,Object.assign({value:e},{children:(0,n.jsx)(i.Az,Object.assign({value:y},{children:(0,n.jsx)(l.nH,Object.assign({theme:b},{children:(0,n.jsx)(a.f.Provider,Object.assign({value:t},{children:(0,n.jsx)(d.O.Provider,Object.assign({value:t.tp},{children:(0,n.jsx)(p.H.Provider,Object.assign({value:m},{children:(0,n.jsx)(u.T.Provider,Object.assign({value:s},{children:f}))}))}))}))}))}))}))}))}))}))}},67828:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(51665);const s=e=>t=>(0,n.nM)({state:t,entityId:e||""})},53562:(e,t,r)=>{"use strict";r.d(t,{$:()=>h,a:()=>g});var n=r(45537),s=r(35795),i=r(46584),a=r(67828),o=r(5330),c=r(98402),d=r(71202),l=r(14813),u=r(95683),p=r(24821);const h=(0,n.gQ)("fetchApartmentsByEntityId",(e=>{const{id:t,searchId:r}=e;return t?(0,s.D)((0,a.l)(t),(0,i.Dz)({id:t,searchId:r})):(0,n.ZT)()})),g=(0,n.gQ)("cancelOrder",(e=>(0,n.vP)((0,u.s)({orderId:e}),(0,o._N)(p.S,(t=>{var r;if(!(null===(r=t.data)||void 0===r?void 0:r.orders))return(0,n.ZT)();return!!t.data.orders.find((t=>t.id===e&&"canceled"===t.status.type))?(0,n.ZT)():(0,c.$)((({tp:e})=>(0,d.c)((0,l.v)({title:e._gg("Что-то пошло не так"),message:e._gg("Попробуйте чуть позже или свяжитесь с продавцом")}))))})))))},24821:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(8919);const s=e=>e.data.ordersHistory.default||n.Y},58728:(e,t,r)=>{"use strict";r.d(t,{r$:()=>y,Ki:()=>x});var n=r(45537),s=r(84304),i=r(82603),a=r(19463),o=r(35795),c=r(24821),d=r(8196),l=r(5330),u=r(64273),p=r(51665),h=r(93357);const g=(0,n.gQ)("fetchMultipleEntityProfilesIfMissing",(e=>{const{ids:t,searchId:r,hash:s}=e;return(0,n.xJ)((e=>{const i=t.filter((t=>(0,h.G)((0,p.wj)({state:e,entityId:t,searchId:r}))||!(0,p.kO)({state:e,entityId:t,searchId:r})));return 0===i.length?(0,n.ZT)():(0,u.H3)({ids:i,searchId:r,hash:s})}))}));var m=r(25278),f=r(69924),v=r(32034),b=r(69587);const y="delivery-searchId",x=(0,n.gQ)("openCartPopup",(()=>(0,a.BN)((0,n.vP)((0,o.D)(c.S,(0,d.D)({})),(0,n.Mf)(j({searchId:y}),(0,s.Mw)({id:(0,i.by)(),type:"cart"})))))),j=(0,n.gQ)("fetchBranchesForCart",(({searchId:e})=>(0,l.gF)({orderHistory:c.S,cart:v.W},(({orderHistory:t,cart:r})=>{var n;const s=(null===(n=t.data)||void 0===n?void 0:n.orders)||m.LZ,i=r?(0,b.t)(r):m.LZ,a=s.reduce(((e,t)=>{var r;return(null===(r=t.delivery)||void 0===r?void 0:r.address.buildingId)&&e.push(t.delivery.address.buildingId),e}),[]),o=(0,f.Z)([...s.map((e=>e.firm.branchId)),...i.map((e=>e.branchId)),...a]);return g({ids:o,searchId:e})}))))},27821:(e,t,r)=>{"use strict";r.d(t,{E:()=>p});var n=r(52322),s=r(2784),i=r(27215),a=r(7628),o=r(5161),c=r(83266);const d=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,c.d)()];return(0,n.jsx)(a.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,n.jsx)(a.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=r(5507);const u=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,l.o)({isLabelShown:!0})];return(0,n.jsx)(a.q,{children:e.map(((e,t)=>e&&(0,n.jsx)(a.Q,Object.assign({icon:e.icon,grow:"map"===e.type,type:"gray",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})};u.displayName="FullMobileCollectionCardNavigationFooter";const p=(0,s.memo)((()=>(0,i.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,n.jsx)(d,{}):(0,n.jsx)(u,{})))},20772:(e,t,r)=>{"use strict";r.d(t,{R:()=>p});var n=r(45537),s=r(64273),i=r(90280),a=r(51665),o=r(8996),c=r(13663),d=r(91122);const l=(e,t,r)=>n=>{const s=("private"===e?c.vE:i.zL)(t)(n);if(!s.length)return[];const l=[];return("private"===e?s.slice(0,r):s).forEach((e=>{const t=e.object_id;if(!t)return;const r=(0,a.nM)({state:n,entityId:t});(0,o.W)(r)&&l.push(t)})),(0,d.m)(l,(e=>e))};const u=50;function p(e,t,r){return"private"===e?function(e,t){return(0,n.xJ)((r=>{const i=l("private",e,t)(r);return i.length?(0,s.H3)({ids:i.slice(0,50),searchId:void 0}):(0,n.ZT)()}))}(t,r):function(e){return(0,n.xJ)((t=>{const r=l("public",e)(t);if(!r.length)return(0,n.ZT)();const i=new Array(Math.ceil(r.length/u)).fill(1).map(((e,t)=>r.slice(u*t,u*t+u)));return(0,n.Mf)(...i.map((e=>(0,s.H3)({ids:e,searchId:void 0}))))}))}(t)}},31461:(e,t,r)=>{"use strict";function n(e){return"collection"===e.type}r.d(t,{f:()=>n})},75187:(e,t,r)=>{"use strict";r.d(t,{V:()=>d});var n=r(45537),s=r(88111),i=r(27087),a=r(82603),o=r(22836),c=r(60068);const d=(0,n.gQ)("switchLanguage",(e=>(0,n.vP)((0,o.d)({name:"lang",value:e.lang}),(0,n.PQ)((()=>{const e=window.location.pathname+window.location.search,{payload:t}=(0,s.Q)(e);t.lang=void 0;const r=(0,s.M)((0,a.oA)((0,i.s0)(t)));return(0,c.k)({url:r,name:"_self"})})))))},72792:(e,t,r)=>{"use strict";function n(e){switch(e){case"ru":return"Ру";case"uk":return"Ук";case"en":return"En";case"ar":return"Ar";case"cs":return"Cs";case"es":return"Es";case"az":return"Az";case"uz":return"Uz";case"kk":return"Kz";default:return e}}function s(e){switch(e){case"ru":return"Русский";case"uk":return"Українська";case"en":return"English";case"ar":return"Arabic";case"cs":return"Čeština";case"es":return"Español";case"az":return"Azərbaycanca";case"uz":return"O'zbek";case"kk":return"Қазақ";default:return}}r.d(t,{L:()=>s,S:()=>n})},82098:(e,t,r)=>{"use strict";r.d(t,{vc:()=>z,wF:()=>R,l3:()=>F});var n=r(2784),s=r(52322),i=r(31567),a=r(88944),o=r(78535),c=r(17442),d=r(86631),l=r(21578),u=r(86467),p=r(63195),h=r(93527),g=r(27215),m=r(83390),f=r(74215);const v=e=>({frameId:t})=>{const{type:r,size:n,enableMapSubLayer:s}=e;return{uiElement:{name:r,ownerName:"mapSubLayersList",frameUuid:t},action:"tap",payload:{mapSubLayersList:{size:n},mapSubLayer:{name:b(r),enableMapSubLayer:s}}}},b=e=>{switch(e){case"realtyBuySubLayerIcon":return"realtyBuySubLayer";case"realtyRentSubLayerIcon":return"realtyRentSubLayer";case"realtyWalkDistanceSubLayerIcon":return"realtyWalkDistanceSubLayer"}};var y=r(30007),x=r(45537),j=r(13501),w=r(60922),I=r(70997);const C=(0,x.gQ)("setSublayerOnClick",(e=>(0,x.XJ)((0,x.vP)((0,j.nv)((t=>{const r=function(e){switch(e){case"realtyPriceRent":return I.jY.rent.categoryId;case"realtyPriceSale":return I.jY.sale.categoryId;default:return}}(e);return(null==t?void 0:t.categoryId)!==r&&r?(0,w.c)({newValue:r}):(0,x.ZT)()})),(0,m.PD)(e)))));var O=r(29397),_=r(75281);const k=(0,n.memo)((({type:e,title:t,size:r})=>{const{s:n,css:i}=(0,o.y)(S),{isHovered:a,refCallback:c}=(0,u.X)(),{useBssHandler:d}=(0,f.T)(),l=e===(0,g.v9)(_.j);let p="realtyBuySubLayerIcon";"realtyPriceRent"===e&&(p="realtyRentSubLayerIcon"),"realtyWalkDistance"===e&&(p="realtyWalkDistanceSubLayerIcon");const b=d(v,{type:p,size:r,enableMapSubLayer:!l}),x=(0,h.A)((({isActive:e,type:t})=>(b(),e?(0,m.P)():C(t))),{isActive:l,type:e});return(0,s.jsxs)("div",Object.assign({className:i(n.root),onClick:x,ref:c},y.dx.n("wat-on-off-sublayer"),{children:[(0,s.jsx)(O.N,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:i(n.dot,a&&n._hoveredDot,l&&!a&&n._activeDot)}),(0,s.jsx)("div",Object.assign({className:i(n.title_gray_929292,l&&n.title_gray_262626,a&&n.hoveredTitle)},{children:t}))]})}),(0,s.jsx)(O.i,{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:i(n.bigDotWrapper,l&&n._activeBigDot)},{children:(0,s.jsx)("div",{className:i(l&&n._activeInnerDot)})})),(0,s.jsx)("div",Object.assign({className:i(n.title_gray_262626,l&&n.title_gray_929292)},{children:t}))]})})]}))}));k.displayName="RealtySublayersItem";const S=(0,o.k)({root:{height:32,padding:"0 16px",display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${i.O.gray_262626}`,borderRadius:p.E.oval},_hoveredDot:{borderColor:i.O.blue_028eff},_activeDot:{borderColor:i.O.blue_028eff},title_gray_929292:{whiteSpace:"nowrap",color:i.O.gray_929292},hoveredTitle:{color:i.O.blue_028eff},title_gray_262626:{whiteSpace:"nowrap",color:i.O.gray_262626},bigDotWrapper:{display:"flex",alignItems:"center",justifyContent:"center",marginEnd:20,boxSizing:"border-box",width:20,height:20,border:`2px solid ${i.O.gray_e6e6e6}`,borderRadius:"50%"},_activeBigDot:{border:`2px solid ${i.O.blue_028eff}`},_activeInnerDot:{width:12,height:12,borderRadius:"50%",backgroundColor:i.O.blue_028eff}});var M=r(4739),T=r(9421),N=r(8193),P=r(8151),E=r(4279),L=r(7686);const z=(0,n.memo)((()=>{const{css:e,s:t}=(0,o.y)(H),r=(0,c.T)(),a=(0,g.v9)(_.j),p=F(),{isHovered:h,refCallback:m}=(0,u.X)(),{bssRef:v,useBssHandler:b}=(0,f.T)((({frameId:e})=>({uiElement:{name:"mapSubLayersScreen",ownerName:"realtyLayerIcon",frameUuid:e}}))),y=a&&p.find((e=>e.type===a)),[x,j]=(0,n.useState)(!0),w=(0,n.useRef)(null);(0,N.F)({ref:w,isActive:!!a,currentLayer:"realty_sublayers",promotedLayer:"realty_sublayers"});const I=b(L.H,{type:x?"mapSubLayers":"closeMapSubLayers"}),C=(0,n.useCallback)((()=>{I(),j(!x)}),[x,I]);return(0,n.useEffect)((()=>{j(!0)}),[y]),(0,T.t)(w,(()=>{j(!0)})),(0,s.jsxs)("nav",Object.assign({className:e(t.root),ref:w},{children:[(0,s.jsx)("div",Object.assign({ref:v},{children:(0,s.jsx)(l.Z,Object.assign({onClick:C,color:"inherit",styles:t.headerLink,dataN:"wat-realty-sublayers-switcher"},{children:(0,s.jsxs)("div",Object.assign({className:e(t.header),ref:m},{children:[(0,s.jsxs)("div",Object.assign({className:e(t.title)},{children:[(0,s.jsx)("div",{className:e(t.dot,y&&x&&t._dotCollapsed,y&&!x&&t._dotActive,h&&t._dotHovered)}),(0,s.jsx)("span",Object.assign({className:e(t.text,y&&!x&&t._collapsed,h&&t._textHovered)},{children:y&&x?y.title:r._gg("Карты недвижимости")}))]})),(0,s.jsx)(d.E,{direction:x?"down":"up",color:h?i.O.gray_262626:i.O.gray_929292})]}))}))})),y&&x&&(0,s.jsx)("div",Object.assign({className:e(t.temperature)},{children:(0,s.jsx)(M.I,{segments:"realtyWalkDistance"===y.type?E.fN:E.tC,labels:y.temperatureLabels})})),(0,s.jsx)(R,{items:p,isListCollapsed:x})]}))}));z.displayName="RealtySublayers";const R=(0,n.memo)((({items:e,isListCollapsed:t})=>{const{css:r,s:i}=(0,o.y)(H),{bssRef:a}=(0,f.T)((c={size:e.length},({frameId:e})=>({uiElement:{name:"mapSubLayersList",ownerName:"mapSubLayersScreen",frameUuid:e},payload:{mapSubLayersList:{size:c.size}}})),{forceSendShowIfParamsChanged:[t]});var c;return(0,s.jsx)("ul",Object.assign({className:r(i.list,t&&i.listCollapsed),ref:t?void 0:a},{children:e.map(((t,r)=>(0,n.createElement)(k,Object.assign({},t,{key:r,size:e.length}))))}))})),F=()=>{const e=(0,g.v9)(P.kL),t=(0,c.T)(),r=(0,g.v9)(_.j);return(0,n.useMemo)((()=>{const n=[];return((null==e?void 0:e.code)&&E.yJ.includes(e.code)||"realtyPriceSale"===r||"realtyPriceRent"===r)&&n.push({type:"realtyPriceSale",title:t._gg("Цена продажи"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]},{type:"realtyPriceRent",title:t._gg("Цена аренды"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]}),((null==e?void 0:e.flags.metro)||"realtyWalkDistance"===r)&&n.push({type:"realtyWalkDistance",title:t._gg("Доступность метро"),temperatureLabels:[t._gg("< 5 мин"),t._gg("5-10"),t._gg("10-20"),t._gg("20-30")]}),n}),[t,null==e?void 0:e.flags.metro,r])},H=(0,o.k)({root:{display:"block",minWidth:216,padding:"6px 0",overflow:"hidden",boxShadow:a.q.popup,borderRadius:p.E.default,backgroundColor:i.O.white},header:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:6,paddingBottom:6,paddingStart:16,paddingEnd:12},headerLink:{width:"100%",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${i.O.gray_e6e6e6}`,borderRadius:p.E.oval},_dotActive:{borderColor:i.O.gray_262626},_dotCollapsed:{borderColor:i.O.blue_028eff},_dotHovered:{borderColor:i.O.blue_028eff},title:{display:"flex",alignItems:"center",boxSizing:"border-box",marginEnd:10},_titleHovered:{color:i.O.blue_028eff},text:{whiteSpace:"nowrap",color:i.O.gray_262626},_textHovered:{color:i.O.blue_028eff},_collapsed:{color:i.O.gray_929292},temperature:{paddingTop:0,paddingBottom:4,paddingStart:16,paddingEnd:16},list:{overflow:"hidden"},listCollapsed:{height:0}})},4739:(e,t,r)=>{"use strict";r.d(t,{I:()=>d});var n=r(52322),s=r(63195),i=r(78535),a=r(2784),o=r(31567),c=r(35608);const d=(0,a.memo)((({segments:e,labels:t,labelsMarginTop:r,labelsJustifyContent:s,labelFontSize:a})=>{const{s:o,css:c}=(0,i.y)(l);return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",Object.assign({className:c(o.line)},{children:e.map(((t,r)=>(0,n.jsx)("div",{style:{background:t,width:100/e.length+"%"}},r)))})),(0,n.jsx)("div",Object.assign({className:c(o.labels),style:{marginTop:r,justifyContent:s,fontSize:a}},{children:t.map(((e,r)=>(0,n.jsx)("div",Object.assign({className:c(o.label),style:{width:"space-around"===s?100/t.length+"%":void 0}},{children:e}),r)))}))]})})),l=(0,i.k)({line:{height:8,display:"flex",borderRadius:s.E.default,overflow:"hidden"},labels:Object.assign(Object.assign({},c.Vz),{color:o.O.gray_929292,display:"flex",justifyContent:"space-between",marginTop:2}),label:{textAlign:"center"}})},8193:(e,t,r)=>{"use strict";r.d(t,{F:()=>d});var n=r(27215),s=r(2784),i=r(15057),a=r(17684),o=r(20146);var c=r(54722);function d({ref:e,isActive:t,currentLayer:r,promotedLayer:d}){const l=(0,n.I0)(),u=(0,c.Z)(),p=!(0,n.v9)(i.zP),h=function(e){switch(e){case"metro":return"layer_metro";case"realty":return"layer_realty_heatmap";case"realty_sublayers":return"layer_realty_sublayers";case"exchange":return"layer_exchange";case"roadAccident":return"layer_road_accident";case"tourism":return"layer_tourism";default:return"layer_photo"}}(d);(0,s.useEffect)((()=>{d&&p&&r===d&&"UA"!==u.defaultCountryCode&&(t&&l((0,o.m)({name:`_seen-${h}`,value:!0})),setTimeout((()=>{e.current&&l((0,a.I)({type:h,targetBoundingClientRect:e.current.getBoundingClientRect(),to:"bottomMiddle",offset:0}))}),2500))}),[p,h,e.current,d,t,u])}},31804:(e,t,r)=>{"use strict";r.d(t,{t:()=>v});var n=r(45537),s=r(10668),i=r(79417),a=r(5330),o=r(83390),c=r(97391),d=r(19463),l=r(56087),u=r(26074),p=r(74078),h=r(66325),g=r(8151),m=r(46584),f=r(80830);const v=(0,n.gQ)("updateLayer",(e=>{const{newLayer:t}=e;return(0,p.M)((0,a._N)((e=>e.appContext.activeLayer),(e=>(0,n.Rh)((r=>{if("realty"!==t||r.featureRealty)return(0,n.vP)(b({layer:e}),function(e){const{layer:t}=e;switch(t){case"realty":return(0,s.T)();case"exchange":return(0,u.E)();case"metro":case"photos":case"eta":case"parkings":case"tourism":return(0,n.vP)((0,f.v)(t),(0,o.t9)(t),(0,d.BN)(),(0,n.XJ)((0,c.D_)()));case"backTo2004":return(0,a._N)(h.n,(e=>e?(0,n.ZT)():(0,n.vP)((0,o.t9)("backTo2004"),(0,d.BN)(),(0,n.XJ)((0,c.D_)()))));case"roadAccident":return(0,a._N)(g.k2,(e=>e?(0,n.vP)((0,m.Dz)({id:e,searchId:void 0}),(0,o.t9)(t),(0,n.XJ)((0,c.D_)())):(0,n.vP)((0,o.t9)(t),(0,n.XJ)((0,c.D_)()))));default:return}}({layer:t}))})))))})),b=(0,n.gQ)("switchOff",(e=>{const{layer:t}=e;if(!t)return(0,n.ZT)();switch(t){case"eta":case"metro":case"photos":case"parkings":case"backTo2004":case"roadAccident":case"tourism":return(0,o.u$)();case"exchange":case"realty":return(0,n.vP)((0,i.xO)(),(0,n.Mf)((0,l.xU)({suggesterKey:"primary",query:void 0}),(0,l.xU)({suggesterKey:"inbuilding",query:void 0})));default:return(0,n.ZT)()}}))},4816:(e,t,r)=>{"use strict";r.d(t,{W:()=>a,r:()=>i});var n=r(88240),s=r(50419);const i=(e,t)=>({bssOnFeedbackClick(){e((0,n.zs)({uiElement:{name:"feedbackButton",ownerName:"dashboard",frameUuid:t.ownerFrameId},action:"tap"}))}}),a=()=>({frameId:e},t)=>(0,s.x)({state:t,name:"dashboardFrame",uuid:e})},67242:(e,t,r)=>{"use strict";r.d(t,{Y:()=>h});var n=r(52322),s=r(2784),i=r(26789),a=r(20718),o=r(31567),c=r(26354),d=r(88240),l=r(5330);var u=r(6989);class p extends s.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,n.jsx)(a.r,{color:o.O.gray_262626}),this.handleClick=()=>{this.props.bssOnClick(),this.props.onClick()}}render(){return(0,n.jsx)(i.M,{icon:this.renderIcon,title:this.props.i18n.tp._t("Избранное"),onClick:this.handleClick,dataT:"favorite"})}}const h=(0,u.$)()((0,c.z)(void 0,(e=>({bssOnClick(){e((0,l._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,d.zs)({uiElement:{name:"favoritesIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))(p))},92959:(e,t,r)=>{"use strict";r.d(t,{C:()=>w});var n=r(52322),s=r(2784),i=r(21578),a=r(78535),o=r(4279),c=r(17442),d=r(35608),l=r(27215),u=r(5330),p=r(60618),h=r(14706),g=r(45537),m=r(31567),f=r(65632),v=r(29397),b=r(85251),y=r(28108),x=r(74215),j=r(42034);const w=(0,s.memo)((()=>{const{s:e,css:t}=(0,a.y)(I),{_t:r}=(0,c.T)(),o=(0,l.I0)(),d=(0,y.W)({type:"catalogSearch",query:r("Премия 2ГИС")}),{bssRef:m,useBssHandler:f}=(0,x.T)((0,j.H)({code:"award2022",position:1})),b=f(j.Y,{code:"award2022",position:1}),w=r("Премия 2ГИС"),C=(0,s.useCallback)((()=>{o((0,g.xJ)((e=>(0,u.zh)((t=>(0,p.gB)({query:w,viewpoint:t,regionId:(0,h.k)(e)})))))),b()}),[o,w,b]);return(0,n.jsx)("div",Object.assign({ref:m,className:t(e.root)},{children:(0,n.jsxs)(i.Z,Object.assign({href:d,onClick:C},{children:[(0,n.jsx)("p",Object.assign({className:t(e.title)},{children:r("Премия 2ГИС 2022")})),(0,n.jsx)(v.N,{children:(0,n.jsx)("p",Object.assign({className:t(e.description)},{children:r("Лучшие заведения города — выбор пользователей")}))})]}))}))})),I=(0,a.k)((({mobile:e})=>({root:{display:"block",height:e?56:"100%",padding:e?"18px 16px":16,boxSizing:"border-box",backgroundSize:"cover",borderRadius:b.E0.default,backgroundImage:`url(/public/promo2gisAwards2022/promo-${e?"small":"large"}.png)`,[`@media (max-height: ${o.rP}px)`]:{height:56,padding:"18px 16px",backgroundImage:"url(/public/promo2gisAwards2022/promo-small.png)"}},title:Object.assign(Object.assign({},d.hC),{marginBottom:8,color:m.O.white,"&:hover, &:focus":{color:m.O.white}}),description:Object.assign(Object.assign({},d.oN),{maxWidth:160,color:(0,f.j)(m.O.white,.7),"&:hover, &:focus":{color:(0,f.j)(m.O.white,.7)},[`@media (max-height: ${o.rP}px)`]:{display:"none"}})})))},42034:(e,t,r)=>{"use strict";r.d(t,{H:()=>s,Y:()=>i});const n=e=>{switch(e){case"interesting":return"interestingIcon";case"guidebook":return"guidebookIcon";case"award2019":return"awardsIcon";case"realty":return"realtyIcon";case"award2022":return"award2gisIcon";default:return}},s=e=>({frameId:t})=>{const{code:r,position:s}=e,i=n(r);if(i)return{uiElement:{name:i,ownerName:"dashboardFrame",frameUuid:t,position:s}}},i=e=>({frameId:t})=>{const{code:r,position:s}=e,i=n(r);if(i)return{uiElement:{name:i,ownerName:"dashboardFrame",frameUuid:t,position:s},action:"tap"}}},53832:(e,t,r)=>{"use strict";r.d(t,{q:()=>h});var n=r(52322),s=r(2784),i=r(26789),a=r(38895),o=r(6989),c=r(68402),d=r(26354),l=r(88240),u=r(5330);class p extends s.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,n.jsx)(a.g,{}),this.handleClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(),this.props.bssOnClick()}}render(){return(0,n.jsx)(c.E,Object.assign({type:"rubrics"},{children:e=>(0,n.jsx)(i.M,{href:e,icon:this.renderIcon,title:this.props.i18n.tp._t("Рубрики"),onClick:this.handleClick,dataT:"rubricator"})}))}}const h=(0,d.z)(void 0,(e=>({bssOnClick(){e((0,u._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,l.zs)({uiElement:{name:"rubricatorIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))((0,o.$)()(p))},78941:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(87682);const s=()=>(0,n.mk)("openFavorites")},24395:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r(45537),s=r(84304),i=r(82603),a=r(19463);const o=(0,n.gQ)("openDeliveryOrderPopup",(({productId:e,entityId:t,source:r})=>(0,a.BN)((0,s.Mw)({id:(0,i.by)(),type:"deliveryOrder",productId:e,entityId:t,source:r}))))},22200:(e,t,r)=>{"use strict";r.d(t,{b:()=>v});var n=r(79417),s=r(82603),i=r(4279);var a=r(45537),o=r(95006),c=r(38334),d=r(79225),l=r(37189);var u=r(54433),p=r(23617),h=r(8173),g=r(12369),m=r(33686),f=r(80846);function v(e={}){var t;const r=(0,s.by)(),v=(0,s.by)(),b=function(e){switch(e){case"car":case"truck":case"bus":case"pedestrian":return e;default:return i.QZ}}(e.tab),y=function(e){const t=Math.max(0,i.Kr-e.length);return(t?e.concat(Array(t).fill(void 0)):e.slice(0,i.MT)).map((e=>(0,l.z)(e)))}(e.points||[]),x=(0,u.D)(y)?y:void 0,j=(0,u.D)(y)?(0,s.by)():void 0,{filterValues:w}=e,I=null===(t=(0,f.h)())||void 0===t?void 0:t.ppng,C={[b]:w};return C.truck=C.truck||I,(0,a.vP)((0,n.Jt)({id:r,type:"directions",statusId:v,tab:b,points:y,searchId:(0,d.Ue)(j),filterValuesByTab:C,filterPanelState:(0,s.xb)(w)?"manuallyClosed":"auto",isPpngSelected:"truck"===b}),(0,a.Mf)(!!j&&!!x&&(0,a.vP)((0,o.w)(),(0,c.p)({searchId:j})),(0,h.g)({tab:b}),...y.map(p.A),(0,g.q)()),(0,m.x)())}},74783:(e,t,r)=>{"use strict";r.d(t,{B7:()=>a,RP:()=>d,SI:()=>o,eH:()=>c});var n=r(24626),s=r(40889),i=r(66551);function a(e){return"directions"===e.type}function o(e){const t=(0,s.t0)(e.appContext.frames,"directions");return t&&a(t)?t:void 0}const c=(0,n.F)(a),d=(0,i.r)(a)},60102:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(86936),s=r(8151),i=r(74783),a=r(45632);const o=e=>{var t;const r=(0,i.SI)(e);if(!r||"car"===r.tab||"truck"===r.tab)return(0,s.SJ)(e);const o=(0,a.r)(r);if(!o)return(0,s.SJ)(e);const c=null===(t=(0,n.cx)({searchId:o,state:e}))||void 0===t?void 0:t.data;return c&&"projectCode"in c?c.projectCode:(0,s.SJ)(e)}},95006:(e,t,r)=>{"use strict";r.d(t,{w:()=>v});var n=r(5163),s=r(51291),i=r(1388),a=r(41510),o=r(22298),c=r(5330),d=r(93331),l=r(62220),u=r(74783),p=r(79225),h=r(54433),g=r(60102),m=r(42608),f=r(8151);function v(){return(0,c.gF)({locale:d.O,viewpoint:l.Id,zoom:e=>e.appContext.zoom,frame:u.SI,profile:e=>e.data.entity.profile,region:e=>(0,f.mI)({state:e,code:(0,g.Z)(e)||""})},(({locale:e,viewpoint:t,zoom:r,frame:c,profile:d,region:l})=>{if(!c)return;const{tab:u,searchId:g,points:f,filterValuesByTab:v}=c,b=v[u],y=(0,p.sG)(g),x=(0,m.n)(f,u),j=(0,h.D)(x)?x.map((e=>{var t,r;const{entityId:s}=e,i=(0,n._T)(e,["entityId"]),a=s?null===(t=d[s])||void 0===t?void 0:t.data:void 0;if(!s||!a)return i;return"group"in a&&(null===(r=a.group)||void 0===r?void 0:r.some((e=>"adm_div"===e.type&&"place"===e.subtype)))?i:e})):void 0;if(y&&j)switch(u){case"car":return(0,i.b)({searchId:y,points:j,locale:e,viewpoint:t,zoom:r});case"truck":return(0,a.Y)({searchId:y,locale:e,points:j,viewpoint:t,zoom:r,filterValues:b});case"bus":if(!(null==l?void 0:l.flags.public_transport))return;return(0,s.i)({searchId:y,projectCode:l.code,points:j,locale:e,viewpoint:t,zoom:r,filterValues:b});case"pedestrian":if(!l)return;return(0,o.U)({searchId:y,projectCode:l.code,points:j,locale:e,viewpoint:t,zoom:r})}}))}},8173:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(5330),s=r(86936),i=r(14995),a=r(45537),o=r(35795),c=r(60102),d=r(8151);function l({tab:e}){return"bus"!==e?(0,a.ZT)():(0,n._N)((e=>(0,d.mI)({state:e,code:(0,c.Z)(e)||""})),(e=>(null==e?void 0:e.flags.public_transport)?(0,o.D)((0,s.UE)(e.code),(0,i.y)({projectCode:e.code})):(0,a.ZT)()))}},23617:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(45537),s=r(8151),i=r(46584),a=r(51665),o=r(64273),c=r(13204),d=r(79148),l=r(5330);function u(e){if((0,c.j)(e)||(0,d.Sb)(e))return(0,n.ZT)();const{lonLat:t,searchId:r,entityId:u}=e;return(0,l._N)((e=>(0,a.u5)({state:e,searchId:r,entityId:u})),(e=>e&&e.meta&&"error"!==e.meta.status?(0,n.ZT)():u?(0,o.DZ)({id:u,searchId:r,clickPoint:t}):(0,l.gF)({zoom:e=>e.appContext.zoom,is3dEnabled:e=>e.session.is3dEnabled,projectId:s.yH},(({zoom:e,is3dEnabled:n,projectId:s})=>!!e&&(0,l.zh)((a=>(0,i.I5)({point:t,searchId:r,viewpoint:a,is3dEnabled:n,zoom:Math.ceil(e),regionId:s||"0"})))))))}},38334:(e,t,r)=>{"use strict";r.d(t,{p:()=>h});var n=r(45537),s=r(5330),i=r(86936),a=r(59682),o=r(62220),c=r(88850),d=r(24973),l=r(64301);function u(e){switch(e.type){case"ppna":case"ppng":case"pedestrian":return function(e){let t=[];return e.forEach((e=>{e.begin_pedestrian_path&&(t=t.concat(p(e.begin_pedestrian_path.geometry.selection))),(e.maneuvers||[]).forEach((e=>{const r=e.outcoming_path&&e.outcoming_path.geometry;r&&r.forEach((e=>{t=t.concat(p(e.selection))}))})),e.end_pedestrian_path&&(t=t.concat(p(e.end_pedestrian_path.geometry.selection)))})),t}(e.items);case"ppnot":return function(e){let t=[];return e.forEach((e=>{e.movements.forEach((e=>{(e.alternatives?e.alternatives[0].geometry.map((e=>e.selection)):[]).forEach((e=>{t=t.concat(p(e))}))}))})),t}(e.items)}}function p(e){const t=(0,l.h_)(e);return t&&t.length?t.map((e=>[e.lon,e.lat])):[]}const h=(0,n.gQ)("fitDirectionsSearchInMapView",(({searchId:e,movementId:t,directionId:r})=>(0,s._N)((t=>(0,i.cx)({searchId:e,state:t})),(e=>{if(!e)return;const{data:n,meta:i}=e;return i&&"success"===i.status&&n?(0,s._N)((e=>function({directionsData:e,state:t,routeId:r,movementId:n}){const s=(0,o.v9)(t);let i;if(r&&n){if("ppnot"!==e.type)return;const t=e.items.filter((e=>e.id===r)),s=t[0].movements.filter((e=>e.id===n)),a=[Object.assign(Object.assign({},t[0]),{movements:s})];i=u(Object.assign(Object.assign({},e),{items:a}))}else i=u(e);if(!i.length)return;const a=(0,c.o)(t.session.screen,s),l=(0,d.getCenterZoomByPoints)(i,t.appContext.rotation,[a.width,a.height]);return l?{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom-.2,16)}:void 0}({directionsData:n,state:e,routeId:r,movementId:t})),(e=>e&&(0,a.Nr)(e))):void 0}))))},12369:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(45537),s=r(32312),i=r(74783),a=r(25278);function o(){return(0,n.xJ)((e=>{const t=e.appContext.frames[0];if("directions"!==t.type)return;let r=!1;const n=t.points.map((t=>{if(t&&"point"===t.type&&!t.entityId){const n=(0,s.bx)({state:e,searchId:t.searchId});if(n!==a.k8)return r=!0,Object.assign(Object.assign({},t),{entityId:n})}return t}));return r?(0,i.eH)(t.id,(e=>Object.assign(Object.assign({},e),{points:n}))):void 0}))}},19671:(e,t,r)=>{"use strict";r.d(t,{R:()=>x});var n=r(45537),s=r(95006),i=r(38334),a=r(74783),o=r(79417),c=r(82603),d=r(79225),l=r(5330);var u=r(54433),p=r(23617),h=r(8173),g=r(19463),m=r(12369),f=r(42608),v=r(44390),b=r(13204),y=r(33686);function x({frameId:e,tab:t,framePoints:r,filterValues:x,filterPanelState:j,dontClearEmptyAdditional:w,skipHistoryPush:I}){const C=r.length>v.Kr&&!w&&(0,b.j)(r[r.length-1])?r.slice(0,r.length-1):r,O=(0,f.n)(C,t),_=(0,u.D)(O)?(0,c.by)():void 0;return(0,n.vP)(!I&&(0,g.BN)(),(0,a.eH)(e,(e=>Object.assign(Object.assign({},e),{tab:t,points:C,searchId:_?(0,d.gg)(e.searchId,_):(0,d.Ue)(void 0),activeDirectionId:void 0,filterValuesByTab:x?Object.assign(Object.assign({},e.filterValuesByTab),{[t]:x}):e.filterValuesByTab,filterPanelState:j||e.filterPanelState,isPpngSelected:"truck"===t||"car"!==t&&e.isPpngSelected}))),(0,o.P2)({id:e}),(0,n.Mf)(!!_&&(0,n.vP)((0,s.w)(),function({frameId:e,searchId:t}){return t?(0,l.WW)(e,a.B7,(r=>(0,d.sG)(r.searchId)===t&&(0,a.eH)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,d._e)(e.searchId)}))))):(0,n.ZT)()}({frameId:e,searchId:_}),(0,i.p)({searchId:_})),(0,h.g)({tab:t}),...C.map((e=>(0,p.A)(e))),(0,m.q)()),(0,y.x)())}},33686:(e,t,r)=>{"use strict";r.d(t,{x:()=>u});var n=r(45537),s=r(40889),i=r(8151),a=r(74783),o=r(51665);var c=r(78621),d=r(5330),l=r(57451);const u=(0,n.gQ)("updatePpngFiltersAvailability",(()=>(0,n.Rh)((({featureFullCoveragePPNG:e})=>(0,n.xJ)((t=>{const r=(0,s.t0)(t.appContext.frames,"directions");if(!r||!p(r))return(0,n.ZT)();if(e)return(0,a.eH)(r.id,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})));const u=[...r.points.map((e=>{var r;return"point"===(null==e?void 0:e.type)&&e.entityId?null===(r=(0,o.nM)({state:t,entityId:e.entityId}).data)||void 0===r?void 0:r.region_id:void 0})),(0,i.yH)(t)].map((e=>function(e,t){if(!e)return;return(0,a.RP)((r=>p(r)?(0,n.vP)((0,n.xJ)((t=>(0,l.sz)(t,e))),(0,d._N)((t=>{var r;return null===(r=(0,c.D4)({state:t,id:e}))||void 0===r?void 0:r.data}),(e=>function(e){return!!e&&!!e.flags.truck_graph}(e)&&(0,a.eH)(t,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})))))):(0,n.ZT)()))}(e,r.id)));return(0,n.vP)(...u)}))))));function p(e){return e&&["car","truck"].includes(e.tab)&&!e.isPpngFiltersAvailable}},19447:(e,t,r)=>{"use strict";r.d(t,{r:()=>d});var n=r(82603),s=r(19888),i=r(20115),a=r(4279),o=r(13204),c=r(79148);function d(e,t,r){if((0,o.j)(e)){if(!(0,n.$K)(r))return;return t.length>a.Kr?(0,i.O)(t,r):(0,s.g)(t,void 0,r)}const c=(0,n.$K)(r)?r:t.findIndex(o.j);if(c<0)return;let d=t;l(e,t[c-1])&&(d=(0,s.g)(d,void 0,c-1));return l(e,t[c+1])&&(d=(0,s.g)(d,void 0,c+1)),(0,s.g)(d,e,c)}function l(e,t){return!(0,o.j)(e)&&!(0,o.j)(t)&&(!(!(0,c.Sb)(e)||!(0,c.Sb)(t))||!(0,c.Sb)(e)&&!(0,c.Sb)(t)&&(e.entityId===t.entityId&&e.lonLat.lon===t.lonLat.lon&&e.lonLat.lat===t.lonLat.lat))}},37189:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var n=r(82603),s=r(79148);function i(e,t){return e?(0,s.Sb)(e)?e:Object.assign(Object.assign({},e),{searchId:t||(0,n.by)()}):void 0}},95274:(e,t,r)=>{"use strict";function n(e){return"car"===e||"pedestrian"===e}r.d(t,{M:()=>n})},54433:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(4279),s=r(13204);function i(e){const t=e.reduce(((e,t)=>{if((0,s.j)(t))return e;const r=t.lonLat;return r?e.concat({type:"point",lonLat:r,entityId:"entityId"in t?t.entityId:void 0}):e}),[]);return t.length===e.length&&t.length>=n.Kr}},13204:(e,t,r)=>{"use strict";function n(e){return!e}r.d(t,{j:()=>n})},80846:(e,t,r)=>{"use strict";r.d(t,{f:()=>a,h:()=>i});var n=r(64841);const s="pp_filters",i=()=>{if("undefined"==typeof window)return;const e=n.tO.local.getItem(s);return e?JSON.parse(e):void 0},a=e=>{"undefined"!=typeof window&&n.tO.local.setItem(s,JSON.stringify({ppng:e}))}},42608:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(95274),s=r(4279);function i(e,t){return e.length<=s.Kr||(0,n.M)(t)?e:[e[0],e[e.length-1]]}},20887:(e,t,r)=>{"use strict";r.d(t,{b:()=>p});var n=r(45537),s=r(84304),i=r(5330),a=r(42461),o=r(27087),c=r(82603),d=r(7537),l=r(3965),u=r(89003);const p=(0,n.gQ)("openEditFavorite",(e=>(0,i._N)(h(e),(t=>(0,s.Mw)(Object.assign(Object.assign({},t),{id:(0,c.by)(),type:"editFavorite",item:e})))))),h=e=>t=>{const r={},n=(0,l.eb)(t),s=(0,l.M6)(t),i=(0,u.w)(null==n?void 0:n.point,e.point)||(null==n?void 0:n.object_id)===e.object_id,c=(0,u.w)(null==s?void 0:s.point,e.point)||(null==s?void 0:s.object_id)===e.object_id;return(0,o.s0)((0,a.tV)(t)).forEach((t=>{if(t&&"favorite"===t.type&&(0,d.G)(t,e)){const e=t.collection_id;e&&(r[e]=!0)}})),{collectionsInitial:r,collectionsCurrent:r,homeInitial:i,workInitial:c,homeCurrent:void 0,workCurrent:void 0}}},1312:(e,t,r)=>{"use strict";r.d(t,{_:()=>c,j:()=>d});var n=r(48472),s=r(83466),i=r(40889),a=r(61525),o=r(15057);const c=({ownerFrameId:e},t)=>{const r=(0,i.iF)(t.appContext.frames,e);if(!r||"entity"!==r.type)return void(0,s.H)({message:"Попытка показать фрейм, которого нет",level:"warn",id:"iq3n4",payload:{type:"debug",subtype:"InconsistentState",data:t.appContext.frames.map((e=>e.type)).reverse().join(";")||"dashboard"}});const c=(0,o.b1)(t),d=(0,n.s)({state:t,entityFrameId:e});d||(0,s.H)({message:"Не удалось сформировать payload для события показа полной карточки организации placeCardFull",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,i.iF)(t.appContext.frames,e))}});const l=(null==d?void 0:d.entity.id)?a.Mu.get()[(0,a.ul)({entityId:d.entity.id,userId:c})]:void 0,u=l?{hasNote:!!l}:void 0;return{uiElement:{name:"placeCardFull",frameUuid:e},payload:{placeItem:d?Object.assign(Object.assign({},d),{adsId:void 0}):void 0,noteItem:u}}},d=e=>({frameId:t},r)=>{const{id:s,name:i,ownerName:a}=e;return{uiElement:{name:"award2gisLink",ownerName:a,frameUuid:t},payload:{placeItem:(0,n.s)({state:r,entityFrameId:t}),awardItem:{id:s,name:i,achieved:!0}}}}},96555:(e,t,r)=>{"use strict";r.d(t,{l:()=>p});var n=r(52322),s=r(31567),i=r(78535),a=r(74215),o=r(1312),c=r(2784),d=r(17442),l=r(49147),u=r(35608);const p=(0,c.memo)((({id:e,name:t,ownerName:r,chip:s})=>{const{s:c,css:u}=(0,i.y)(h),{_t:p}=(0,d.T)(),{bssRef:g}=(0,a.T)((0,o.j)({id:e,name:t,ownerName:r}));return(0,n.jsxs)("div",Object.assign({ref:g,className:u(c.root,s&&c._chip)},{children:[(0,n.jsx)(l.p,{}),(0,n.jsx)("span",Object.assign({className:u(c.text)},{children:p("Премия 2ГИС")}))]}))}));p.displayName="AwardsLabel";const h=(0,i.k)({root:{display:"flex",alignItems:"center"},_chip:{paddingTop:7,paddingBottom:9,paddingInlineStart:10,paddingInlineEnd:14,backgroundColor:s.O.gray_f2f2f2,borderRadius:8},text:Object.assign(Object.assign({},u.yG),{marginInlineStart:4,color:s.O.gray_262626})})},48833:(e,t,r)=>{"use strict";r.d(t,{P:()=>u});var n=r(2784),s=r(27215),i=r(54722),a=r(15478),o=r(46017),c=r(6511),d=r(2968);const{use:l}=(0,d.r)("Place Dynamic Congestion",(e=>({services:t})=>{const{id:r}=e;return r?t.congestionApi.getCongestion({id:r}):void 0})),u=e=>{var t,r;const{entity:d,refetchOnMount:u=!1}=e,{featurePlaceCongestion:p}=(0,i.Z)(),h=(0,s.v9)((e=>e.session.time)),g=d?(0,o.d)(d):void 0,{localHour:m,localDay:f}=g?(0,c.E)(h,g):{localHour:void 0,localDay:void 0},v=p&&d&&"congestion"in d?d.congestion:void 0,b=(0,n.useMemo)((()=>v?(0,c.si)(v):void 0),[v]),y=f&&m?null===(r=null===(t=null==b?void 0:b[f])||void 0===t?void 0:t[m])||void 0===r?void 0:r.value:void 0,x=p&&!!y&&!!d&&"has_dynamic_congestion"in d&&!!d.has_dynamic_congestion,{data:j,isLoading:w}=l({id:x?null==d?void 0:d.id:void 0},{refetchOnMount:u});return{dynamicValue:null==j?void 0:j.value,currentCongestion:b?(0,a.b)(y):void 0,staticData:b,isLoading:w}}},6511:(e,t,r)=>{"use strict";r.d(t,{si:()=>m,Zl:()=>l,Eb:()=>p,q7:()=>h,E:()=>g,YQ:()=>u});var n=r(52322),s=r(31567);function i({color:e=s.O.gray_e6e6e6}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"m10.758 6.03-.273-1.09a1.562 1.562 0 1 1 3.03 0l-.273 1.09a1.28 1.28 0 0 1-2.485 0ZM10 20v-5H9a1 1 0 0 1-1-1v-4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a1 1 0 0 1-1 1h-1v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1Z",fill:e})}))}function a({color:e=s.O.gray_e6e6e6}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"m4.485 4.94.272 1.09a1.28 1.28 0 0 0 2.486 0l.272-1.09a1.562 1.562 0 1 0-3.03 0ZM4 15v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1ZM10.485 4.94l.273 1.09a1.28 1.28 0 0 0 2.485 0l.272-1.09a1.562 1.562 0 1 0-3.03 0ZM10 16.83V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2h-2v6a3.001 3.001 0 0 1-2 2.83ZM16.485 4.94l.273 1.09a1.28 1.28 0 0 0 2.485 0l.272-1.09a1.562 1.562 0 1 0-3.03 0ZM16 16.83V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2h-2v6a3.001 3.001 0 0 1-2 2.83Z",fill:e})}))}function o({color:e=s.O.gray_e6e6e6}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"m7.485 4.94.272 1.09a1.28 1.28 0 0 0 2.486 0l.272-1.09a1.562 1.562 0 1 0-3.03 0ZM7 15v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5h1a1 1 0 0 0 1-1v-4a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v4a1 1 0 0 0 1 1h1ZM13.758 6.03l-.273-1.09a1.562 1.562 0 1 1 3.03 0l-.273 1.09a1.28 1.28 0 0 1-2.485 0ZM13 20v-3.17A3.001 3.001 0 0 0 15 14V8h2a2 2 0 0 1 2 2v4a1 1 0 0 1-1 1h-1v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1Z",fill:e})}))}var c=r(29714),d=r(65632);const l=e=>e>=8?s.O.red_fe5000:e>=5?s.O.yellow_ffb81c:e>=1?s.O.green_30ad00:void 0,u=e=>{const{value:t,day:r,tp:n}=e;if(t&&t>=8)return n._t("Много посетителей");if(t&&t>=5)return n._t("Среднее число посетителей");if(t&&t>=1)return n._t("Мало посетителей");let s;switch(r){case"mon":s=n._t("понедельникам");break;case"tue":s=n._t("вторникам");break;case"wed":s=n._t("средам");break;case"thu":s=n._t("четвергам");break;case"fri":s=n._t("пятницам");break;case"sat":s=n._t("субботам");break;case"sun":s=n._t("воскресеньям");break;default:return}return n._t("Загруженность по %1",[s])},p=e=>{const{tp:t,lang:r,hasDynamicData:n,localDay:s,selectedDay:i,selectedHour:a,isWorkingDay:o,isWorkingHour:c,isDayChanging:d,isCurrentHourSelected:l}=e;if(n&&l)return t._t("Прямо сейчас");if(a){const e="en"===r?`${a%12} ${a>=12?"pm":"am"}`:`${a}:00`;return t._t("Обычно в %1",[e])}return o&&(c||d)?t._t("Выберите час, чтобы узнать точнее"):i===s?t._t("Сейчас закрыто"):t._t("Закрыто")},h=e=>{const{value:t,hasSelectedHour:r,isLoading:c,isWorkingDay:u,isDayChanging:p}=e;let h;return h=c?s.O.gray_929292:!r&&u&&p?(0,d.j)(s.O.blue_028eff,.2):l(t||0),t&&t>=8?(0,n.jsx)(a,{color:h}):t&&t>=5?(0,n.jsx)(o,{color:h}):(0,n.jsx)(i,{color:h})};function g(e,t){const r=(0,c.t)(e,t);return{localDay:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(r).toLowerCase(),localHour:r.getHours()}}function m(e){return Object.keys(e).reduce(((t,r)=>{const n=e[r];for(const[e,s]of Object.entries(n))for(const n of s){const s=e.toLowerCase();t[s]=Object.assign(Object.assign({},t[s]),{[n]:{value:+r}})}return t}),{})}},73226:(e,t,r)=>{"use strict";r.d(t,{P:()=>p});var n=r(45537),s=r(51665),i=r(77752),a=r(21458),o=r(97391),c=r(42436),d=r(90495),l=r(59055),u=r(52781);function p(e){return(0,n.Mf)((0,o.nc)(["Beta","Card_flight_around","Click"]),(0,n.xJ)((t=>{const{rotation:r,zoom:n,pitch:o}=t.appContext;if(!t.session.is3dEnabled)return;const p=function(e){const t=e.appContext.frames[0];switch(t.type){case"entity":return(0,s.wj)({state:e,entityId:t.entityId});case"realtyCard":{const t=(0,d.W)(e);if(!t)return;return(0,s.wj)({state:e,entityId:t})}}return}(t);if(!p||!p.data)return;const h=(0,i.B)({entity:p.data,state:t});if(!h)return;const g=[{main:[{zoom:17,duration:c.Ek,pitch:45,center:[h.lon,h.lat]}]},{main:[{rotation:r-150,duration:c._I/2,easing:"easeInSine"}]},{main:[{rotation:r-300,duration:c._I/2,easing:"easeOutSine"}]},{main:[{zoom:n,duration:c.Ek,rotation:r,pitch:o}]}];return(0,a.I)(e,g),(0,l.a)((0,u.kG)({isMinimized:!0}))})))}},42436:(e,t,r)=>{"use strict";r.d(t,{Kc:()=>j,_I:()=>v,Ek:()=>b});var n=r(52322),s=r(2784),i=r(6989),a=r(41996);const o=(0,r(37144).P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),c=(0,a.X1)(((e,t)=>o({state:e,props:t})));var d=r(73226);const l=(0,a.Z3)((e=>({onClick:()=>e((0,d.P)(e))})));var u=r(45554),p=r(49765),h=r(26354),g=r(88240),m=r(48472),f=r(5330);const v=4e3,b=1e3,y=v+2*b;class x extends s.PureComponent{constructor(){super(...arguments),this.state={isDisabled:!1},this.handleClick=()=>{this.setState({isDisabled:!0}),this.props.onClick(),this.props.bssOnFlightAroundClick(),setTimeout((()=>this.setState({isDisabled:!1})),y)}}render(){const{i18n:{tp:e},is3d:t}=this.props;return t?(0,n.jsx)(p.z,Object.assign({appearance:"default",compact:!0,onClick:this.handleClick,disabled:this.state.isDisabled},{children:e._t("Рассмотреть")})):null}}x.displayName=(0,u.I)("src/modules/entity/containers/content/containers/flightAround");const j=(0,h.z)(void 0,((e,{ownerFrameId:t,ownerName:r})=>({bssOnFlightAroundClick(){e((0,f._N)((e=>(0,m.s)({state:e,entityFrameId:t})),(e=>{if("TODO_REALTY_BSS_FAKE_OWNER_NAME_FOR_ADDRESS"===r)return;const n={uiElement:{name:"descry",ownerName:r,frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,g.zs)(n)})))}})))((0,a.$j)(c,l)((0,i.$)()(x)))},75641:(e,t,r)=>{"use strict";r.d(t,{C3:()=>u,Eg:()=>l,hp:()=>g,pm:()=>p});var n=r(5163),s=r(2968),i=r(37144),a=r(51665),o=r(62220),c=r(40889),d=r(61624);const l=12,{use:u,prefetch:p,withQueryState:h}=(0,s.H)("realty-tab-search",(e=>[[e.geo_id,e.locale,e.category_ids,e.filters],({services:t,context:r})=>(0,n.mG)(void 0,void 0,void 0,(function*(){return yield t.marketApi.getRealtyItems(Object.assign(Object.assign({},e),{page:Number(r.pageParam)||1,pageSize:l}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:(e,t)=>l*(t.length-1)+e.items.length<e.total?t.length+1:void 0}),g=(0,i.P1)([e=>{var t;const r=null===(t=(0,c.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId;return r?(0,a.nM)({state:e,entityId:r}).data:void 0},o.Id,e=>{var t;return null===(t=(0,c.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.tabRealty}],((e,t,r)=>{const n=(0,d.V)(e);if(n&&t)return{viewpoint:t,locale:"ru_RU",geo_id:n,category_ids:null==r?void 0:r.currentCategoryValue,filters:null==r?void 0:r.currentFiltersValues}}))},99426:(e,t,r)=>{"use strict";r.d(t,{U:()=>x});var n=r(52322),s=r(2784),i=r(49765),a=r(30007),o=r(17442),c=r(15057),d=r(27215),l=r(74215),u=r(66784),p=r(93917),h=r(8996),g=r(93527),m=r(51665),f=r(11890),v=r(42833),b=r(40889),y=r(40743);const x=s.memo((e=>{const t=(0,d.v9)((e=>(0,c.zP)(e)?"unknown":(0,c.Pc)(e)?"loggedIn":void 0)),r=(0,d.v9)((t=>(0,m.nM)({state:t,entityId:e.entityId}).data)),s=(0,d.v9)((0,c.Mq)(e.entityId)),i=(0,h.W)(s)||(0,p.hg)(s);return!!r&&(0,f.t)(r)||"unknown"===t||"loggedIn"===t&&i?null:(0,n.jsx)(j,Object.assign({},e))}));x.displayName="UgcReviewButton";const j=e=>{const t=(0,o.T)(),{entityId:r,searchId:p,isRealty:h=!1}=e,m=(0,d.v9)((0,c.C6)(r)),{useBssHandler:f}=(0,l.T)(),v=f(w,m),b=(0,g.A)(u.B,{entityId:r,searchId:p,userPinnedReviewId:m}),y=s.useCallback((()=>{h||v(),b()}),[m]);return(0,n.jsx)("div",Object.assign({},a.dx.n("wat-reviews-add-button"),{children:(0,n.jsx)(i.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:y},{children:m?t._t("Редактировать отзыв"):t._t("Написать новый отзыв")}))}))},w=e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"addReview",ownerName:"cardReviews",frameUuid:t},action:"tap"};const n=(0,v.Tt)({state:r,id:e}).data,s=(0,b.iF)(r.appContext.frames,t);if(!s||!n)return;const i="entity"===s.type||"unconfirmedReviews"===s.type?s.entityId:n.object.id,a=(0,m.nM)({state:r,entityId:i}).data;return(0,y.h)({review:n,frameId:t,orgId:"branch"===(null==a?void 0:a.type)?a.org.id:void 0,ownerName:"cardReviews"})}},66784:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(82603),s=r(84304);function i(e){return e.userPinnedReviewId?(0,s.Mw)({id:(0,n.by)(),type:"editReview",reviewId:e.userPinnedReviewId,entityId:e.entityId,searchId:e.searchId}):(0,s.Mw)({id:(0,n.by)(),type:"createReview",temporaryId:(0,n.by)(),entityId:e.entityId,searchId:e.searchId})}},57773:(e,t,r)=>{"use strict";r.d(t,{f:()=>s});var n=r(54682);function s({activeDirectionId:e,frameId:t}){return(0,n.me)(t,(t=>Object.assign(Object.assign({},t),{activeDirectionId:e})))}},85176:(e,t,r)=>{"use strict";r.d(t,{I:()=>d});var n=r(45537),s=r(19463),i=r(39461),a=r(40783),o=r(79417),c=r(61624);function d(e){const{entity:t,tab:r,frame:d}=e;return(0,n.vP)((0,s.BN)(),(0,o.P2)({id:d.id}),(0,i.Sb)({entityId:t.id,frameId:d.id,tab:r,searchId:(0,a.l)(d,r),buildingId:(0,c.V)(t),tabQuery:"inside"===r&&d.tabInside?d.tabInside.query:void 0,filterValues:"inside"===r&&d.tabInside?d.tabInside.filterValues:void 0}))}},41374:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(45537),s=r(84304),i=r(82603);const a=(0,n.gQ)("openVideoPlayerByEntity",(({entityId:e,searchId:t,isFmcg:r})=>{const n=(0,i.by)();return(0,s.Mw)({id:n,type:"entityVideoPlayer",isPopupGlassDark:!0,entityId:e,searchId:t,isFmcg:r})}))},26074:(e,t,r)=>{"use strict";r.d(t,{E:()=>u});var n=r(45537),s=r(79417),i=r(82603),a=r(56087),o=r(19463),c=r(83390),d=r(5330);const l=(0,n.gQ)("openExchangeFrame",((e,t,r)=>(0,n.Rh)((c=>c.featureExchange?(0,n.vP)((0,d.gF)({zoom:e=>e.appContext.zoom,center:e=>e.appContext.center},(({zoom:n,center:a})=>(0,o.BN)((0,s.Jt)({type:"exchange",filterPanelState:"auto",id:(0,i.by)(),page:e||1,scrollId:(0,i.by)(),searchId:(0,i.by)(),zoom:n,center:a,action:null==r?void 0:r.action,currencyCode:null==r?void 0:r.currencyCode,volume:null==r?void 0:r.volume,filterValues:t})))),(0,a.xU)({suggesterKey:"primary",query:void 0})):(0,n.ZT)())))),u=(0,n.gQ)("openExchange",(()=>(0,n.Rh)((e=>e.featureExchange?(0,n.vP)((0,n.XJ)(l()),(0,c.t9)("exchange")):(0,n.ZT)()))))},47168:(e,t,r)=>{"use strict";function n(e){return"exchange"===e.type}r.d(t,{Q:()=>s,l:()=>n});const s=(0,r(24626).F)(n)},74757:(e,t,r)=>{"use strict";r.d(t,{x:()=>p});var n=r(5163);const s=(0,r(12563).createModel)("exchangeItems",(({services:e},t,r)=>({fetch(){return(0,n.mG)(this,void 0,void 0,(function*(){return r||(yield e.marketApi.getExchangeItems(t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var i=r(27215),a=r(85707),o=r(93331),c=r(47168),d=r(2784),l=r(62220);const u=12;function p(){const e=(0,i.v9)(o.O),t=(0,i.v9)((e=>e.appContext.frames.find(c.l))),r=(0,i.v9)(l.Id),n=(0,d.useMemo)((()=>r),[null==t?void 0:t.zoom,null==t?void 0:t.center,null==t?void 0:t.filterValues,null==t?void 0:t.action,null==t?void 0:t.volume,null==t?void 0:t.currencyCode,null==t?void 0:t.searchId]),p=(0,a.tT)(t?s({viewpoint:n,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode,page:t.page,page_size:u,frameId:t.id}):void 0),g=(0,d.useMemo)((()=>Object.assign(Object.assign({},p),{data:h(p.data)})),[p]);return"undefined"==typeof window?a._:g}const h=e=>{if(e)return Object.assign(Object.assign({},e),{pages:Math.ceil(e.total/u)})}},48878:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(1025);const s=e=>{if(!e)return;let t=String(e);if(!t.includes("."))return`${(0,n.D)(e)},00`;t=t.replace(".",",");const[r,s]=t.split(",");return`${(0,n.D)(parseInt(r))},${1===s.length?s+"0":s.slice(0,2)}`}},7219:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,q:()=>s});var n=r(48878);const s="--,--",i=({data:e,frame:t,short:r})=>{const{bid:s,offer:i,rate:o,total_amount:c}=e,{action:d}=t,l=o&&"buy"===d?o:i,u=o&&"sell"===d?o:s,p=(0,n.z)(l),h=(0,n.z)(u),g=(0,n.z)(c);if(!t.action)return[a({value:p,type:"buy"}),a({value:h,type:"sell"})];const m="buy"===t.action?p:h;return t.volume?r?[a({value:g,type:"result"})]:[a({value:m,type:t.action}),a({value:g,type:"result"})]:[a({value:m,type:t.action})]},a=e=>({type:e.type,value:e.value?e.value:s})},31446:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(45537),s=r(79417);const i=(0,r(66551).r)((function(e){return"userFriendsActivity"===e.type})),a=(0,n.gQ)("closeUserFriendsActivityFrame",(()=>i((e=>e?(0,s.hp)():(0,n.ZT)()))))},63025:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(41560);function s(e){const{error:t,isFetching:r,data:s}=e;return{meta:t?(0,n.UL)(t):r?n.qV:n.YR,data:s&&{items:s.items.map((e=>({data:e,meta:n.YR}))),total:s.total,pagesLoaded:1}}}},44995:(e,t,r)=>{"use strict";r.d(t,{l:()=>c});var n=r(45537),s=r(82603),i=r(90091),a=r(79417),o=r(65239);function c(e){const{entityId:t,searchId:r,entityType:c,photoId:d,photoAlbum:l}=e,u=(0,s.by)(),p="branch"===c?(0,i._V)({objectId:t}):(0,n.ZT)();return(0,n.Mf)((0,n.Rh)((({featureAlbumsCounts:e})=>!e&&"menu"!==c&&(0,o.J)({id:t,type:c}))),(0,n.Rh)((({featureAlbumsCounts:e})=>e&&p)),(0,a.Jt)({id:u,type:"gallery",entityType:c,photoId:d,entityId:t,searchId:r,photoAlbum:l}))}},95281:(e,t,r)=>{"use strict";r.d(t,{M8:()=>R,N6:()=>O,OF:()=>N,Rq:()=>F,VO:()=>P,W5:()=>L,Y8:()=>M,_X:()=>C,i2:()=>k,iQ:()=>S,jv:()=>T,pD:()=>_,qk:()=>z});var n=r(88240),s=r(32312),i=r(5330),a=r(50419),o=r(40889),c=r(3842),d=r(95429),l=r(83466),u=r(45537),p=r(23146),h=r(50306),g=r(82603),m=r(14897),f=r(93331),v=r(8151),b=r(43696),y=r(47168),x=r(56464),j=r(46356),w=r(37999),I=r(51665);const C=(e,t)=>(0,a.x)({state:t,name:"map",uuid:e.ownerFrameId});function O(){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:e})=>{const t={uiElement:{name:"favoritesMapIcon",ownerName:"map",frameUuid:e},action:"tap"};return(0,n.zs)(t)}))}function _(e,t){return(0,i.gF)({search:e=>(0,s.rO)({state:e,searchId:t.searchId}),mapUuid:e=>e.appContext.staticFrames.map.id},(({search:r,mapUuid:s})=>{var i,a;const o={uiElement:{name:"mapMarker",ownerName:E(e,r.data&&r.data.searchSourceType),frameUuid:s},action:"tap",payload:{mapMarker:{scale:(0,c.Z)(e.currentType),adsHighlight:"commercial"===e.type,hasLogo:!!(null===(a=null===(i=t.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.marker_logo)||void 0}}};return(0,n.zs)(o)}))}function k(e){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>({geoPosition:(0,p.a3)({lon:e.lonLat[0],lat:e.lonLat[1]}),entity:{type:"building",id:e.buildingId,segmentInfo:(0,m.U)({locale:(0,f.O)(t),region_id:(0,v.yH)(t)})}})},(({mapUuid:t,placeItem:r})=>{const s={uiElement:{name:"realtyMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{placeItem:r,mapMarker:{scale:(0,c.Z)(e.currentType),mapLayer:"realtyLayer"}}};return(0,n.zs)(s)}))}function S(e){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>(0,o.t0)(e.appContext.frames,"realtyCard")},(({mapUuid:t,frame:r})=>{const s=(0,j.ux)(r);return s?(0,j.VX)(s,(r=>{if(!r||!r.data)return(0,u.ZT)();const{data:s}=e,i=(0,x.I)({realtyItem:r.data});if(!i)return(0,l.H)({message:"Не удалось сформировать payload.productOfferItem для события показа блока инфраструктуры v-gvroz",level:"error",id:"fd12s",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)();const a={uiElement:{name:"infrastructureMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{infrastructureItem:{tagName:null==s?void 0:s.mainInfrastructureType},productOfferItem:i}};return(0,n.zs)(a)})):(0,u.ZT)()}))}function M(e){const t=e.isCommercial&&e.entity?(0,p.Pj)({entity:e.entity}):void 0;return(0,i._N)((e=>e.appContext.staticFrames.map.id),(r=>(0,n.zs)({uiElement:{name:"POI",ownerName:"map",frameUuid:r},action:"tap",payload:{POI:(0,w.T)(e),placeItem:t},dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function T({id:e,adsPriority:t}){return(0,i.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>{const r=(0,I.nM)({state:t,entityId:e}).data;return r&&(0,p.Pj)({entity:r})}},(({mapBssUuid:e,placeItem:r})=>(0,n.GM)({uiElement:{name:"POI",ownerName:"map",frameUuid:e},payload:{POI:{adsPriority:t,adsHighlight:!0},placeItem:r},showEventKey:(0,g.by)()})))}function N(e){return(0,i._N)((e=>e.appContext.staticFrames.map.id),(t=>(0,n.zs)({uiElement:{name:"stationIcon",ownerName:"routeGeometry",frameUuid:t},action:"tap",dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function P(e){const{entity:t,isModel3d:r,forcedEventOrdinal:s}=e;return(0,i._N)((e=>e.appContext.staticFrames.map.id),(e=>r?t?(0,n.zs)({action:"tap",uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.Pj)({entity:t})},dangerouslyForcedEventOrdinal:s}):((0,l.H)({message:"Не удалось отправить сообщение для тапа в рекламную 3d-модель на карте",level:"error",id:"m2n3j",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)()):(0,n.zs)({uiElement:{name:"mapObject",ownerName:"map",frameUuid:e},action:"tap",dangerouslyForcedEventOrdinal:s})))}function E(e,t){switch(t){case"filial":return"filialsList";case"firmsInBuilding":return"buildingOrgsList";default:return e.data&&e.data.type&&("offer"===e.data.type||"product"===e.data.type)?"product"===e.data.type?"productsList":"productOffersList":"searchResultsList"}}function L(){return(0,i.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,query:e=>{const t=(0,o.t0)(e.appContext.frames,"search");return t&&t.query||""},rubric:e=>{const t=(0,o.t0)(e.appContext.frames,"search");if(t&&"query"===t.searchType)return t.tabCatalog.rubricId||(0,o.fp)(t)}},(({mapBssUuid:e,query:t,rubric:r})=>(0,n.zs)({uiElement:{name:"map",frameUuid:e},action:"dragAndDrop",payload:{searchRequest:{text:t,entities:r?[{id:r,type:"rubric"}]:[]}}})))}function z(e,t){return(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:r=>(0,h.Q)((0,g._J)(e.id),t.searchId)(r)},(({mapUuid:e,entity:r})=>{const s=(0,d.U)(t);if(!s||!r)return(0,l.H)({message:"Не удалось отправить сообщение для тапа СТА в карте",level:"error",id:"ksdnkd",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)();const i={action:"tap",uiElement:{name:"callToActionButton",ownerName:"mapMarker",frameUuid:e},payload:{callToAction:{actionType:s.type,value:s.value},placeItem:(0,p.Pj)({entity:r})}};return(0,n.zs)(i)}))}const R=(e,t)=>(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>e.appContext.frames.find(y.l)},(({mapUuid:r,frame:s})=>{if(!s)return void(0,l.H)({message:"Не удалось затрекать клик в маркер обмена валют(a-knpw8)",level:"error",id:"a-knpw8",payload:{type:"debug",subtype:"BssTrackerV3"}});const i={uiElement:{name:"exchangeCurrencyMarker",ownerName:"exchangeCurrencyList",frameUuid:r},action:"tap",payload:{mapMarker:{scale:(0,c.Z)(e.currentType),mapLayer:"exchangeCurrencyLayer"},exchangeCurrencyList:(0,b.R)(s,t)}};return(0,n.zs)(i)})),F=({entityId:e,searchId:t})=>(0,i.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:r=>(0,h.Q)(e,t)(r)},(({mapUuid:e,entity:t})=>t?(0,n.GM)({uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.Pj)({entity:t})},showEventKey:(0,g.by)()}):((0,l.H)({message:"Не удалось отправить сообщение для показа рекламной 3d-модели на карте",level:"error",id:"rkt44k",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)())))},70371:(e,t,r)=>{"use strict";r.d(t,{S:()=>g});var n=r(52322),s=r(2784),i=r(2556),a=r(39595),o=r(30007),c=r(56677),d=r(65632),l=r(63195),u=r(35608),p=r(78535),h=r(31567);const g=(0,s.memo)((e=>{const{labelLines:t,dbgSize:r}=e,{css:c,s:d}=(0,p.y)(m),l=(0,s.useMemo)((()=>(e,t)=>{if(t)return(0,n.jsx)("span",Object.assign({className:c(d.workingTime),style:{color:t}},{children:e}),"workingTime")}),[c,d.workingTime]),u=(0,s.useMemo)((()=>e=>(0,n.jsxs)("span",{children:[(0,n.jsx)("div",Object.assign({className:c(d.ratingStar)},{children:(0,n.jsx)(i.U,{color:"#666",size:12})})),(0,n.jsx)("div",Object.assign({className:c(d.rating)},{children:e}))]},"rating")),[]),h=(0,s.useMemo)((()=>e=>(0,n.jsx)("span",Object.assign({"data-isctabutton":!0,className:c(d.ctaButtonContainer)},{children:e.href?(0,n.jsx)("a",Object.assign({href:e.href,target:"_blank",className:c(d.ctaButton)},{children:e.text})):(0,n.jsx)("span",Object.assign({className:c(d.ctaButton)},{children:e.text}))}),"actionButton")),[]),g=(0,s.useMemo)((()=>(e,r)=>{const{type:s,text:i,color:a}=e;switch(s){case"name":return(0,n.jsx)("span",Object.assign({className:c(d.title)},{children:i}),"name");case"adsText":return(0,n.jsx)("span",Object.assign({className:c(d.ads)},{children:i}),"adsText");case"rating":return u(i);case"stopFactor":return(0,n.jsx)("span",Object.assign({className:c(d.stopFactor)},{children:i}),r);case"workingTime":return l(i,a);case"link":case"order":return h(e);case"exchange":return(0,n.jsx)("span",Object.assign({className:c(d.exchange,1===t.length&&d.__onlyExchange)},o.dx.n("wat-exchange-rate-in-marker"),{children:i}),"exchange")}}),[h,u,l]),f=(0,s.useMemo)((()=>(e,t)=>{if(e[0])return"rating"===e[0].type||"stopFactor"===e[0].type?(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("span",Object.assign({className:c(d.stopFactorsLine),"data-ismarkerlabel":!0},{children:(0,n.jsx)(a.v,Object.assign({inline:!0,styles:d.labelKebab,dotTheme:"dark"},{children:e.map(g)}))})),(0,n.jsx)("br",{})]},t):(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("span",{children:e.map(g)},t),(0,n.jsx)("br",{})]},t)}),[g]);return t.length?(0,n.jsx)("div",Object.assign({className:c(d.wrapper,r&&d._dbgSelfOverlay)},o.dx.n("wat-marker-label"),{children:(0,n.jsxs)("span",Object.assign({className:c(d.container)},{children:[t.map(f),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",Object.assign({className:c(d.dbgSizes)},{children:`${r.width}/${r.height}`})),(0,n.jsx)("span",{className:c(d._dbgSizeOverlay),style:{width:r.width,height:r.height}})]})]}))})):null})),m=(0,p.k)({wrapper:{maxWidth:c.d,lineHeight:1.25,userSelect:"none",fontSize:11,fontWeight:500,fontFamily:"SuisseIntl, Helvetica, Arial, sans-serif",textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66",color:h.O.gray_4d4d4d,cursor:"pointer",position:"relative"},_dbgSelfOverlay:{background:(0,d.j)(h.O.green_299400,.2)},_dbgSizeOverlay:{background:(0,d.j)("#94002a",.2),position:"absolute",top:0,left:0,pointerEvents:"none"},container:{pointerEvents:"auto"},title:{color:"#262626",fontSize:13},ads:{marginTop:2},stopFactorsLine:{marginTop:2,fontSize:10,color:"#555"},labelKebab:{display:"inline"},ratingStar:{display:"inline-flex",verticalAlign:"top",stroke:"#ffffffee"},rating:{display:"inline-flex",padding:"0 1px",fontSize:11},stopFactor:{padding:"0 1px",fontSize:11},workingTime:{marginTop:2,fontSize:11},dbgSizes:{position:"absolute",color:h.O.red_fe5000,bottom:0,right:0,fontSize:8,pointerEvents:"none"},ctaButtonContainer:{paddingTop:2,display:"inline-block"},ctaButton:Object.assign(Object.assign({height:20,borderRadius:l.E.minicard,color:h.O.blue_0072ce,background:(0,d.j)(h.O.white,.8),padding:"4px 8px",boxSizing:"border-box",display:"inline-block"},u.yG),{":hover":{background:h.O.white,color:h.O.blue_028eff}}),exchange:{marginTop:2,fontSize:13},__onlyExchange:{marginTop:0,color:"#262626"}})},68800:(e,t,r)=>{"use strict";r.d(t,{l:()=>f,$:()=>v});var n=r(9475),s=r(32312),i=r(45537),a=r(47113),o=r(5330),c=r(62220),d=r(93331),l=r(83447),u=r(82603);const p=(0,i.gQ)("searchMarkersWithViewpoint",(e=>(0,o.gF)({viewpoint:c.Id,mapSize:c.hC,locale:d.O,currentMarkers:t=>{var r;return null===(r=t.data.search.markers[e.searchId])||void 0===r?void 0:r.data},geolocationPosition:e=>e.session.geolocation.position,zoom:e=>e.appContext.zoom},(({viewpoint:t,mapSize:r,locale:n,currentMarkers:s,geolocationPosition:a})=>(0,i.WC)((0,l.C)({query:e.query,attrId:e.attrId,rubrId:e.rubricId,buildingId:e.buildingId,orgId:e.orgId,searchId:e.searchId,filters:e.filters||{},adsIds:e.adsIds,sortPoint:a,viewpoint:e.isViewportChanged?t:e.viewpoint||t,isViewportChanged:!!e.isViewportChanged,mapSize:r,locale:n,markersWithLogoIds:s&&200===s.code?s.items.reduce(((e,t)=>{var r,n;return(null===(n=null===(r=t.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.marker_logo)&&e.push((0,u._J)(t.id)),e}),[]):[]}))))));var h=r(98721),g=r(92007),m=r(83204);const f=e=>v(e),v=e=>(0,i.xJ)((t=>{m.a.startTracker();const{update:r,isViewportChanged:s}=e||{},a=(0,n.m)(t);if(!a)return(0,i.ZT)();return"query"===a.searchType&&"catalog"===a.tab||"filials"===a.searchType||"inbuilding"===a.searchType||"buyHere"===a.searchType||"fmcg"===a.searchType?(0,i.vP)(b(),y({update:r,isViewportChanged:s})):(0,i.ZT)()})),b=(0,i.gQ)("updateCatalogMarkersId",(()=>(0,o.gF)({frame:n.m,markersId:c.xl},(({frame:e,markersId:t})=>e&&!t?(0,g.PP)({frameId:e.id,markersId:(0,u.by)()}):(0,i.ZT)())))),y=(0,i.gQ)("fetchCatalogMarkersIfNecessary",(({update:e,isViewportChanged:t})=>(0,i.xJ)((r=>{const o=(0,n.m)(r),d=(0,c.xl)(r);if(!o||!d)return(0,i.ZT)();const l=!!(0,s.Aw)({state:r,searchId:d});if(!e&&l)return(0,i.ZT)();let u;if("query"===o.searchType){const e=o.tabCatalog.rubricId||o.tabCatalog.attributeId?void 0:o.query;u={searchId:d,attrId:o.tabCatalog.attributeId,filters:(0,h.Q)(o),isViewportChanged:t,query:e,rubricId:o.tabCatalog.rubricId,viewpoint:(0,a.v)(o)}}return"filials"===o.searchType&&(u={searchId:d,filters:(0,h.Q)(o),isViewportChanged:t,orgId:o.orgId,viewpoint:void 0}),"inbuilding"===o.searchType&&o.query&&(u={searchId:d,filters:(0,h.Q)(o),isViewportChanged:t,query:o.query,rubricId:o.rubricId,buildingId:o.originalSearchId?void 0:o.buildingId,viewpoint:void 0}),"buyHere"!==o.searchType&&"fmcg"!==o.searchType||(u={query:o.query,searchId:d,viewpoint:void 0,isViewportChanged:t,adsIds:o.adsIds,filters:(0,h.Q)(o)}),u?p(u):(0,i.ZT)()}))))},9475:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(40889);function s(e){const t=(0,n.Di)(e.appContext.frames);if(t)return t}},25666:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(35155);function s(e){if(!e||!e.type)return"other";switch(e.type){case"crash":return"crash";case"camera":return(0,n.y)(e);case"roadwork":return"roadwork";case"restriction":return"closure";case"comment":return"chat"}return"other"}},35155:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(35006);const s=e=>{var t,r;const s=null===(t=e.data)||void 0===t?void 0:t.violation;if(!s)return"camera";if(s.includes(1)||s.includes(9)){const t=null===(r=e.data)||void 0===r?void 0:r.speed,s=`camera-${t}`;return t&&n.m.includes(s)?s:"camera"}return s.includes(10)?"camera-parking":s.includes(11)?"camera-line":s.includes(4)?"camera-bus":s.includes(2)?"camera-tl":"camera"}},37676:(e,t,r)=>{"use strict";function n(e){let t;if("3d"===e)t=r.e(1411).then(r.bind(r,34697));else t=r.e(4895).then(r.bind(r,11967));return t.then((e=>{"get3dMap"in e&&e.get3dMap?e.get3dMap().then(a):a(void 0)})),t}function s(e,t,r,s){return n(s).then((n=>n.init(e,t,r)))}function i(e,t){return n(t).then((t=>t.update(e)))}let a;r.d(t,{ay:()=>n,mA:()=>c,sA:()=>i,y9:()=>s});const o=new Promise((e=>{a=e}));function c(){return o}},98849:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(45537),s=r(96023);const i=(0,n.gQ)("killTooltips",(()=>(0,n.XJ)((0,n.PQ)((()=>s.M.set((()=>{})))))))},30397:(e,t,r)=>{"use strict";r.d(t,{t:()=>m});var n=r(45537),s=r(62220),i=r(60618),a=r(40889),o=r(31410),c=r(32312),d=r(73551),l=r(98721),u=r(5330),p=r(95281);var h=r(68800),g=r(95231);const m=(0,n.gQ)("refreshSearchResults",(({prevZoom:e,afterMapViewChange:t})=>(0,u._N)((e=>function(e){const t=e[e.length-1];if(t&&"search"===t.type)switch(t.searchType){case"query":case"fmcg":case"buyHere":case"filials":case"inbuilding":return t;default:return}}(e.appContext.frames)),(r=>r?f({frame:r,prevZoom:e,afterMapViewChange:t}):(0,n.ZT)())))),f=(0,n.gQ)("refreshCatalogSearchResults",(({prevZoom:e,frame:t,afterMapViewChange:r})=>(0,n.xJ)((m=>{var f;const v=(0,a.QB)(t),b=(0,c.rO)({state:m,searchId:v}).data,y=(0,l.Q)(t),x=(0,s.Id)(m),j="filials"===t.searchType,{center:w,zoom:I,pitch:C,rotation:O}=m.appContext,{screen:_}=m.session,k=(0,s.v9)(m),S=(0,d.Lc)({dragBound:b&&b.searchAttributes&&b.searchAttributes.drag_bound,center:w,zoom:I,screen:_,offset:k,pitch:C,rotation:O}),M=(0,d.vI)({zoomInBound:null===(f=null==b?void 0:b.searchAttributes)||void 0===f?void 0:f.zoomin_bound,viewpoint:x}),T=(0,d.hy)({isDragboundOut:S,isZoomInBoundOut:M,isFilialsResults:j,isBuyHereResult:"buyHere"===t.searchType||"fmcg"===t.searchType,zoom:I,prevZoom:e,filterValues:y}),N=(0,d.sT)({updateSearchAndMarkers:T,isFilialsResults:j,zoom:I,prevZoom:e}),P=r&&N;switch(t.searchType){case"query":if(N)return(0,n.vP)(P&&(0,p.W5)(),(0,u.zh)((e=>(0,i.Qp)({frameId:t.id,rubricId:t.tabCatalog.rubricId,filterValues:y||{},parentSearchId:(0,a.vr)(t),filtersId:(0,o.p)(t),isViewportChanged:!0,query:t.query,preserveMarkers:!1,searchId:v,viewpoint:e}))));break;case"filials":if(N)return(0,n.vP)(P&&(0,p.W5)(),(0,i.tE)({frameId:t.id,filterValues:y||{},isViewportChanged:!0,filtersId:(0,o.p)(t),orgId:t.orgId}));break;case"buyHere":case"fmcg":if(N)return(0,n.vP)(P&&(0,p.W5)(),(0,g.K)({frame:t,filterValues:(0,l.Q)(t),isViewportChanged:!0}))}return(0,h.l)({update:!0,isViewportChanged:!0})}))))},19426:(e,t,r)=>{"use strict";r.d(t,{b:()=>S});var n=r(5163);const s=(0,r(12563).createModel)("exchangeMarkers",(({services:e},t)=>({fetch(){return(0,n.mG)(this,void 0,void 0,(function*(){return yield e.marketApi.getExchangeMarkers(Object.assign({},t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var i=r(27215),a=r(62220),o=r(85707),c=r(93331),d=r(47168),l=r(2784),u=r(52322),p=r(98999),h=r(48090),g=r(70371),m=r(7219);const f=`${r(2961).E8}/ `;var v=r(88912),b=r(99710),y=r(94498),x=r(29714);const j=e=>{const{marker:t,labelLines:r,frame:n,currency:s,time:i,tp:a,is12h:o}=e,{name_ex:c,reviews:d}=t.data.branch;if(r.length)return r.reduce(((e,r)=>{var l;switch(r){case"name":{const t=null==c?void 0:c.primary;return t&&e.push([{type:"name",text:t}]),e}case"rating":{const r=null===(l=null==d?void 0:d.general_rating)||void 0===l?void 0:l.toString(),n=(e=>{const{marker:t,tp:r,time:n,is12h:s}=e,{timezone_offset:i,schedule:a}=t.data.branch;if(void 0===i||!a)return;const o=(0,x.t)(n,i),c=(0,b.Vi)(a,!1,o,r,s),d=(0,v.S)(a,o);return c?{text:c,color:(0,y.S)(d),type:"workingTime"}:void 0})({marker:t,time:i,tp:a,is12h:o}),s=[];return r&&s.push({type:"rating",text:r}),n&&s.push(n),e.push(s),e}case"rates":{const r=(0,m.S)({frame:n,data:t.data,short:!0}),i=(e=>{const{tp:t,values:r,symbol:n}=e;return null==r?void 0:r.map((e=>t._gg("%1&nbsp;%2",[e.value,n]))).join(f)})({symbol:s.symbol||s.code,tp:a,values:r});return e.push([{type:"exchange",text:i}]),e}default:return e}}),[])},w={offset:[14,-7]};function I(e){const{marker:t,tp:r,currency:n,labelLines:s,frame:i,is12h:a}=e,o=function(e){const t=j(e);if(!t)return;const r=(0,p.D)(t),n=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,h.renderToStaticMarkup)((0,u.jsx)(g.S,{labelLines:t,dbgSize:n?r:void 0})),width:r.width,height:r.height,offset:w.offset}}({marker:t,tp:r,currency:n,labelLines:s,frame:i,time:Date.now(),is12h:a});return Object.assign(Object.assign({},t),{htmlLabel:o})}var C=r(17442),O=r(54722),_=r(25278),k=r(61472);function S(){const e=(0,i.v9)(c.O),t=(0,i.v9)((e=>e.appContext.frames.find(d.l))),r=(0,C.T)(),n=(0,i.v9)(a.Id),u=(0,i.v9)((e=>e.appContext.zoom)),p=(0,i.v9)((e=>e.appContext.center)),h=(0,l.useMemo)((()=>n),[u,p]),{is12h:g}=(0,O.Z)(),m=(0,o.tT)(t?s({viewpoint:h,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode}):void 0);return(0,l.useMemo)((()=>{if(!(null==m?void 0:m.data)||!t)return{markersData:void 0,isPending:null==m?void 0:m.isPending,error:null==m?void 0:m.error};const{items:e,national_currency:n}=m.data;return{markersData:e.reduce(((e,s,i)=>{const a=s.branch.id,o=Object.assign(Object.assign({},s),{source:"exchange"}),c=I({marker:{key:a,id:a,lonLat:[s.lon,s.lat],type:"bigbullet",data:o,icon:N(s.benefit)},currency:n,tp:r,labelLines:T({zoom:u}),frame:t,is12h:g});return e.hashMap[a]=i,e.markers.push(c),e}),{hashMap:{},markers:[]}),isPending:null==m?void 0:m.isPending,error:null==m?void 0:m.error}}),[m.data,t])}const M=[{zoom:15,lines:["name","rating","rates"]},{zoom:12,lines:["name","rates"]},{zoom:9,lines:["rates"]},{zoom:1,lines:_.LZ}];function T(e){const{zoom:t}=e,r=M.find((e=>t>=e.zoom));return void 0!==r?r.lines:_.LZ}function N(e){const t=(0,k.s)();return{bigbullet:{normal:{url:`${t}markers/exchange/${e}_bigbullet.svg`},hover:{url:`${t}markers/bigbullet_hover.svg`}},middlebullet:{normal:{url:`${t}markers/exchange/${e}_middlebullet.svg`},hover:{url:`${t}markers/middlebullet_hover.svg`}},smallbullet:{normal:{url:`${t}markers/exchange/${e}_smallbullet.svg`},hover:{url:`${t}markers/smallbullet_hover.svg`}}}}},73551:(e,t,r)=>{"use strict";r.d(t,{DT:()=>f,r1:()=>m,Lc:()=>p,vI:()=>v,sT:()=>g,hy:()=>h});var n=r(83945),s=r(88850),i=r(1963),a=r(82603),o=r(36125),c=r(41117),d=r(34216);const l=11;function u(e,t){return Math.floor(e)!==Math.floor(t)}function p(e){const{dragBound:t,center:r,zoom:i,screen:a,offset:o,pitch:c,rotation:d}=e;if(!t)return!0;const l=(0,s.o)(a,o),u=(0,n.D)({center:r,zoom:i,mapSize:l,pitch:c,rotation:d});return p=u,h=t.map((e=>[e.longitude,e.latitude])),!!p.find((e=>!function(e,t){const r=e[0],n=e[1];let s=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e][0],o=t[e][1],c=t[i][0],d=t[i][1];o>n!=d>n&&r<(c-a)*(n-o)/(d-o)+a&&(s=!s)}return s}(e,h)));var p,h}function h(e){const{filterValues:t,isFilialsResults:r,isBuyHereResult:n,isDragboundOut:s,isZoomInBoundOut:a,prevZoom:o,zoom:c}=e;return!(!t||"true"!==t.bound)||!r&&!n&&(!!s||(!(!u(o,c)||!(0,i.e)(o))||!!a))}function g(e){const{updateSearchAndMarkers:t,isFilialsResults:r,zoom:n,prevZoom:s}=e;return!!t||!r&&(!!u(s,n)&&Math.min(n,s)<=l)}function m(e){return"marker"===e.origin&&e.marker?e.marker&&e.marker.data&&"market"===e.marker.data.source?e.marker.data.branch_id:e.marker&&e.marker.data&&"favorites"===e.marker.data.source?e.marker.data.entityId?e.marker.data.entityId:void 0:(0,a._J)(e.marker.id):"poi"===e.origin?e.target.id:void 0}function f(e,t,r,n){const{floorNames:s,firmsToFloorIndexMap:i,currentFloor:a}=e;if(void 0!==t&&!t.floorsId&&void 0!==t.currentFloor&&e.floorNames[t.currentFloor])return t.currentFloor;const d=r?i[r.entityId]:void 0;if(void 0!==d)return d;if(void 0===a){const e=(0,c.e)({floorNames:s,firmsToFloorIndexMap:i},n),t=e&&(0,o.M)(e);if(void 0!==t)return t}return a}function v(e){const{viewpoint:t,zoomInBound:r}=e,[n,s]=t;if(void 0===r)return!1;if(0===r)return!0;const i={lon:s.lon,lat:n.lat},a=(0,d.c)(n,i),o=(0,d.c)(i,s);return Math.max(a,o)<r}},65301:(e,t,r)=>{"use strict";function n(e){return e.match(/^(personal)(?:_|$)/)}r.d(t,{l:()=>n})},45965:(e,t,r)=>{"use strict";r.d(t,{e:()=>c,g:()=>o});var n=r(56793),s=r(45537),i=r(19463),a=r(42281);function o(e){return(0,s.vP)((0,i.BN)(),(0,s.PQ)((()=>{a.Y.set((()=>!1))})),(0,n.q)(Object.assign({isOpen:!0},e)))}function c(){return(0,s.vP)((0,i.BN)(),(0,n.q)({isOpen:!1,dialogId:void 0,orgId:void 0,branchId:void 0}))}},3892:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var n=r(45537),s=r(82603),i=r(84304);const a=(0,n.gQ)("openAgreementPopup",(e=>(0,i.Mw)({id:(0,s.by)(),type:"personalDataAgreement",withDecline:e})))},36062:(e,t,r)=>{"use strict";r.d(t,{Df:()=>o,Gk:()=>l,Lm:()=>i,PI:()=>d,mH:()=>c,qL:()=>s,yT:()=>a});var n=r(50419);const s=e=>({frameId:t})=>({uiElement:{name:e?"editPhoneNumber":"addPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap"}),i=()=>({frameId:e})=>({uiElement:{name:"confirmPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:e},action:"tap"}),a=e=>({frameId:t})=>({uiElement:{name:"phoneExistsError",ownerName:"profile"===e?"profileSettingsFrame":"phoneVerificationFrame",frameUuid:t}}),o=()=>({frameId:e},t)=>(0,n.x)({state:t,name:"phoneConfirmationFrame",uuid:e}),c=()=>({frameId:e})=>({uiElement:{name:"sendAgainButton",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),d=e=>({uiElement:{name:"sendConfirm",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),l=()=>({frameId:e})=>({uiElement:{name:"phoneConfirmationFrame",frameUuid:e},action:"close"})},93239:(e,t,r)=>{"use strict";r.d(t,{V:()=>a});var n=r(45537),s=r(82603),i=r(84304);const a=(0,n.gQ)("openPhoneConfirmationPopup",(({phone:e,withDecline:t,source:r,error:a})=>e?(0,i.Mw)({id:(0,s.by)(),type:"phoneConfirmationPopup",phone:e,withDecline:t,source:r,error:a}):(0,n.ZT)()))},92811:(e,t,r)=>{"use strict";r.d(t,{s:()=>w});var n=r(52322),s=r(31567),i=r(54722),a=r(95849),o=r(78535),c=r(21578),d=r(23117),l=r(74215),u=r(30007),p=r(2784),h=r(27215),g=r(17442),m=r(48157),f=r(36018),v=r(35608),b=r(36062),y=r(40696),x=r(11411),j=r(47057);const w=(0,p.memo)((({phone:e,phoneCode:t,isConfirmed:r,onChange:v,onSubmit:w,source:C,autofocus:O,showConfirm:_,hasPhone:k})=>{const{_t:S}=(0,g.T)(),{css:M,s:T}=(0,o.y)(I),N=(0,h.I0)(),{useBssHandler:P}=(0,l.T)(),{bssRef:E}=(0,l.T)((0,b.yT)(C)),L=P(b.qL,!!e&&r),z=P(b.Lm),{featurePhone:R,countryPhoneCode:F}=(0,i.Z)(),H=(0,p.useRef)(null),B=t||F,A=(0,h.v9)((e=>e.appContext.weak.phoneError)),D=(0,h.v9)((e=>{var t,r;return"loading"===(null===(r=null===(t=e.data.user.phone)||void 0===t?void 0:t[j.F])||void 0===r?void 0:r.status)})),[Z,V]=(0,p.useState)((()=>(0,x.CN)(e,F))),[U,$]=(0,p.useState)(!1),W=!!e&&!r,q=!!Z&&!(0,x.JY)(Z),G=W&&_||q||!!A;(0,p.useEffect)((()=>()=>{N((0,y.g$)())}),[]);const Q=(0,p.useCallback)((()=>{$(!0)}),[]),K=(0,a.$)((()=>{"profile"===C&&L()})),J=(0,a.$)((()=>{$(!1)})),Y=(0,a.$)((()=>{D||(z(),N((0,y.nn)({phone:Z,source:C})))})),X=(0,a.$)((e=>{13===e.keyCode&&(0,x.JY)(Z)&&w&&(e.preventDefault(),w())})),ee=(0,a.$)((e=>{V(e),(0,x.JY)(e)?v(e):v(""),A&&N((0,y.g$)())})),te=(0,p.useRef)(0),re=(0,p.useCallback)((e=>(setTimeout((()=>{if(!H.current||e===Z)return;const t=H.current.selectionStart||0,r=(0,x.nI)({currentPosition:t,previousPosition:te.current,newValue:e,oldValue:Z});H.current.setSelectionRange(r,r),te.current=r})),e)),[Z]),ne=(0,p.useCallback)((e=>(0,x.CN)(e,F)),[F]);return R||k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.f,{label:S("Телефон"),hasLabel:!0,input:(0,n.jsx)(d.V,Object.assign({accept:/[\d\s/+]+/g,format:ne,onChange:ee,value:Z,replace:re},{children:({value:e,onChange:t})=>(0,n.jsx)("input",Object.assign({ref:H,className:M(T.input),type:"tel",autoComplete:"tel",placeholder:B,value:e,onChange:t,onFocus:Q,onBlur:J,onKeyDown:X,onClick:K,autoFocus:O},u.dx.n("wat-phone-input")))})),error:!U&&G,focused:U,renderOutside:()=>e&&(0,x.JY)(e)&&_?W?(0,n.jsx)(c.Z,Object.assign({styles:U?T.appendixFocused:T.appendixError,onClick:Y},{children:S("Подтвердить")})):(0,n.jsx)("span",Object.assign({className:M(T.appendix,U&&T.appendixFocused)},{children:(0,n.jsx)(m.J,{color:s.O.gray_e6e6e6})})):null}),G&&(0,n.jsx)("div",Object.assign({className:M(T.errorMessage)},{children:"EntityExists"===A?(0,n.jsx)("div",Object.assign({ref:E},{children:S("Этот номер привязан к другому аккаунту. Воспользуйтесь вторым аккаунтом или привяжите другой номер")})):"ValueIsNotValid"===A?S("Неправильный номер телефона"):A?S("Что-то пошло не так, попробуйте позже"):q&&!U?S("Указан неполный номер телефона"):W?S("Телефон не подтверждён"):""}))]}):null}));w.displayName="PhoneInput";const I=(0,o.k)({input:Object.assign(Object.assign({color:s.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial"},v.qH),{"::placeholder":{color:s.O.gray_929292}}),appendix:{display:"flex",alignItems:"center",borderBottom:`1px solid ${s.O.gray_e6e6e6}`},appendixError:{borderBottom:`1px solid ${s.O.red_fe5000}`},appendixFocused:{borderBottom:`1px solid ${s.O.blue_0072ce}`},errorMessage:Object.assign(Object.assign({},v.yG),{color:s.O.red_fe5000,paddingTop:6})})},40696:(e,t,r)=>{"use strict";r.d(t,{fy:()=>j,g$:()=>w,ho:()=>b,hx:()=>x,nn:()=>y});var n=r(51113),s=r(88240),i=r(44878),a=r(45537),o=r(82603),c=r(15057),d=r(8839),l=r(84304),u=r(92007),p=r(8151),h=r(5330),g=r(36062),m=r(93239),f=r(11411),v=r(65164);const b=(0,a.gQ)("requestCode",((e,t)=>(0,h.gF)({projectId:p.yH,userId:e=>{var t;return null===(t=(0,c.bG)(e).data)||void 0===t?void 0:t.user_id}},(({projectId:r,userId:n})=>n?(0,a.Rh)((({authClientId:s})=>(0,v.$)({phone:(0,f.Wr)(e),segmentId:r||"65573",userId:n,statusId:t,authClientId:s}))):(0,a.ZT)())))),y=(0,a.gQ)("tryConfirmPhone",(({phone:e,withDecline:t,source:r})=>{const s=(0,o.by)();return(0,a.vP)(b((0,f.Wr)(e),s),(0,n.$c)(s,(n=>(0,d.d)(n)?(0,m.V)({phone:e,withDecline:!!t,source:r}):(0,u.yy)({phoneError:(null==n?void 0:n.meta).error.message}))))})),x=(0,a.gQ)("confirmPhone",(({phone:e,confirmationCode:t,withDecline:r,source:c})=>{const l=(0,o.by)();return(0,a.vP)((0,a.Rh)((({authClientId:r})=>(0,v.h)({phone:(0,f.Wr)(e),confirmationCode:t,statusId:l,authClientId:r}))),(0,n.$c)(l,(t=>(0,d.d)(t)?(0,a.vP)((0,i.m)({}),(0,h._N)((e=>{var t;return null===(t=e.appContext.popup)||void 0===t?void 0:t.id}),(e=>e?(0,s.zs)((0,g.PI)(e)):(0,a.ZT)())),j(c,!0)):(0,m.V)({phone:e,withDecline:r,source:c,error:(null==t?void 0:t.meta).error.message}))))})),j=(0,a.gQ)("closeConfirmationPopup",((e,t)=>(0,a.vP)((0,l.j4)(),(0,f.OW)(e,t)))),w=()=>(0,u.yy)({phoneError:""})},11411:(e,t,r)=>{"use strict";r.d(t,{F9:()=>T,CN:()=>C,OW:()=>S,KY:()=>N,ZQ:()=>E,nI:()=>P,j1:()=>_,lS:()=>k,qF:()=>L,X1:()=>M,JY:()=>v,Wr:()=>O});var n=r(98402),s=r(74173),i=r(45537),a=r(71202),o=r(14813),c=r(84387);const d=(0,i.gQ)("returnToPhoneLawPopup",(e=>e?(0,s.C)(!0):(0,c.p)())),l=(0,i.gQ)("returnToPhoneAddPopup",(e=>e?(0,n.$)((({tp:e})=>(0,a.c)((0,o.V)({title:e._gg("Готово!"),message:e._gg("Теперь вы можете использовать номер телефона для входа в 2ГИС.")})))):(0,c.i)()));var u=r(19086);const p=10,h=20,g="+7",m="8",f={russia:"7",belarus:"375",ukrain:"380",kyrgyz:"996",uzbek:"998",azer:"994",arab:"971"};function v(e){const t=O(e),r=t.length;return t.startsWith(f.russia)||t.startsWith(m)||t.startsWith(f.kyrgyz)?11===r:t.startsWith(f.belarus)||t.startsWith(f.ukrain)||t.startsWith(f.uzbek)||t.startsWith(f.azer)?12===r:t.startsWith(f.arab)?12===r||11===r:p<=t.length&&t.length<=h}const b=/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/,y=/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/,x=/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})(\d{0,2})/,j=/(\d{0,3})(\d{0,1})(\d{0,7})/,w=/(\d{0,3})(\d{0,9})/,I=/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/;function C(e,t){var r;const n=O(e),s="+"===e[0],i=function(e,t){if(e.startsWith(f.russia)||e.startsWith(m)&&!t)return b;if(e.startsWith(f.belarus)||e.startsWith(f.ukrain)||e.startsWith(f.uzbek)||e.startsWith(f.azer))return y;if(e.startsWith(f.kyrgyz))return x;if(e.startsWith(f.arab))return 12===e.length?w:j;return I}(n,s),a=null===(r=i.exec(n))||void 0===r?void 0:r.slice(1);if(!a)return e;const o=a.join(" ").trim();return v(o)&&!s?t===g&&o.startsWith(m)?g+o.slice(1,o.length):"+"+o:s?"+"+o:o}function O(e){return e.replace(/\D/g,"")}function _(e){const t=e.previousSibling;t&&t.focus()}function k(e){const t=e.nextSibling;t&&t.focus()}function S(e,t){switch(e){case"profile":return(0,u.Z)();case"law":return d(t);case"add":return l(t)}}function M(e){const t=parseInt(e);return 0<=t&&t<=9}const T="ConfirmationAttemptsExceeded";function N(e,t){switch(e){case"ConfirmationCodeIsNotValid":return t("Неверный код");case T:return t("Упс, вы ввели неверный код несколько раз подряд. Попробуйте ещё разок через несколько часов — верим, всё получится!");case"SMSLimitExceeded":return t("Дождитесь SMS с кодом подтверждения. Если код не приходит, запросите его ещё раз через несколько часов");default:return t("Что-то пошло не так, попробуйте позже")}}function P({currentPosition:e,previousPosition:t,newValue:r,oldValue:n}){return" "===r[e]?n.length?e+2:e+1:0===e&&r.startsWith("+")&&!n.startsWith("+")?t?t+3:2:e}function E(e){return((null==e?void 0:e.phone_code)||"")+((null==e?void 0:e.phone_number)||"")}function L(e){return e.join("").length===e.length}},84387:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,p:()=>a});var n=r(45537),s=r(82603),i=r(84304);const a=(0,n.gQ)("openPhoneLawPopup",(()=>(0,i.Mw)({id:(0,s.by)(),type:"phonePopup",subtype:"law"}))),o=(0,n.gQ)("openPhoneAddPopup",(()=>(0,i.Mw)({id:(0,s.by)(),type:"phonePopup",subtype:"add"})))},73896:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(79417),s=r(45537),i=r(25278),a=r(59682),o=r(82603);const c=(0,s.gQ)("openPoint",(e=>{const{point:t,shouldCenterMap:r}=e;return(0,s.vP)((0,n.Jt)({id:(0,o.by)(),type:"entity",entityId:i.k8,entityType:"point",point:e.point,searchId:"",gtaId:""}),r?(0,a.Nr)({lon:t.lon,lat:t.lat,zoom:16}):(0,s.ZT)())}))},44114:(e,t,r)=>{"use strict";r.d(t,{c:()=>i,n:()=>s});var n=r(24626);const s=e=>"prices"===e.type,i=(0,n.F)(s)},50306:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});const n=(0,r(51665).T3)(),s=(e,t)=>r=>n({state:r,entityId:e,searchId:t}).data},57506:(e,t,r)=>{"use strict";r.d(t,{M:()=>d});var n=r(45537),s=r(19463),i=r(79417),a=r(5330),o=r(12566),c=r(64273);const d=(0,n.gQ)("backToEntityCard",(e=>(0,a._N)((e=>e.appContext.graveyard),(t=>!(!t[0]||!t[0].find(o.B))?(0,n.vP)((0,s.BN)(),(0,i.hp)()):(0,n.vP)((0,i.IW)(),(0,c.xo)({id:e.id,type:e.type}))))))},83489:(e,t,r)=>{"use strict";r.d(t,{c:()=>h});var n=r(52322),s=r(2784),i=r(27215),a=r(7628),o=r(5161),c=r(83266);const d=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,c.d)({isLabelShown:!0})];return(0,n.jsx)(a.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,n.jsx)(a.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=r(5507),u=r(96281);const p=()=>{const e=(0,u.l)(),t="tab"in e?e.tab:void 0,r=[(0,o.k)({isLabelShown:"whereToBuy"===t}),(0,l.o)({isLabelShown:!0})];return(0,n.jsx)(a.q,{children:r.map(((e,t)=>e&&(0,n.jsx)(a.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})},h=(0,s.memo)((()=>(0,i.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,n.jsx)(d,{}):(0,n.jsx)(p,{})))},59431:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(79417),s=r(82603);function i(e){return(0,n.Jt)({id:(0,s.by)(),type:"publicFavorites",subtype:e})}},10668:(e,t,r)=>{"use strict";r.d(t,{T:()=>h});var n=r(45537),s=r(19463),i=r(79417),a=r(82603),o=r(5330),c=r(40889),d=r(69546),l=r(70997),u=r(59055),p=r(52781);const h=(0,n.gQ)("openRealtyFrame",(e=>{const t=(0,a.by)(),r=null==e?void 0:e.entity,h=null==e?void 0:e.source,g=(0,a.by)();return(0,n.Rh)((({featureRealty:m})=>m?(0,n.vP)((0,o._N)((e=>(0,c.t0)(e.appContext.frames,"realty")),(n=>{const o=(null==e?void 0:e.categoryId)||(null==n?void 0:n.categoryId)||l.jY.sale.categoryId;return(0,s.BN)((0,i.Jt)({id:(0,a.by)(),scrollId:(0,a.by)(),type:"realty",page:1,entity:r,searchId:t,reviewSearchId:g,suggestId:null==e?void 0:e.suggestId,filterPanelState:(null==n?void 0:n.filterPanelState)||"auto",filterValues:(null==e?void 0:e.filters)||(null==n?void 0:n.filterValues),categoryId:o,source:h}))})),(0,u.C)((0,d.l)()),(0,u.a)((0,o._N)((e=>e.appContext.isDataViewerMinimized),(e=>e&&(0,p.kG)({isMinimized:!1}))))):(0,n.ZT)()))}))},13501:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>i,nv:()=>a,qI:()=>o});var n=r(66551),s=r(24626);function i(e){return"realty"===e.type}const a=(0,n.r)(i),o=(0,s.F)(i)},69546:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(45537),s=r(98849),i=r(92007);const a=(0,n.gQ)("killRealtyTooltip",(()=>(0,n.Mf)((0,s.p)(),(0,i.yy)({realtyHoveredId:void 0}))))},6164:(e,t,r)=>{"use strict";r.d(t,{Pk:()=>i,Tg:()=>c,iV:()=>l,uN:()=>d,xj:()=>a});var n=r(31816);const s="realtytooltip",i={[`data-${s}`]:!0},a=(0,n.c)(void 0),o=(0,n.c)(void 0),c=()=>{var e;return"true"===(null===(e=a.get())||void 0===e?void 0:e.dataset[s])},d=()=>{o.get()&&(clearTimeout(o.get()),o.set((()=>{})))},l=(e,t)=>{const r=setTimeout((()=>e()),t);o.set((()=>r))}},62842:(e,t,r)=>{"use strict";r.d(t,{p:()=>F});var n=r(52322),s=r(9700),i=r(45537),a=r(2784),o=r(27215),c=r(95849),d=r(61010),l=r(52781),u=r(78535),p=r(17442),h=r(82098),g=r(31567),m=r(65632),f=r(85251),v=r(71589),b=r(35608),y=r(55658),x=r(50630),j=r(7628),w=r(75281),I=r(66544),C=r(74215),O=r(7686),_=r(77786),k=r(30007);const S=a.memo((({onLogoClick:e,showFilters:t,showList:r})=>{const[s,i]=a.useState(!1),c=(0,o.v9)((e=>e.session.is3dEnabled)),{bssRef:d,useBssHandler:l}=(0,C.T)(),m=l(O.H,{type:s?"closeMapSubLayers":"mapSubLayers"}),f=a.useCallback((()=>{c&&(m(),i((e=>!e)))}),[c,m]),b=(0,o.v9)(w.j),S=!!b,T=(0,h.l3)(),N=S?T.find((e=>e.type===b)):void 0,P=(0,p.T)(),{css:E,s:L}=(0,u.y)(M);return(0,n.jsx)("div",Object.assign({ref:d},{children:(0,n.jsxs)(j.q,Object.assign({appearance:"transparent"},{children:[(0,n.jsx)("button",Object.assign({onClick:e,className:E(L.dgisButton)},{children:(0,n.jsx)(_.y,{size:36})})),(0,n.jsx)(j.Q,Object.assign({onClick:t,icon:(0,n.jsx)(y.x,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-filter"},{children:P._gg("Фильтры")})),(0,n.jsx)(j.Q,Object.assign({onClick:r,icon:(0,n.jsx)(I.a,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-list"},{children:P._gg("Списком")})),(null==T?void 0:T.length)>0&&c&&(0,n.jsx)(j.Q,Object.assign({onClick:f,icon:(0,n.jsx)(x.S,{}),type:S?"blueWithShadow":"whiteWithShadow",dataN:"wat-realty-footer-sublyers"},{children:N?N.title:P._gg("Карты недвижимости")})),s&&c&&(0,n.jsx)("div",Object.assign({onClick:f,className:E(L.sublayerRoot)},{children:(0,n.jsxs)("div",Object.assign({className:E(L.sublayerList)},k.dx.n("wat-realty-footer-sublayer-list"),{children:[(0,n.jsxs)("div",Object.assign({className:E(L.sublayersHeader)},{children:[P._gg("Карты недвижимости"),(0,n.jsx)("div",Object.assign({className:E(L.icon)},{children:(0,n.jsx)(v.x,{color:g.O.gray_cccccc})}))]})),(0,n.jsx)(h.wF,{items:T,isListCollapsed:!s})]}))}))]}))}))})),M=(0,u.k)({dgisButton:{marginEnd:10},sublayerRoot:{position:"fixed",zIndex:f.W5.top,top:0,start:0,width:"100%",height:"100%",background:(0,m.j)(g.O.black,.7),display:"flex",flexDirection:"column",justifyContent:"flex-end"},sublayerList:{background:g.O.white,borderRadius:"8px 8px 0 0",paddingTop:20,paddingBottom:20,paddingStart:20,paddingEnd:24},sublayersHeader:Object.assign(Object.assign({},b.FY),{display:"flex",justifyContent:"space-between",paddingBottom:20}),icon:{display:"flex",justifyContent:"center",alignItems:"center",width:28,height:28}});var T=r(45877),N=r(7108),P=r(28108),E=r(70997);const L=a.memo((({onLogoClick:e,showFilters:t,showMap:r,entityId:s,goBack:i,categoryId:a})=>{const o=(0,p.T)(),{css:c,s:d}=(0,u.y)(z),l=(0,P.W)({type:a===E.jY.rent.categoryId?"realtyRent":"realtySales"});return(0,n.jsxs)(j.q,{children:[s?(0,n.jsx)(j.Q,{href:l,onClick:i,icon:(0,n.jsx)(N.x,{})}):(0,n.jsx)("button",Object.assign({onClick:e,className:c(d.dgisButton)},{children:(0,n.jsx)(_.y,{size:36})})),(0,n.jsx)(j.Q,Object.assign({dataN:"wat-realty-footer-filters",onClick:t,icon:(0,n.jsx)(y.x,{})},{children:o._gg("Фильтры")})),(0,n.jsx)(j.Q,Object.assign({dataN:"wat-realty-footer-map",onClick:r,icon:(0,n.jsx)(T.D,{})},{children:o._gg("На карте")}))]})})),z=(0,u.k)({dgisButton:{marginEnd:10}});var R=r(21550);const F=(0,a.memo)((()=>{const e=(0,o.v9)((e=>e.appContext.frames[0]));return e&&"realty"===e.type&&"manuallyOpened"!==e.filterPanelState?(0,n.jsx)(H,{frame:e}):null})),H=(0,a.memo)((({frame:e})=>{var t;const r=(0,o.v9)((e=>e.appContext.isDataViewerMinimized)),a=(0,o.I0)(),u=(0,c.$)((()=>{a((0,s.R)("Уверены, что хотите покинуть раздел недвижимости?",(()=>(0,i.PQ)((()=>{var e;window.location.href=`//${e=window.location.host,e.endsWith(".web-staging.2gis.ru")?e.includes("-d.")?e.replace("-d.","-m."):e.startsWith("online5.")?e.replace(/online5(.*)\.web-staging\.2gis.ru/,"monline$1.web-staging.2gis.ru"):void 0:e.startsWith("alpha.")?e.replace(/^alpha\./,"alpha-m."):e.startsWith("beta.")?e.replace(/^beta\./,"beta-m."):e.startsWith("canary.")?e.replace(/^canary\./,"canary-m."):e.startsWith("2gis.")||e.startsWith("urbi.")?`m.${e}`:void 0}`||`https://m.${window.location.host}`})))))})),p=(0,c.$)((()=>a((0,R.h)()))),h=(0,c.$)((()=>a((0,i.vP)((0,l.kG)({isMinimized:!1}),(0,d.v)({frameId:e.id,shouldOpen:!0}))))),g=(0,c.$)((()=>{a((0,l.kG)({isMinimized:!r}))}));return r?(0,n.jsx)(S,{onLogoClick:u,showFilters:h,showList:g}):(0,n.jsx)(L,{onLogoClick:u,showFilters:h,showMap:g,entityId:null===(t=e.entity)||void 0===t?void 0:t.id,goBack:p,categoryId:e.categoryId})}))},75281:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});const n=e=>e.appContext.activeSublayer},60922:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(82603),s=r(13501),i=r(45537);const a=(0,i.gQ)("changeCategory",(e=>{const{newValue:t}=e;return(0,s.nv)((e=>e?(0,s.qI)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,n.by)(),filterValues:{},page:1,categoryId:t,scrollId:(0,n.by)(),seoH1:void 0}))):(0,i.ZT)()))}))},95443:(e,t,r)=>{"use strict";r.d(t,{Q:()=>v});var n=r(52322),s=r(45537),i=r(2784),a=r(27215),o=r(95849),c=r(17442),d=r(52781),l=r(59682),u=r(21550),p=r(45877),h=r(7108),g=r(66544),m=r(96039),f=r(7628);const v=(0,i.memo)((({href:e})=>{const t=(0,a.v9)((e=>e.appContext.frames[0]));return t&&"realtyCard"===t.type?(0,n.jsx)(b,{frame:t,href:e}):null})),b=(0,i.memo)((({frame:e,href:t})=>{const r=(0,a.v9)((e=>e.appContext.isDataViewerMinimized)),i="tab"in e?e.tab:void 0,v=(0,a.I0)(),b=(0,c.T)(),y=(0,o.$)((()=>{v((0,s.vP)(!!e.buildingId&&(0,l.vr)({entityId:e.buildingId}),(0,d.kG)({isMinimized:!r})))})),x=(0,o.$)((()=>{v((0,s.vP)((0,u.h)(),(0,d.kG)({isMinimized:!1})))})),j=b._gg("К результатам"),w=r?b._gg("Объявлениe"):b._gg("Дом на карте");return"ad"===i||r?(0,n.jsxs)(f.q,Object.assign({appearance:r?"transparent":"solid"},{children:[(0,n.jsx)(f.Q,Object.assign({onClick:x,icon:r?(0,n.jsx)(g.a,{}):(0,n.jsx)(h.x,{}),type:r?"whiteWithShadow":"gray",href:t,dataT:j},{children:j})),(0,n.jsx)(f.Q,Object.assign({onClick:y,icon:r?(0,n.jsx)(m.Ad,{}):(0,n.jsx)(p.D,{}),grow:!0,type:r?"whiteWithShadow":"gray",dataT:w},{children:w}))]})):(0,n.jsxs)(f.q,Object.assign({appearance:"solid"},{children:[(0,n.jsx)(f.Q,{onClick:x,icon:(0,n.jsx)(h.x,{}),href:t,dataT:j}),(0,n.jsx)(f.Q,{onClick:y,icon:(0,n.jsx)(p.D,{}),dataT:w})]}))}))},71504:(e,t,r)=>{"use strict";r.d(t,{i:()=>c});var n=r(79417),s=r(82603),i=r(45537),a=r(19463),o=r(13501);const c=(0,i.gQ)("openRealtyCard",(e=>{const t=(0,o.nv)((t=>(0,n.Jt)({id:(0,s.by)(),reviewSearchId:(null==t?void 0:t.reviewSearchId)||(0,s.by)(),type:"realtyCard",realtyId:e.realtyId,tab:e.tab||"ad"}))),r=(null==e?void 0:e.skipHistoryPush)?t:(0,a.BN)(t);return(0,i.Rh)((({featureRealty:e})=>e?r:(0,i.ZT)()))}))},12601:(e,t,r)=>{"use strict";r.d(t,{P5:()=>a,wy:()=>o,yb:()=>i});var n=r(66551),s=r(24626);function i(e){return"realtyCard"===e.type}const a=(0,n.r)(i),o=(0,s.F)(i)},46356:(e,t,r)=>{"use strict";r.d(t,{$G:()=>a,VX:()=>c,ux:()=>d});var n=r(5163),s=r(2968),i=r(82603);const{use:a,prefetch:o,withQueryState:c}=(0,s.r)("getRealtyItem",(e=>({services:t})=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(e.id)try{return yield t.marketApi.getRealtyItem(Object.assign(Object.assign({},e),{id:e.id}))}catch(e){if((0,i.Kn)(e)&&"code"in e&&404===e.code)return;throw e}}))),{staleTime:1/0,cacheTime:1/0}),d=e=>{if(e&&e.realtyId)return{id:e.realtyId,locale:"ru_RU"}}},5389:(e,t,r)=>{"use strict";function n(e){return"realtyIsochroneDriving"===e||"realtyIsochroneWalking"===e}r.d(t,{j:()=>n})},94002:(e,t,r)=>{"use strict";r.d(t,{f:()=>d});var n=r(79417),s=r(82603),i=r(84639),a=r(45537),o=r(8151),c=r(56087);function d(){return(0,a.vP)((0,a.xJ)((e=>{const t=(0,o.fq)(e);return(0,n.Jt)({regionId:t,id:(0,s.by)(),type:"rubricator"})})),(0,i.dl)(),(0,c.p_)({suggesterKey:"primary",show:!1}))}},29608:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});const n=e=>{var t,r;const n=e.find((e=>"buttons"===e.widget&&"tag"in e&&"awards2gis"===e.tag));return null===(r=null===(t=null==n?void 0:n.items)||void 0===t?void 0:t[0])||void 0===r?void 0:r[0].values}},48617:(e,t,r)=>{"use strict";r.d(t,{z:()=>O});var n=r(52322),s=r(2784),i=r(27215),a=r(61010),o=r(7628),c=r(83266),d=r(95849),l=r(60774),u=r(45537);const p=e=>"offers"!==(null==e?void 0:e.searchType);var h=r(52781),g=r(55658),m=r(63833);function f({signalToOpen:e}){const t=(0,i.I0)(),r=(0,l.T)(),s=(0,m.N)("search"),a=p(s),o=(0,d.$)((()=>{t((0,u.vP)((0,h.kG)({isMinimized:!1}),e))}));if(a)return{type:"filters",label:r._t("Фильтры"),icon:(0,n.jsx)(g.x,{}),href:void 0,onClick:o}}var v=r(5330);const b=()=>{const e=[f({signalToOpen:(0,v._N)((e=>e.appContext.frames[0]),(e=>(0,a.v)({frameId:e.id,shouldOpen:!0})))}),(0,c.d)({isLabelShown:!0})];return(0,n.jsx)(o.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,n.jsx)(o.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var y=r(17442),x=r(19463),j=r(7108),w=r(45877),I=r(57506);const C=()=>{const e=(0,i.I0)(),t=(0,y.T)(),r=(0,m.N)("search"),s=p(r),c=(0,d.$)((()=>{e((0,x.BN)((0,h.kG)({isMinimized:!0})))})),l=(0,d.$)((()=>{r&&e((0,a.v)({frameId:r.id,shouldOpen:!0}))})),u=(0,d.$)((()=>{e((0,v._N)((e=>{var t;return"offers"===(null==r?void 0:r.searchType)&&r.branchId?null===(t=e.data.entity.profile[r.branchId])||void 0===t?void 0:t.data:void 0}),(e=>e&&(0,I.M)(e))))}));return(0,n.jsxs)(o.q,{children:["offers"===(null==r?void 0:r.searchType)&&(0,n.jsx)(o.Q,Object.assign({icon:(0,n.jsx)(j.x,{}),onClick:u},{children:t._t("Назад к карточке")})),s&&(0,n.jsx)(o.Q,Object.assign({dataT:"Фильтры",icon:(0,n.jsx)(g.x,{}),onClick:l},{children:t._t("Фильтры")})),(0,n.jsx)(o.Q,Object.assign({dataT:"На карте",icon:(0,n.jsx)(w.D,{}),grow:!0,onClick:c},{children:t._t("На карте")}))]})},O=(0,s.memo)((()=>(0,i.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,n.jsx)(b,{}):(0,n.jsx)(C,{})))},33131:(e,t,r)=>{"use strict";r.d(t,{J:()=>f,l:()=>m});var n=r(45537),s=r(82603),i=r(79417),a=r(28335),o=r(5330),c=r(93331),d=r(79225),l=r(78006),u=r(25278),p=r(19463),h=r(24024),g=r(68800);const m=(0,n.gQ)("openSearchBranchOffers",(({query:e="",filterValues:t={},page:r=1,branchId:p,branchSearchId:h=u.Mt,categoryId:g})=>{const m=(0,s.by)(),f=(0,s.by)(),v=(0,s.by)(),b=g&&t.category_ids!==g?(0,l.X)({valueType:"single",value:g,isChecked:!0,name:"category_ids"},t):t;return(0,n.vP)((0,i.Jt)({id:(0,s.by)(),type:"search",searchType:"offers",searchId:m,filtersId:(0,d.Ue)(v),query:e,filterValues:b,statusId:f,branchId:p,branchSearchId:h,filterPanelState:"auto",page:(0,d.Ue)(r)}),(0,o._N)((e=>(0,c.O)(e)),(t=>(0,a.V1)({branchId:p,offersSearchId:m,filtersId:v,filters:b,query:e,page:r,locale:t,statusId:f}))))})),f=(0,n.gQ)("searchBuyHere",(({adsIds:e,isFMCG:t=!1,page:r=1,filters:a={}})=>{const c=(0,s.by)(),l=(0,s.by)();return(0,n.vP)((0,p.BN)((0,i.Jt)({id:(0,s.by)(),type:"search",searchType:t?"fmcg":"buyHere",query:"",filterPanelState:"auto",adsIds:e,searchId:(0,d.Ue)(c),page:(0,d.Ue)(r),scrollIdHash:(0,s.by)(),filtersId:l,filterValues:a})),(0,o.zh)((t=>(0,n.Mf)((0,o._N)((e=>e.session.geolocation.position),(n=>(0,h.Hq)({query:"",searchId:c,page:r,viewpoint:t,adsIds:e,filtersId:l,filters:a,withFilters:!0,sortPoint:n}))),(0,n.XJ)((0,g.l)())))))}))},61010:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(45537),s=r(79417),i=r(40889);function a(e){return(0,n.vP)(e.shouldOpen?(0,n.xJ)((e=>{const t=(0,i.t0)(e.appContext.frames,"offer");if(t)return(0,s.t7)({id:t.id})})):void 0,(0,s.D_)(e.frameId,(t=>Object.assign(Object.assign({},t),{filterPanelState:e.shouldOpen?"manuallyOpened":"manuallyClosed"}))))}},41004:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});const n=["Премия 2ГИС","2ГИС сыйлығы"].map((e=>e.toLowerCase())),s=e=>{const{searchType:t,awardsTags:r,query:s,config:i}=e;if("query"!==t)return!1;if(!i.feature2gisAwards2022)return!1;if(!(null==r?void 0:r.length))return!1;const a=null==s?void 0:s.trim().toLowerCase();return!!a&&n.includes(a)}},49247:(e,t,r)=>{"use strict";r.d(t,{B:()=>o,x:()=>c});var n=r(87682),s=r(84304),i=r(45537),a=r(19463);const o=(0,i.gQ)("openSendOrderPopup",(e=>e.hasDelivery?(0,n.mk)("openSendOrderPopup",e):c(e))),c=(0,i.gQ)("openSendOrderPopupSimple",(e=>(0,a.BN)((0,s.Mw)({type:"sendOrder",id:e.popupId,params:e}))))},51150:(e,t,r)=>{"use strict";r.d(t,{q:()=>p});var n=r(45537),s=r(84304),i=r(82603),a=r(63429),o=r(9023),c=r(88111),d=r(25376),l=r(40889);function u(e){const t=["userProfile","collection"],r=(0,l.t0)(e.frames,"collection");return Object.assign(Object.assign({},e),{frames:"private"===(null==r?void 0:r.subtype)?e.frames.filter((e=>!t.includes(e.type))):e.frames})}const p=(0,n.gQ)("openSharingPopup",(e=>(0,n.XJ)((0,n.xJ)((t=>{const r=(0,i.by)(),l=Object.assign(Object.assign({},t),{appContext:u(t.appContext)}),p=(0,c.M)((0,d.V)(l)),h=p?`${location.protocol}//${location.host}${p}`:location.href;return(0,n.vP)((0,s.Mw)({id:r,type:"sharing",isPopupGlassDark:!0,urlToShort:h,frameId:e.frameId}),(0,a.D)({url:h}),(0,o.ZX)())})))))},9023:(e,t,r)=>{"use strict";r.d(t,{$R:()=>v,ZX:()=>g,i9:()=>f,jo:()=>m});var n=r(45537),s=r(15057),i=r(84240),a=r(84304),o=r(87682),c=r(82603),d=r(51113),l=r(71202),u=r(14813),p=r(98402),h=r(8839);const g=(0,n.gQ)("fetchDevices",(()=>(0,n.XJ)((0,n.xJ)((e=>(0,s.Pc)(e)?(0,i.L)({}):(0,n.ZT)()))))),m=(0,n.gQ)("pushNotification",(e=>(0,n.XJ)((0,n.xJ)((t=>{if(!(0,s.Pc)(t))return(0,n.ZT)();const r=(0,c.by)();return(0,n.vP)((0,i.h)(Object.assign(Object.assign({},e),{statusId:r})),(0,d.$c)(r,(t=>(0,h.d)(t)?(0,n.vP)((0,a.j4)(),(0,p.$)((({tp:t})=>(0,l.c)((0,u.V)({title:t._t("Готово"),message:t._t("Уведомление отправлено на %1",[e.deviceName])}))))):(0,p.$)((({tp:e})=>(0,l.c)((0,u.v)({title:e._t("Ошибка!"),message:e._t("Не удалось отправить уведомление, попробуйте позднее")})))))))}))))),f=()=>(0,o.mk)("openSharingPopup"),v=(0,n.gQ)("onLinkCopy",(()=>(0,n.vP)((0,a.j4)(),(0,p.$)((({tp:e})=>(0,l.c)((0,u.V)({title:e._t("Готово"),message:e._t("Ссылка скопирована")})))))))},42281:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});const n=(0,r(31816).c)(!1)},93024:(e,t,r)=>{"use strict";r.d(t,{Ep:()=>a,o8:()=>i,oi:()=>o});var n=r(45537),s=r(20146);const i=(0,r(54871).mq)("UI/SET_SHOW_SNOW"),a=(0,n.gQ)("setSnowStatus",((e,t)=>(0,n.vP)(i({status:e,allowSnowStyle:t}),(0,s.m)({name:"noSnow",value:"off"===e}))));function o(){return(0,n.xJ)((e=>(0,n.Rh)((({isMobileDevice:t,featureNewYear:r})=>t?i({status:"off",intensity:0,allowSnowStyle:e.appContext.showSnow.allowSnowStyle}):e.session.is3dEnabled&&r?(0,n.ZT)():i({status:"off",intensity:0,allowSnowStyle:!1})))))}},17684:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,I:()=>c});var n=r(45537),s=r(92007),i=r(82603);const a=(0,n.gQ)("showAddedToCollectionToast",(e=>{const{collectionId:t,item:r,targetBoundingClientRect:n}=e;return(0,s.yy)({toast:{id:(0,i.by)(),type:"addedToCollection",collectionId:t,item:r,targetBoundingClientRect:n}})}));var o=r(20146);const c=(0,n.gQ)("showPromoToast",(e=>{const{targetBoundingClientRect:t,type:r,to:a,offset:c}=e;return(0,n.xJ)((e=>{const d=`_seen-${r}`;return!e.session.flags[d]&&(0,n.vP)((0,s.yy)({toast:{id:(0,i.by)(),type:"showPromoToast",subtype:r,targetBoundingClientRect:t,to:a,offset:c}}),(0,o.m)({name:d,value:!0}))}))}))},23172:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(92007);const s=()=>(0,n.yy)({toast:void 0})},96023:(e,t,r)=>{"use strict";r.d(t,{M:()=>A,u:()=>D});var n=r(52322),s=r(2784),i=r(88944),a=r(31567),o=r(35608),c=r(18137),d=r(21319),l=r(49669);const u=e=>(0,n.jsx)(c.E,{loader:d.H.entityTooltip,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:l.Q});var p=r(85251),h=r(56656),g=r(78188);function m({tooltip:e}){if(!e)return;const t=f(e);return t?{targetClientRect:(0,g.Y)({left:e.point[0],top:e.point[1]}),tooltipData:t}:void 0}function f(e){if("poi"===e.origin){if(!e.poi)return;return{type:"poi",data:e.poi}}if(!e.marker)return;const t=(0,h.X)(e.marker);if(t)switch(t.source){case"catalog":case"favorites":case"infrastructure":return{type:"catalog",data:t,marker:e.marker};case"tUgc":return{type:"tUgc"};case"realty":return{type:"realty",data:t,marker:e.marker};case"exchange":return{type:"exchange",data:t,marker:e.marker};default:return}}var v=r(30007),b=r(74215),y=r(78535),x=r(22977),j=r(99688),w=r(28717),I=r(13130),C=r(14349),O=r(25666),_=r(59065);var k=r(7944),S=r(27215),M=r(8151);const T=({tUgcEvent:e,offset:t},{tp:r,dateFns:n,config:s})=>{if(e)return{title:(0,j.N)(e,r),description:(0,w.j)(e,r,s),hint:(0,x.d)(e,r,n,s,t),comment:e.comment}},N=(0,s.memo)((e=>{var t,r;const{tooltipId:s}=e,i=(0,C.c)({id:s}),a=(0,S.v9)((e=>(0,M.mI)({state:e,code:(0,M.SJ)(e)||""}))),{data:o,isFetching:c}=(0,k.c)({eventId:s}),d=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.preview_urls["328x170"];return(0,n.jsx)(P,{photo:d,tUgcEvent:i,isFetching:c,offset:(null===(r=null==a?void 0:a.time_zone)||void 0===r?void 0:r.offset)||0})}));N.displayName="TUgcTooltip";const P=(0,s.memo)((e=>{const{photo:t,tUgcEvent:r,isFetching:s,offset:i}=e,{s:a,css:o}=(0,y.y)(E),{bssRef:c}=(0,b.T)((d={tUgcEvent:r},({frameId:e},t)=>{const{tUgcEvent:r}=d;if(r)return{uiElement:{name:"tUGCTooltip",ownerName:"tUGCPOI",frameUuid:e},payload:{tUGC:{id:r.id,category:(0,O.N)(r),mode:(0,_.P)(t)}}}}));var d;const l=(0,I.Gb)(T,{tUgcEvent:r,offset:i});if(!l||s)return null;const{title:u,description:p,comment:h,hint:g}=l;return(0,n.jsxs)("div",Object.assign({className:o(a.root),ref:c},{children:[(0,n.jsxs)("div",Object.assign({className:o(a.content)},{children:[(0,n.jsx)("div",Object.assign({className:o(a.title)},{children:u})),p&&(0,n.jsx)("div",Object.assign({className:o(a.description)},{children:p})),h&&(0,n.jsx)("div",Object.assign({className:o(a.comment)},{children:h})),g&&(0,n.jsx)("div",Object.assign({className:o(a.hint)},{children:g}))]})),t&&(0,n.jsx)("div",{className:o(a.photo),style:{backgroundImage:`url(${t})`}})]}))}));P.displayName="TUgcTooltipInner";const E=(0,y.k)({root:Object.assign({minHeight:64,display:"flex",justifyContent:"space-between"},o.oN),content:{minWidth:0,padding:16},title:{paddingBottom:2,color:a.O.blue_0072ce},description:Object.assign({},o.yG),comment:Object.assign({paddingTop:2},(0,o.KU)(3,o.yG)),hint:Object.assign({paddingTop:8,color:a.O.gray_929292,whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},o.yG),photo:{flex:"0 0 64px",width:64,minHeight:64,maxHeight:"100%",backgroundSize:"cover",backgroundPosition:"center"}});var L=r(92199);const z=e=>(0,n.jsx)(c.E,{loader:d.H.realtyTooltip,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:l.Q});var R=r(31816),F=r(51665),H=r(62220);const B=e=>(0,n.jsx)(c.E,{loader:d.H.exchangeTooltip,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:l.Q}),A=(0,R.c)(void 0),D=s.memo((()=>{const e=A.use(),t=(0,I.Gb)(m,{tooltip:e}),{css:r,s}=(0,y.y)(V);if(!e||!t)return null;const{targetClientRect:i,tooltipData:a}=t;return(0,n.jsx)(L.k,Object.assign({to:"bottomEnd",targetBoundingClientRect:i,offset:5,pointerEvents:"none"},{children:(0,n.jsx)("div",Object.assign({className:r(s.root)},v.dx.n("wat-tooltip"),{children:(0,n.jsx)(Z,{tooltipId:e.id,tooltipData:a})}))}))}));function Z(e){var t;const{tooltipData:r,tooltipId:s}=e,i=(0,S.v9)((e=>(0,F.wj)({state:e,entityId:s,searchId:(0,H.WK)(e)}))).data,a=(0,S.v9)((e=>e.session.time));switch(r.type){case"realty":const e=null===(t=null==r?void 0:r.marker)||void 0===t?void 0:t.buildingId;return e?(0,n.jsx)(z,{entityId:e},e):null;case"catalog":case"poi":return(0,n.jsx)(u,{entity:i,tooltipData:r,marker:"marker"in r?r.marker:void 0,time:a});case"tUgc":return(0,n.jsx)(N,{tooltipId:s});case"exchange":return(0,n.jsx)(B,{marker:r.marker});default:return null}}D.displayName="Tooltip";const V=(0,y.k)({root:Object.assign(Object.assign({pointerEvents:"none",overflow:"hidden"},o.oN),{maxWidth:296,boxShadow:i.q.popup,borderRadius:p.E0.default,background:a.O.white})})},20930:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(84304),s=r(82603);function i(e){return(0,n.Mw)({id:(0,s.by)(),type:"typedFeedback",withBackToFeedbackForm:e.withBackToFeedbackForm,subtype:e.subtype,frameId:e.frameId,entityId:e&&e.entityId,searchId:e&&e.searchId})}},86283:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(37089),s=r(45537),i=r(19463),a=r(23172);const o=(0,s.gQ)("openProfile",(e=>{return(0,s.vP)((0,i.BN)(),(0,n.D)("achievements"===(t=e)||"photos"===t||"feedbacks"===t||"reviews"===t||"favorites"===t||"missions"===t||"places"===t?t:void 0),(0,a.y)());var t}))},78714:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var n=r(45537),s=r(5330),i=r(40889),a=r(79417);const o=(0,n.gQ)("notifySuccessPlaceUpdate",(e=>{const{entityId:t,type:r}=e;return(0,s._N)((e=>(0,i.t0)(e.appContext.frames,"userProfile")),(e=>e?(0,a.D_)(e.id,(e=>{if("userProfile"===e.type)return Object.assign(Object.assign({},e),{placeNotifications:Object.assign(Object.assign({},e.placeNotifications),{[t]:{type:r}})})})):(0,n.ZT)()))}))},21366:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var n=r(52322),s=r(18137),i=r(21319),a=r(49669);const o=()=>(0,n.jsx)(s.E,{loader:i.H.noFriends,render:e=>(0,n.jsx)(e,{}),renderPlaceholder:a.Q})},37089:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(79417),s=r(82603);function i(e="favorites"){const t=(0,s.by)();return(0,n.Jt)({id:(0,s.by)(),type:"userProfile",profileTab:e,searchId:t})}},73238:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(45537),s=r(79417),i=r(24626);const a=e=>"userProfile"===e.type,o=(0,r(66551).r)(a),c=((0,i.F)(a),(0,n.gQ)("closeUserProfileFrame",(()=>o((e=>e?(0,s.hp)():(0,n.ZT)())))))},19086:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(45537),s=r(5330),i=r(84304),a=r(82603),o=r(15057);const c=(0,n.gQ)("openEditUserProfilePopup",(()=>(0,s._N)((e=>(0,o.bG)(e)),(e=>{const t=!!e&&e.data;return t?(0,i.Mw)({id:(0,a.by)(),type:"editUserProfile",user:t}):(0,n.ZT)()}))))},61472:(e,t,r)=>{"use strict";r.d(t,{a:()=>s,s:()=>i});let n="";function s(e){r.p=e,n=e}function i(){return n}},71756:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>s,Oo:()=>i,xg:()=>a});var n=r(30774);const{emitEvent:s,addEventListener:i,removeEventListener:a}=(0,n.U)()},79417:(e,t,r)=>{"use strict";r.d(t,{D_:()=>h,IW:()=>l,Jt:()=>a,P2:()=>c,Wk:()=>p,d3:()=>g,hp:()=>d,t7:()=>o,xO:()=>u});var n=r(54871),s=r(5330),i=r(45537);function a(e){return{type:"UI/ADD_FRAME",payload:e}}function o(e){return{type:"UI/REMOVE_FRAME",payload:e}}const c=(0,n.mq)("UI/REMOVE_RIGHT_FRAMES"),d=(0,n.mq)("UI/RESURRECT_FRAMES"),l=(0,n.mq)("UI/CLEAR_FRAMES"),u=(0,n.mq)("UI/KILL_FRAMES"),p=(0,n.mq)("UI/REPLACE_FRAME"),h=(0,i.gQ)("patchFrame",((e,t)=>(0,s.Mb)(e,(r=>{if(!r)return(0,i.ZT)(`skipped patchFrame: there is no frame with id ${e}`);const n=t(r);return n===r?(0,i.ZT)():n?p(n):(0,i.ZT)("skipped patchFrame: callback returned undefined")}))));function g(e,t){return(0,s.Mb)(e,(e=>e&&"pending"===e.type?p(t(e)):(0,i.ZT)()))}},54682:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>f,D$:()=>h,Ol:()=>m,Yq:()=>u,iD:()=>p,me:()=>l,s7:()=>g});var n=r(79417),s=r(96378),i=r(4203),a=r(82666),o=r(10937),c=r(12566),d=r(13096);function l(e,t){return(0,n.D_)(e,(e=>(0,c.B)(e)?t(e):void 0))}function u(e,t,r){return(0,n.D_)(e,(e=>t(e)?r(e):void 0))}function p(e,t){return(0,n.D_)(e,(e=>(0,s.E)(e)?t(e):void 0))}function h(e,t){return(0,n.D_)(e,(e=>(0,a.o)(e)?t(e):void 0))}function g(e,t){return(0,n.D_)(e,(e=>(0,i.Y)(e)?t(e):void 0))}function m(e,t){return(0,n.D_)(e,(e=>(0,d.n)(e)?t(e):void 0))}function f(e,t){return(0,n.D_)(e,(e=>(0,o.i)(e)?t(e):void 0))}},83390:(e,t,r)=>{"use strict";r.d(t,{P:()=>c,PD:()=>o,t9:()=>i,u$:()=>a});var n=r(40177),s=r(72020);const i=(0,n.P)("setActiveLayer",(0,s.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeLayer:t,activeSublayer:t!==e.activeLayer?void 0:e.activeSublayer})))),a=(0,n.P)("clearActiveLayer",(0,s.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeLayer:void 0,activeSublayer:void 0})))),o=(0,n.P)("setActiveLayer",(0,s.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeSublayer:t,showTrafficOnMap:!1})))),c=(0,n.P)("clearActiveLayer",(0,s.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeSublayer:void 0}))))},40673:(e,t,r)=>{"use strict";r.d(t,{EL:()=>o,NN:()=>i,og:()=>d,ox:()=>a,xN:()=>c,xn:()=>s});var n=r(54871);const s=(0,n.mq)("MAP/SYNC_VIEW"),i=(0,n.mq)("MAP/SET_FLOORS"),a=(0,n.mq)("MAP/REMOVE_FLOORS"),o=(0,n.mq)("MAP/SELECT_FLOOR"),c=(0,n.mq)("MAP/SET_VIEW"),d=(0,n.mq)("MAP/GENERALIZE_MARKERS")},56793:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});const n=(0,r(54871).mq)("UI/PATCH_MESSENGER")},71202:(e,t,r)=>{"use strict";r.d(t,{c:()=>s,y:()=>i});var n=r(54871);const s=(0,n.mq)("UI/SHOW_NOTIFICATION"),i=(0,n.mq)("UI/HIDE_NOTIFICATION")},84304:(e,t,r)=>{"use strict";r.d(t,{BW:()=>o,Mw:()=>i,j4:()=>a});var n=r(54871),s=r(45537);const i=(0,n.mq)("UI/OPEN_POPUP"),a=(0,n.mq)("UI/CLOSE_POPUP"),o=e=>(0,s.xJ)((t=>{const r=t.appContext.popup;if(!r)return(0,s.ZT)("skipped patchPopup: popup is not opened");const n=e(r);return n===r?(0,s.ZT)():n?i(n):(0,s.ZT)("skipped patchPopup: callback returned undefined")}))},56087:(e,t,r)=>{"use strict";r.d(t,{Bt:()=>s,p_:()=>a,r4:()=>o,xU:()=>i});var n=r(54871);const s=(0,n.mq)("SUGGEST/SET_SUGGEST_ID"),i=(0,n.mq)("SUGGEST/SET_QUERY"),a=(0,n.mq)("SUGGEST/TOGGLE"),o=(0,n.mq)("SUGGEST/HIGHLIGHT_SUGGESTION")},52781:(e,t,r)=>{"use strict";r.d(t,{Tz:()=>c,kG:()=>a,s_:()=>o});var n=r(54871),s=r(40177),i=r(72020);const a=(0,s.P)("minimizeDataViewer",(0,i.x)("appContext",((e,{isMinimized:t})=>Object.assign(Object.assign({},e),{isDataViewerMinimized:t})))),o=((0,n.mq)("UI/SET_LANG"),(0,n.mq)("UI/SET_DEFAULT_LOCALE"),(0,n.mq)("UI/SET_RULER")),c=(0,n.mq)("UI/TOGGLE_TRAFFIC")},92007:(e,t,r)=>{"use strict";r.d(t,{H6:()=>i,KK:()=>o,PP:()=>l,QT:()=>a,Vj:()=>c,jP:()=>s,yy:()=>d});var n=r(54871);const s=(0,n.mq)("WEAK/SET_DASHBOARD_RUBRICS_ID"),i=(0,n.mq)("WEAK/SET_DASHBOARD_GTA_ID"),a=(0,n.mq)("WEAK/MAP_INTERACTION_START"),o=(0,n.mq)("WEAK/SET_RUBRICATOR_ID"),c=(0,n.mq)("WEAK/SET_RUBRIC_ID"),d=(0,n.mq)("WEAK/PATCH"),l=(0,n.mq)("WEAK/SET_CATALOG_MARKERS_ID")},2796:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,l:()=>n});const n={long:0,short:200,spinner:1e3},s={base:"cubic-bezier(0.25, 0.1, 0.25, 1)"}},7686:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});const n=e=>({frameId:t})=>({uiElement:{name:e.type,ownerName:"mapSubLayersScreen",frameUuid:t},action:"tap"})},29397:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,i:()=>s});var n=r(54722);const s=({children:e})=>{const{isMobileDevice:t}=(0,n.Z)();return e&&t?e:null},i=({children:e})=>{const{isMobileDevice:t}=(0,n.Z)();return e?t?null:e:null}},63049:(e,t,r)=>{"use strict";r.d(t,{e:()=>h});var n=r(52322),s=r(2784),i=r(30007),a=r(78535),o=r(35608),c=r(31567),d=r(27098),l=r(39595),u=r(2889),p=r(57111);const h=({text:e,legalName:t,adInfo:r,dataN:o,colorOpacity:c,mt:h,withoutHint:m})=>{const{s:f,css:v}=(0,a.y)(g),[b,y]=(0,s.useState)(!1),x=(0,s.useCallback)((e=>{e&&y(e.scrollHeight>e.clientHeight)}),[]),j=s=>(0,n.jsx)("div",Object.assign({ref:x,className:v(f.root,"4"===h&&f.mt4,"8"===h&&f.mt8,c?f.colorOpacity:f.grey,!s&&f.collapsed)},{children:(0,n.jsxs)(l.v,Object.assign({inline:!0,styles:f.inline},{children:[!!r&&(0,n.jsx)(u.d,Object.assign({},r)),e&&t?t:null,!!e&&(0,n.jsx)(d.p,Object.assign({html:e},i.dx.n(o||"wat-ads-text-warning"),{title:m?void 0:e}))]}))}));return b?(0,n.jsx)(p._,Object.assign({withoutShevron:!0},{children:j})):j(!1)},g=(0,a.k)({root:Object.assign({},o.Vz),grey:{color:c.O.gray_9b9b9b},colorOpacity:{opacity:.7},mt4:{marginTop:4},mt8:{marginTop:8},collapsed:Object.assign({},(0,o.KU)(1,o.Vz)),inline:{display:"inline"}})},55475:(e,t,r)=>{"use strict";r.d(t,{V:()=>g});var n=r(52322),s=r(2784),i=r(78535),a=r(67585),o=r(35608),c=r(31567),d=r(32942),l=r(45718),u=r(40254),p=r(97294),h=r(30007);const g=(0,s.memo)((({title:e,link:t,source:r,platform:s,lang:o,onClick:g})=>{const{s:f,css:v}=(0,i.y)(m),b=(0,p.V)(s);return(0,n.jsx)("div",Object.assign({className:v("card"===r&&f.wrapper)},{children:(0,n.jsx)("a",Object.assign({},h.dx.n("wat-app-banner"),{className:v(f.link),href:t,target:"_blank",onClick:g},{children:(0,n.jsxs)("div",Object.assign({className:v(f.root,"dashboard"===r&&f.dashboardRoot)},{children:[(0,n.jsx)("div",Object.assign({className:v(f.logo)},{children:(0,n.jsx)(a.y,{})})),(0,n.jsxs)("div",Object.assign({className:v(f.info)},{children:[(0,n.jsx)("div",Object.assign({className:v(f.title)},{children:e})),(0,n.jsxs)("span",Object.assign({className:v(f.stat)},{children:[(0,n.jsx)(u.i,{color:c.O.yellow_ffb81c,size:"small",rating:b.rating}),(0,n.jsx)("span",Object.assign({className:v(f.additionalInfo)},{children:b.reviews}))]}))]})),(0,n.jsx)("div",Object.assign({className:v(f.storeLink)},{children:"ios"===s?(0,n.jsx)(d.Q,{lang:o}):(0,n.jsx)(l.r,{lang:o})}))]}))}))}))}));g.displayName="AppBannerInner";const m=(0,i.k)({wrapper:{marginTop:4,marginBottom:4},root:{display:"flex",alignItems:"center",background:c.O.gray_f2f2f2,width:"100%",paddingTop:16,paddingRight:24,paddingBottom:16,paddingLeft:24},dashboardRoot:{"@media (max-width: 320px)":{padding:16}},logo:{display:"flex","& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",paddingStart:8,color:c.O.black},title:Object.assign(Object.assign({},o.oN),{"@media (max-width: 375px)":Object.assign({},o.Vz)}),stat:{display:"flex",alignItems:"center"},additionalInfo:Object.assign(Object.assign({},o.Vz),{paddingStart:4,color:c.O.gray_929292}),storeLink:{display:"flex",paddingStart:4}})},81089:(e,t,r)=>{"use strict";r.d(t,{y:()=>h});var n=r(52322),s=r(2784),i=r(27215),a=r(60774),o=r(87198),c=r(54722),d=r(55475),l=r(74215);function u(e){switch(e){case"branch":return"cardContacts";case"dashboard":return"dashboardFrame";case"geo":case"route":return"cardInformation"}}const p=e=>({frameId:t})=>({uiElement:{name:e.store,ownerName:"mobileDownloadPromo",frameUuid:t},action:"tap"}),h=(0,s.memo)((({cardType:e})=>{var t;const r=(0,a.T)(),{brandName:s}=(0,c.Z)(),h=(0,i.v9)((e=>e.session.platform)),g=(0,i.v9)((e=>e.appContext.frames[0])),m=g&&"promoType"in g?g.promoType:void 0,f=(0,i.v9)((e=>e.appContext.lang)),v=e?"card":"dashboard",b=function(e,t){if("card"===e)switch(t){case"geo":return"geoCardPromo";case"route":return"transportCardPromo";default:return"firmCardPromo"}return"mainScreen"}(v,e),{bssRef:y,useBssHandler:x}=(0,l.T)((j={cardType:e},({frameId:e})=>{const{cardType:t}=j;return{uiElement:{name:"mobileDownloadPromo",ownerName:u(t),frameUuid:e}}}));var j;const w=x(p,{store:"ios"===h?"appStoreButton":"googlePlayButton"}),I=null===(t=(0,o.O)({platform:h,type:b}))||void 0===t?void 0:t.link;if(!I)return null;const{title:C}=function(e,t,r,n){switch(e){case"card":return function(e,t,r){if("navigator"===r)return{title:t._t("Получите доступ к навигации и&nbsp;другим&nbsp;функциям")};return{title:t._t("%1 умеет работать без интернета",[e])}}(r,t,n);case"dashboard":return{title:t._t("%1 умеет работать без интернета",[r])}}}(v,r,s,m);return(0,n.jsx)("div",Object.assign({ref:y},{children:(0,n.jsx)(d.V,{title:C,link:I,source:v,platform:h,lang:f,onClick:w})}))}));h.displayName="AppBanner"},64118:(e,t,r)=>{"use strict";r.d(t,{q:()=>u});var n=r(52322),s=r(2784),i=r(82514),a=r(35608),o=r(88780),c=r(30007);class d extends s.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>(0,n.jsx)("div",Object.assign({className:(0,i.iv)(this.props.s.initials)},c.dx.n("wat-initials"),{children:this.props.initials()}))}render(){const{isLoadingForced:e,src:t}=this.props;return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(o.C,{src:t,isLoadingForced:!!e,renderPlaceholder:this.renderInitials}):this.renderInitials()})}}const l={initials:Object.assign(Object.assign({width:"100%",height:"100%"},a.Rw),{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"})},u=(0,i.D2)(l)(d)},76158:(e,t,r)=>{"use strict";r.d(t,{_:()=>R});var n=r(52322),s=r(2784),i=r(45554),a=r(52266),o=r(49765),c=r(38821),d=r(17170),l=r(25767);const u="online";var p=r(30007),h=r(26354),g=r(48472),m=r(88240),f=r(5330),v=r(92790),b=r(40889);const y=e=>t=>{const{parent:r,cta:n,ownerFrameId:s,buyHereOrgId:i,adsPosition:a,branchEntity:o,position:c}=e,d=x(r),l=(0,b.iF)(t.appContext.frames,s),u="placeCardMini"!==d?(0,g.s)({state:t,entityFrameId:s}):(0,v.Pj)({entity:o,position:c}),p="directorySearchResultsFrame"===d?{org:o.org.id}:void 0;return{uiElement:{name:"callToActionButton",ownerName:d,frameUuid:s},action:"tap",payload:{callToAction:{actionType:n.type,value:n.value,contentOwner:i&&a?{org:i,adsPosition:"video"===r||l&&"search"===l.type&&"fmcg"===l.searchType?"fmcg":a,adsId:null==u?void 0:u.adsId}:void 0},placeItem:u,filialsList:p}}},x=e=>{switch(e){case"orgInfo":return"directorySearchResultsFrame";case"video":return"videoFrame";case"placeCardMini":return"placeCardMini";default:return"placeCardFull"}};var j=r(96907),w=r(86550),I=r(82514),C=r(85251),O=r(31567),_=r(27492),k=r(66885),S=r(72498),M=r(87310),T=r(41996),N=r(20929);const P=(0,T.Z3)((e=>({onButtonClick:t=>e((0,N.c)(t))})));var E=r(65632);class L extends s.PureComponent{constructor(){super(...arguments),this.state={showPhone:!1},this.renderButton=e=>{const{bssRef:t,compact:r=!1,medium:s=!1,appearance:i="primary",cta:a,isMiniCard:c,backgroundColor:d}=this.props,l=a.isExternal&&"phone"!==a.type||"phone"===a.type&&this.state.showPhone;return(0,n.jsx)(o.z,Object.assign({containerRef:t,compact:r,medium:s,appearance:i,background:c?d&&`linear-gradient(62.12deg, ${(0,E.j)(d,.17)} 0%, ${(0,E.j)(d,.06)} 100%)`:d,href:e,onClick:this.onButtonClick,external:l,dataN:"wat-ads-cta-button"},{children:this.renderContent()}))},this.renderContent=()=>{const{cta:e,s:t,logo:r,needToUseDefaultLogo:s,showLogo:i,medium:a}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,w.iv)(t.content)},{children:[i&&(0,n.jsxs)("div",Object.assign({className:(0,w.iv)(t.logo)},{children:[s&&(0,n.jsx)(_._,{color:O.O.yellow_ffb81c,size:16}),!s&&r&&(0,n.jsx)(j.E,{src:r,height:16,width:16,isLoadingForced:!0})]})),this.state.showPhone?e.value:e.name,"phone"===e.type&&(0,n.jsx)("div",Object.assign({className:(0,w.iv)(t.phoneIcon,a&&t._mediumPhoneIcon)},{children:(0,n.jsx)(S.L,{size:a?18:void 0})}))]}))},this.onButtonClick=()=>{const{onButtonClick:e,cta:t,ownerFrameId:r,buyHereOrgId:n,branchEntity:s,bssOnCTATap:i,parent:a,position:o,adsPosition:c}=this.props;"link"!==t.type&&("phone"===t.type&&this.setState({showPhone:!0}),t.isExternal||e({actionType:t.type,value:t.value,entityId:s.id}),i({cta:t,parent:a,ownerFrameId:r,buyHereOrgId:n,branchEntity:s,position:o,adsPosition:c}))}}render(){const{branchEntity:e,cta:t,parent:r,ownerFrameId:s,showEventOrdinal:i,buyHereOrgId:a,position:o,adsPosition:c}=this.props;return"link"===t.type?(0,n.jsx)("div",Object.assign({},p.dx.n("wat-ads-cta"),{children:(0,n.jsx)(M.M.Consumer,{children:d=>(0,n.jsx)(k.X,Object.assign({highPriorityEventOrdinal:"placeCardMini"===r,showEventOrdinal:d||i,actionEventParamsSelector:y({cta:t,parent:r,ownerFrameId:s,buyHereOrgId:a,branchEntity:e,position:o,adsPosition:c}),originalHref:t.value||""},{children:e=>this.renderButton(e)}))})})):this.renderButton(t.href)}}L.displayName=(0,i.I)("src/shared/components/cta");const z={logo:{width:16,height:16,borderRadius:C.E0.default,overflow:"hidden",marginEnd:8},content:{width:"100%",height:"100%",display:"flex",alignItems:"center"},phoneIcon:{height:24,width:24,paddingStart:4},_mediumPhoneIcon:{marginTop:-2,height:16,width:16}},R=(0,a.C)((({entity:e,parent:t,useBackgroundColor:r},{tp:n})=>{var s,i,a,o;if("branch"!==e.type)return;const p="branch"===t||"orgInfo"===t,h="placeCardMini"===t,g=(0,l.d)({entity:e,isMiniCard:h,withoutFmcg:p}),m=null==g?void 0:g.adsBuyHere,f=(null==m?void 0:m.actions)?(0,d.I)(m.actions,u,n._t("Узнать больше"),m.branch_id):void 0,v=f&&m?m.org_id:void 0;if(f&&"orgInfo"===t&&v!==e.org.id)return;const b=(null===(i=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.actions)?(0,d.I)(e.ads.options.actions,u,n._t("Узнать больше")):void 0;if(!b&&"fmcg"===(null==g?void 0:g.adsPosition)&&"branch"===t)return;const y=b||f;if(!y)return;const x=null===(o=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===o?void 0:o.color,j=r?x:void 0,w=!b&&f&&g?(0,c.P)(null==m?void 0:m.logo,"48x48"):void 0;return{needToUseDefaultLogo:false,logo:w,showLogo:!!w||false,backgroundColor:j,cta:y,buyHereOrgId:v,branchEntity:e,adsPosition:b||null==g?void 0:g.adsPosition,isMiniCard:h}}))((0,T.$j)(void 0,P)((0,h.z)(((e,t)=>{const{branchEntity:r,cta:n,parent:s,buyHereOrgId:i,adsPosition:a,ownerFrameId:o,position:c}=e,d=x(s),l=(0,b.iF)(t.appContext.frames,o),u="placeCardMini"!==d?(0,g.s)({state:t,entityFrameId:o}):(0,v.Pj)({entity:r,position:c}),p={actionType:n.type,value:n.value},h="directorySearchResultsFrame"===d?{org:r.org.id}:void 0;return i&&a?{uiElement:{name:"callToActionButton",ownerName:d,frameUuid:o},payload:{callToAction:Object.assign(Object.assign({},p),{contentOwner:{org:i,adsPosition:"video"===s||l&&"search"===l.type&&"fmcg"===l.searchType?"fmcg":a,adsId:null==u?void 0:u.adsId}}),placeItem:u,filialsList:h}}:{uiElement:{name:"callToActionButton",ownerName:d,frameUuid:o},payload:{callToAction:p,placeItem:u,filialsList:h}}}),(e=>({bssOnCTATap(t){e((0,f._N)(y(t),(e=>(0,m.zs)(e))))}})),{threshold:.5})((0,I.D2)(z)(L))))},36614:(e,t,r)=>{"use strict";r.d(t,{o:()=>h});var n=r(52322),s=r(78535),i=r(2784),a=r(10484),o=r(2796),c=r(31567),d=r(65632),l=r(54722);const u={down:-90,up:90,right:180,left:0};function p({direction:e="left",size:t=24,color:r="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${u[e]}deg)`},width:t,height:t,fill:"none",viewBox:"0 0 18 18"},{children:(0,n.jsx)("path",{fill:r,d:"M9.293.293l1.414 1.414-6.293 6.292L18 8v2L4.412 9.999l6.295 6.294-1.414 1.414L.586 9 9.293.293z"})}))}const h=(0,i.memo)((({scrollboxRef:e,offset:t})=>{const{s:r,css:o}=(0,s.y)(g),{isStartArrowShown:c,isEndArrowShown:d,clickArrowStart:u,clickArrowEnd:h}=function({scrollboxRef:e}){const t=(0,l.Z)().rtl?-1:1,[r,n]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),o=(0,i.useCallback)((()=>{e.current&&(n(e.current.scrollLeft*t>0),a(e.current.scrollLeft*t<e.current.scrollWidth-e.current.offsetWidth))}),[e,t]);(0,i.useEffect)((()=>{const t=e.current;if(t)return setTimeout(o,0),t.addEventListener("scroll",o),()=>{t.removeEventListener("scroll",o)}}),[o,e]);const c=(0,i.useCallback)(((r,n)=>{r.stopPropagation(),e.current&&e.current.scrollTo({left:e.current.scrollLeft+e.current.scrollWidth/e.current.children.length*t*n,behavior:"smooth"})}),[e,t]);return{isStartArrowShown:r,isEndArrowShown:s,clickArrowStart:(0,i.useCallback)((e=>c(e,-1)),[c]),clickArrowEnd:(0,i.useCallback)((e=>c(e,1)),[c])}}({scrollboxRef:e});return c||d?(0,n.jsxs)("div",Object.assign({className:o(r.root),style:{padding:`0 ${t}px`}},{children:[(0,n.jsx)("div",Object.assign({onClick:u,className:o(r.arrow,!c&&r._arrowHidden)},{children:(0,n.jsx)(a.E,{direction:"start",icon:p,size:18})})),(0,n.jsx)("div",Object.assign({onClick:h,className:o(r.arrow,!d&&r._arrowHidden)},{children:(0,n.jsx)(a.E,{direction:"end",icon:p,size:18})}))]})):null}));h.displayName="EntityImageArrows";const g=(0,s.k)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"space-between",opacity:0,pointerEvents:"none",transition:`${o.l.short}ms ${o.Z.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,d.j)(c.O.black,.8),color:c.O.white,pointerEvents:"auto",userSelect:"none",transition:`${o.l.short}ms ${o.Z.base}`,cursor:"pointer",opacity:.6,":hover":{opacity:1}},_arrowHidden:{opacity:0,pointerEvents:"none",":hover":{opacity:1,pointerEvents:"auto"}}})},96114:(e,t,r)=>{"use strict";r.d(t,{l:()=>m});var n=r(52322),s=r(2784),i=r(82514),a=r(6989),o=r(45554),c=r(31567),d=r(35608),l=r(1083),u=r(30007),p=r(17234);class h extends s.PureComponent{render(){const{s:e,showFeedbackButton:t=!1,entityId:r,i18n:s}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.root)},u.n("wat-error"),u.v("404"),{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},u.n("wat-error-icon"),{children:(0,n.jsx)(l.k,{})})),(0,n.jsx)("h1",Object.assign({className:(0,i.iv)(e.title)},u.n("wat-error-text"),{children:s.tp._t("Ничего не нашлось, попробуйте уточнить запрос")})),t&&(0,n.jsxs)("span",Object.assign({className:(0,i.iv)(e.message)},{children:[s.tp._t("Если уверены, что организация действительно существует, просто добавьте её:"),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.entry)},{children:(0,n.jsx)(p.L,{type:"addOrg",entityId:r})}))]}))]}))}}h.displayName=(0,o.I)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:c.O.gray_262626},title:Object.assign(Object.assign({},d.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},m=(0,i.D2)(g)((0,a.$)()(h))},16637:(e,t,r)=>{"use strict";r.d(t,{V:()=>m});var n=r(52322),s=r(2784),i=r(82514),a=r(6989),o=r(45554),c=r(31567),d=r(35608),l=r(49765),u=r(66220),p=r(30007);class h extends s.PureComponent{render(){const{s:e,i18n:t,userAgent:r}=this.props,s=r&&r.toLowerCase().indexOf("safari")>=0&&r.toLowerCase().indexOf("chrome")<0;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.root)},p.n("wat-error"),p.v("500"),{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},p.n("wat-error-icon"),{children:(0,n.jsx)(u.Y,{})})),(0,n.jsx)("h1",Object.assign({className:(0,i.iv)(e.title)},p.n("wat-error-text"),{children:t.tp._t("Что-то пошло не так")})),(0,n.jsx)("span",Object.assign({className:(0,i.iv)(e.message)},{children:t.tp._t("Обязательно найдем проблему и исправим её. Можете повторить действие через пару минут или попробовать")})),(0,n.jsx)(l.z,Object.assign({appearance:"secondary",onClick:this.reloadPage,dataN:"wat-reload-btn"},{children:t.tp._t("Перезагрузить страницу")})),s&&(0,n.jsx)("span",Object.assign({className:(0,i.iv)(e.message,e._aboutBrowser)},{children:t.tp._t("Если вы используете браузер Safari, попробуйте воспользоваться Chrome или Firefox.")}))]}))}reloadPage(){"undefined"!=typeof window&&window.location.reload(!0)}}h.displayName=(0,o.I)("src/shared/components/error/components");const g={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:24,paddingEnd:24,alignItems:"center",flexDirection:"column",color:c.O.gray_262626},title:Object.assign(Object.assign({},d.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.oN),{textAlign:"center",paddingBottom:12,maxWidth:"100%"}),_aboutBrowser:{paddingBottom:0,paddingTop:12}},m=(0,i.D2)(g)((0,a.$)()(h))},193:(e,t,r)=>{"use strict";r.d(t,{s:()=>m});var n=r(52322),s=r(2784),i=r(6591),a=r(69906),o=r(78535),c=r(35608),d=r(31567),l=r(30007),u=r(1083),p=r(66220);function h(){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"96",viewBox:"0 0 50 96"},{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M43 0c3.86 0 7 3.14 7 7v82c0 3.86-3.14 7-7 7H7c-3.86 0-7-3.14-7-7V7c0-3.86 3.14-7 7-7zM12.046 2H7a5 5 0 00-5 5v82a5 5 0 005 5h36a5 5 0 005-5V7a5 5 0 00-5-5h-5.046a2 2 0 00-1.857 1.257l-.594 1.486A2 2 0 0133.646 6H16.354a2 2 0 01-1.857-1.257l-.594-1.486A2 2 0 0012.046 2zM39 65v6a4 4 0 01-7.995.2L31 71v-4H11v-2h28zm-2 2h-4v4a2 2 0 003.995.15L37 71v-4zM18.293 42.293l1.414 1.414L16.414 47l3.293 3.293-1.414 1.414L15 48.414l-3.293 3.293-1.414-1.414L13.586 47l-3.293-3.293 1.414-1.414L15 45.586l3.293-3.293zm20 0l1.414 1.414L36.414 47l3.293 3.293-1.414 1.414L35 48.414l-3.293 3.293-1.414-1.414L33.586 47l-3.293-3.293 1.414-1.414L35 45.586l3.293-3.293z"})}))}var g=r(29397);const m=(0,s.memo)((({title:e,message:t,code:r,additionalContent:s})=>{(0,a.e)((0,i.E)(r));const{css:c,s:d}=(0,o.y)(f),m=Array.isArray(t)?t:[t];return(0,n.jsxs)("div",Object.assign({className:c(d.root)},l.dx.n("wat-error"),l.dx.v(r),{children:[(0,n.jsx)("div",Object.assign({className:c(d.icon)},{children:r&&r<500?(0,n.jsx)(u.k,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.i,{children:(0,n.jsx)(h,{})}),(0,n.jsx)(g.N,{children:(0,n.jsx)(p.Y,{})})]})})),(0,n.jsx)("h1",Object.assign({className:c(d.title)},{children:e})),t?(0,n.jsx)("div",Object.assign({className:c(d.message)},{children:m.map((e=>(0,n.jsx)("p",Object.assign({className:c(d.paragraph)},{children:e}),e)))})):null,!!s&&(0,n.jsx)("div",{children:s})]}))}));m.displayName="CustomError";const f=(0,o.k)({root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:d.O.gray_262626},title:Object.assign(Object.assign({},c.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px",textAlign:"center"},message:Object.assign(Object.assign({},c.oN),{textAlign:"center",maxWidth:"100%"}),paragraph:{marginBottom:16}})},4335:(e,t,r)=>{"use strict";r.d(t,{j:()=>_});var n=r(52322),s=r(2784),i=r(96114),a=r(17442),o=r(193);const c=()=>{const e=(0,a.T)();return(0,n.jsx)(o.s,{title:e._t("Не удалось проложить маршрут"),message:[e._t("Мы постоянно работаем над тем, чтобы такое повторялось как можно реже."),e._t("А пока попробуйте другие типы маршрутов.")],code:404})};var d=r(82514),l=r(6989),u=r(45554),p=r(31567),h=r(35608),g=r(1083),m=r(30007);class f extends s.PureComponent{render(){const{s:e,i18n:t}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,d.iv)(e.root)},m.n("wat-rubricator-error"),{children:[(0,n.jsx)("div",Object.assign({className:(0,d.iv)(e.icon)},{children:(0,n.jsx)(g.k,{})})),(0,n.jsx)("h1",Object.assign({className:(0,d.iv)(e.title)},{children:t.tp._t("Ничего не нашлось, попробуйте открыть рубрикатор в другом городе")}))]}))}}f.displayName=(0,u.I)("src/shared/components/error/components");const v={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:p.O.gray_262626},title:Object.assign(Object.assign({},h.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},h.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},b=(0,d.D2)(v)((0,l.$)()(f));var y=r(16637),x=r(52266),j=r(18975),w=r(8151),I=r(69906),C=r(6591);const O={regionId:w.fq,userAgent:e=>e.session.userAgent},_=(0,j.G)({selectors:O})((0,x.C)((({regionId:e,type:t,code:r,userAgent:n})=>{const s=(0,C.E)(r),i=function(e){const{codeForRaise:t,type:r,regionId:n}=e;if(404===t||410===t)return"search"===r||"entity"===r?"0"===n?"nothingFound":"nothingFoundWithAddOrgButton":"rubricator"===r?"nothingFoundInRubricator":"directions"===r?"canNotFindDirections":"nothingFound";return"somethingGoneWrong"}({codeForRaise:s,type:t,regionId:e});return{codeForRaise:s,viewType:i,userAgent:n}}))(s.memo((({codeForRaise:e,viewType:t,entityId:r,userAgent:s})=>{switch((0,I.e)(e),t){case"nothingFound":return(0,n.jsx)(i.l,{});case"nothingFoundWithAddOrgButton":return(0,n.jsx)(i.l,{showFeedbackButton:!0,entityId:r});case"canNotFindDirections":return(0,n.jsx)(c,{});case"nothingFoundInRubricator":return(0,n.jsx)(b,{});default:return(0,n.jsx)(y.V,{userAgent:s})}}))))},6591:(e,t,r)=>{"use strict";function n(e){return 404===e||410===e?e:500}r.d(t,{E:()=>n})},49669:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a,w:()=>i});var n=r(52322),s=r(4335);const i=e=>{const{asyncStatus:t}=e;return"error"===t?(0,n.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,n.jsx)(s.j,{code:500})})):(0,n.jsx)("div",{})},a=e=>(0,n.jsx)(i,{asyncStatus:e})},76803:(e,t,r)=>{"use strict";r.d(t,{T:()=>b,w:()=>v});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(52266),c=r(31567),d=r(85251),l=r(21637);var u=r(27492),p=r(88780),h=r(30007),g=r(88944);class m extends s.PureComponent{constructor(){super(...arguments),this.renderPlaceholder=e=>{const{size:t=d.dp.cardLogo,s:r}=this.props;return"error"===e?(0,n.jsx)("div",Object.assign({className:(0,i.iv)(r.crownLogo),style:{width:t,height:t}},{children:(0,n.jsx)(u._,{color:c.O.yellow_ffb81c,size:32})})):(0,n.jsx)("div",{className:(0,i.iv)(this.props.s.placeholder)})}}render(){const{image:e,size:t=d.dp.cardLogo,isLoadingForced:r=!1,s}=this.props;return e?(0,n.jsx)("div",Object.assign({className:(0,i.iv)(s.logo),style:{width:t,height:t}},{children:(0,n.jsx)(p.C,{src:e,renderPlaceholder:this.renderPlaceholder,isLoadingForced:r})})):(0,n.jsx)("div",Object.assign({className:(0,i.iv)(s.crownLogo),style:{width:t,height:t}},h.dx.n("wat-crown"),{children:(0,n.jsx)(u._,{color:c.O.yellow_ffb81c,size:32})}))}}const f={logo:{display:"inline-block",backgroundColor:c.O.white,borderRadius:"50%",overflow:"hidden",boxShadow:g.q.logo},placeholder:{width:"100%",height:"100%",backgroundColor:c.O.gray_f2f2f2},crownLogo:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:g.q.logo,background:c.O.white}},v=(0,a.D2)(f)(m),b=(0,o.C)((function({entity:e,size:t=d.dp.cardLogo}){const r=(0,l.q)(e,`${2*t}x${2*t}`);if(r)return r}))(v)},73717:(e,t,r)=>{"use strict";r.d(t,{T:()=>b});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(52266),c=r(11378),d=r(22176);var l=r(53067),u=r(75891),p=r(30007),h=r(13087),g=r(49951),m=r(36917);class f extends s.PureComponent{constructor(){super(...arguments),this.renderMcd=()=>{const{routeLogo:e}=this.props;switch(e){case"metro_moscow_D1":return(0,n.jsx)(g.t,{});case"metro_moscow_D2":return(0,n.jsx)(m.E,{})}}}render(){const{lineNumber:e,color:t,background:r,borderColor:s,s:a,regionCode:o,routeLogo:c}=this.props;if(!e)return(0,n.jsx)("span",Object.assign({className:(0,i.iv)(a.container,a.logo),style:{background:r,color:t,borderColor:s}},p.dx.n("wat-metro-line-icon"),{children:(0,n.jsx)(u.m,{size:16,regionCode:o})}));if((0,h.I)(c))return(0,n.jsx)("span",Object.assign({className:(0,i.iv)(a.container,a._mcd)},p.dx.n("wat-metro-line-icon"),p.dx.s("mcd"),{children:this.renderMcd()}));const d=e.length>1;return(0,n.jsx)("span",Object.assign({className:(0,i.iv)(a.container,a.logo,d&&a._longText),style:{background:r,color:t,borderColor:s}},p.dx.n("wat-metro-line-number"),p.dx.s(d?"long":"short"),{children:e}))}}f.displayName=(0,a.I)("src/shared/components/metroLineLogo");const v={container:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16},_mcd:{width:18},logo:Object.assign(Object.assign({},l.zb),{lineHeight:l.zb.fontSize,boxSizing:"border-box",borderRadius:"50%",border:"1px solid currentColor"}),_longText:Object.assign(Object.assign({},l.Ay),{lineHeight:l.Ay.fontSize})},b=(0,o.C)((({routeLogo:e,background:t,showLineNumber:r})=>{const n=function(e,t){if((0,d.Z)(t))return(0,c.BZ)(e);return(0,c.uN)(e)}(t,e);return Object.assign({lineNumber:r?(0,c.zP)(e):void 0},n)}))((0,i.D2)(v)(f))},86680:(e,t,r)=>{"use strict";r.d(t,{S:()=>p});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(31567),c=r(88944),d=r(2796),l=r(30007);class u extends s.PureComponent{render(){const{children:e,onClick:t,s:r,isFlex:s=!1,isActive:a=!1,isHovered:o=!1,onMouseEnter:c,onMouseLeave:d,isSmall:u,dataN:p="wat-mini-wrap",dataT:h="",dataS:g=""}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,i.iv)(r.miniWrapper,s&&r._flex,a&&r._active,o&&r._hovered,u&&r._small),onClick:t,onMouseEnter:c,onMouseLeave:d},l.dx.n(p),l.dx.t(h),l.dx.s(g),{children:e}))}}const p=(0,a.D2)((e=>({miniWrapper:{background:o.O.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:16,boxShadow:c.q.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${d.l.short}ms`,":hover":{background:o.O.gray_f9f9f9}},_active:{boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`,background:o.O.gray_f9f9f9},_hovered:{background:o.O.gray_f9f9f9},_flex:{display:"flex",justifyContent:"space-between"},_small:{padding:"12px 20px"}})))(u)},14844:(e,t,r)=>{"use strict";r.d(t,{P:()=>g});var n=r(52322),s=r(2784),i=r(31567),a=r(30007),o=r(85251),c=r(88944),d=r(78535),l=r(3590),u=r(27215),p=r(95849),h=r(84304);const g=(0,s.memo)((e=>{const{children:t,withCloseButton:r=!0,onClose:s,buttonTop:i=24,buttonEnd:o=24}=e,{css:c,s:g}=(0,d.y)(m),f=(0,u.I0)(),v=(0,p.$)((()=>{s&&s(),f((0,h.j4)())}));return(0,n.jsxs)("div",Object.assign({className:c(g.layout)},{children:[t,r&&(0,n.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:c(g.close,g[`_top${i}`],g[`_end${o}`]),onClick:v},{children:(0,n.jsx)(l.x,{})}))]}))}));g.displayName="MobilePopupLayout";const m=(0,d.k)({layout:{position:"fixed",bottom:0,start:0,display:"flex",flexDirection:"column",maxHeight:"90%",background:i.O.white,width:"100%",borderTopStartRadius:o.E0.isolate,borderTopEndRadius:o.E0.isolate,boxShadow:c.q.popup,overflow:"hidden"},close:{position:"absolute",width:24,height:24,top:24,end:24,cursor:"pointer",color:i.O.gray_cccccc},_top12:{top:12},_top24:{top:24},_end20:{end:20},_end24:{end:24}})},7628:(e,t,r)=>{"use strict";r.d(t,{Q:()=>p,q:()=>l});var n=r(52322),s=r(31567),i=r(78535),a=r(65632),o=r(2784),c=r(30007),d=r(21578);const l=(0,o.memo)((({appearance:e="solid",children:t})=>{const{s:r,css:s}=(0,i.y)(u);return(0,n.jsx)("div",Object.assign({className:s(r.root,"transparent"===e&&r._transparent)},c.dx.n("wat-nav-footer"),{children:t}))}));l.displayName="NavFooter";const u=(0,i.k)({root:{padding:12,display:"flex",overflowX:"auto",background:s.O.white,boxShadow:`0px -5px 10px ${(0,a.j)(s.O.black,.07)}`},_transparent:{background:"none",boxShadow:"none"}}),p=(0,o.memo)((({icon:e,children:t,onClick:r,type:s,disabled:a,external:o,grow:l,dataN:u="wat-nav-button",href:p,dataT:g,dataV:m,dataPs:f,containerRef:v})=>{const{s:b,css:y}=(0,i.y)(h),x=[b.button,"blue"===s&&b._blue,"blueWithShadow"===s&&b._blueWithShadow,"white"===s&&b._white,"whiteWithShadow"===s&&b._whiteWithShadow,"whiteWithBorder"===s&&b._whiteWithBorder,a&&b._disabled,l&&b._grow];return p?(0,n.jsx)(d.Z,Object.assign({href:p},c.dx.n(u),{styles:b.linkWrapper,color:"inherit",external:o,containerRef:v,onClick:r},{children:(0,n.jsxs)("span",Object.assign({className:y(...x)},{children:[e&&(0,n.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,n.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))})):(0,n.jsxs)("button",Object.assign({},c.dx.n(u),c.dx.t(g),c.dx.v(m),{"data-ps":f,className:y(...x),ref:v,onClick:r},{children:[e&&(0,n.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,n.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))}));p.displayName="NavFooterButton";const h=(0,i.k)({button:{padding:"0 6px",background:s.O.gray_f2f2f2,borderRadius:8,marginEnd:8,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:40,boxSizing:"border-box","&:last-child":{marginEnd:0}},linkWrapper:{marginEnd:8,"&:last-child":{marginEnd:0}},content:{padding:"0 6px","&:empty":{display:"none"}},_grow:{flexGrow:1,flexShrink:0},_white:{background:s.O.white},_whiteWithShadow:{background:s.O.white,boxShadow:`0px 3px 10px ${(0,a.j)(s.O.gray_262626,.15)}`},_whiteWithBorder:{background:s.O.white,border:`1px solid ${s.O.gray_e6e6e6}`},_blue:{background:s.O.blue_028eff,color:s.O.white},_blueWithShadow:{background:s.O.blue_028eff,color:s.O.white,boxShadow:`0px 3px 10px ${(0,a.j)(s.O.gray_262626,.15)}`},_disabled:{opacity:.8},icon:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}}})},87249:(e,t,r)=>{"use strict";r.d(t,{F:()=>p});var n=r(52322),s=r(2784),i=r(31567),a=r(30007),o=r(85251),c=r(88944),d=r(78535),l=r(3590),u=r(29397);const p=(0,s.memo)((e=>{const{header:t,body:r,footer:s,showCloseButton:i,onClose:o,dataN:c="",dataT:p=""}=e,{css:g,s:m}=(0,d.y)(h);return(0,n.jsxs)("div",Object.assign({className:g(m.layout)},a.dx.n(c),a.dx.t(p),{children:[t&&(0,n.jsx)("div",Object.assign({className:g(m.item)},{children:t})),(0,n.jsx)("div",Object.assign({className:g(m.body)},{children:r})),s&&(0,n.jsx)("div",Object.assign({className:g(m.item)},{children:s})),o&&(0,n.jsx)(u.N,{children:(0,n.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:g(m.close),onClick:o},{children:(0,n.jsx)(l.x,{})}))}),o&&i&&(0,n.jsx)(u.i,{children:(0,n.jsx)("div",Object.assign({},a.dx.n("wat-popup-close"),{className:g(m.close),onClick:o},{children:(0,n.jsx)(l.x,{})}))})]}))}));p.displayName="PopupLayout";const h=(0,d.k)((e=>({layout:{position:e.mobile?"fixed":"relative",top:0,start:0,display:"flex",flexDirection:"column",maxHeight:e.mobile?"100%":"90vh",height:e.mobile?"100%":"initial",background:i.O.white,width:e.mobile?"100%":o.dp.popupFrameWidth,borderRadius:e.mobile?"initial":o.E0.isolate,boxShadow:c.q.popup,overflow:"hidden"},item:{flexShrink:0},body:Object.assign({position:"relative",display:"flex",flexDirection:"column",flex:"1 1 auto",overflowY:"auto",overflowX:"hidden"},o.AR),close:{position:"absolute",width:24,height:24,top:8,end:8,cursor:"pointer"}})))},91652:(e,t,r)=>{"use strict";r.d(t,{p:()=>v});var n=r(52322),s=r(2784),i=r(35608),a=r(21578),o=r(30007),c=r(31567),d=r(54722),l=r(78535),u=r(17442),p=r(27215),h=r(8151);const g={3:'ООО "МикроСис"',4:'ООО "Городские Информационные Системы"',5:'ООО "ДубльГИС-Кемерово"',6:'ООО "ДубльГИС-Новокузнецк"',8:'ООО "2ГИС.ЮГ"',10:'ООО "2ГИС-Рязань"',11:'ООО "ДубльГИС-Иркутск"',12:'ООО "ДубльГИС-Иркутск"',13:'ООО "ДубльГИС-Тюмень"',20:'ООО "Городские Информационные Системы"',23:'ООО "2ГИС.ЮГ"',24:'ООО "2ГИС.Р"',25:'ООО "ДубльГИС-Владивосток"',26:'ООО "ДубльГИС-Магнитогорск"',27:'ООО "Городские Информационные Системы"',28:'ООО "2ГИС.ЦФО"',29:'ООО "2ГИС-Закамье"',30:'ООО "2ГИС.ЮГ"',31:'ООО "ДубльГИС Воронеж"',33:'ООО "2ГИС-Саратов"',34:'ООО "ДубльГИС-Кострома"',35:'ООО "2ГИС-ХАБАРОВСК"',36:'ООО "2ГИС-Калининград"',37:'ООО "2ГИС-Улан-Удэ"',39:'ООО "ДубльГИС-Сургут"',40:'ООО "2ГИС-Калининград"',41:'ООО "ДубльГИС Поволжье"',42:'ООО "2ГИС.Пенза"',43:'ООО "2ГИС-Саратов"',44:'ООО "2ГИС-Рязань"',45:'ООО "2ГИС-Нижний Тагил"',46:'ООО "2ГИС.С"',47:'ООО "2ГИС.ЦФО.Т"',48:'ООО "ДубльГИС-Оренбург"',49:'ООО "ДубльГИС-Архангельск"',50:'ООО "2ГИС РЕГИОН"',51:'ООО "2ГИС-Байкал"',52:'ООО "ДубльГИС-Благовещенск"',53:'ООО "2ГИС-Улан-Удэ"',54:'ООО "2ГИС.С"',55:'ООО "ДубльГИС-Ульяновск"',56:'ООО "2ГИС.ЛИПЕЦК"',57:'ООО "ДубльГИС-Ставрополь"',58:'ООО "ДубльГИС Поволжье"',59:'ООО "2ГИС.ЦФО.Т"',61:'ООО "ДубльГИС-Калуга"',62:'ООО "2ГИС.ЦФО"',63:'ООО "2ГИС СИСТЕМА"',64:'ООО "2ГИС-Байкал"',65:'ООО "2ГИС-Калининград"',67:'ТОО "2ГИС-Справочник Двух Столиц"',68:'ТОО "2GIS-Astana (2ГИС-Астана)"',69:'ООО "ДубльГИС-Абакан"',71:'ООО "2ГИС-ОРЕЛ"',72:'ООО "ДубльГИС-Ульяновск"',73:'ООО "ДубльГИС-Миасс"',74:'ООО "2ГИС-Новороссийск"',76:'ООО "2ГИС СЕВЕР"',77:'ООО "ДубльГИС-Новгород"',78:'ООО "2ГИС Вологда"',80:'ООО "ДубльГИС-Петрозаводск"',81:'ООО "2ГИС-Тамбов"',82:'ООО "ДубльГИС-Владивосток"',83:'ООО "ДубльГИС-Владивосток"',84:'ТОО "2ГИС-Справочник Караганды"',85:'ООО "2ГИС-САРАНСК"',86:'ООО "ДубльГИС-Кемерово"',87:'ООО "ДубльГИС-Миасс"',88:'ООО "2ГИС РЕГИОН"',89:'ООО "ДубльГИС-КМВ"',90:'ООО "ДубльГИС-Псков"',91:'ТОО "2ГИС-ОСКЕМЕН"',94:'ООО "ДубльГИС Комсомольск-на-Амуре"',95:'ООО "2ГИС-Камчатка"',96:'ООО "2ГИС СЕВЕР"',97:'ООО "ДубльГИС-Тюмень"',103:'ООО "2ГИС-Ноябрьск"',106:'ООО "2ГИС.ЮГ"',108:'ООО "2ГИС-Закамье"',109:'ООО "ДУБЛЬГИС-КАМЕНСК-УРАЛЬСКИЙ"',111:'ТОО "2ГИС-ПАВЛОДАР"',112:'ООО "ДваГИС-Бишкек"',113:'ООО "2ГИС-Дагестан"',115:'ООО "2ГИС.Грозный"',116:'ООО "2ГИС.ЮГ"',124:'ООО "ДубльГИС-Ульяновск"',131:'ООО "2ГИС.ЮГ"',139:'ООО "2ГИС-Ноябрьск"',150:'ООО "ДубльГИС-Ульяновск"',161:'ТОО "2ГИС-Шымкент"',162:'ТОО "2GIS Запад"',167:'ТОО "2GIS Aktobe"',168:'ТОО "2GIS-Atyrau"',170:'ТОО "2GIS-SEVER.KZ"',171:'ООО "ДваГИС-Бишкек"',196:'ТОО "2GIS-Mangystau"',201:'ТОО "2GIS-SEVER.KZ"',203:'ТОО "2GIS-Qostanai (2ГИС Костанай)"',204:'ООО "ДубльГИС-Ульяновск"',206:'ООО "ДубльГИС-Новокузнецк"',207:'ООО "2ГИС-Ноябрьск"',208:'СП OOO "2 GIS"',209:'ООО "ДваГИС-Бишкек"'};var m=r(23816),f=r(81136);const v=s.memo((({buttonName:e,type:t})=>{const{lang:r,privacyUrl:i,licenseAgr:c,defaultCountryCode:v,brandCode:j}=(0,d.Z)(),{s:w,css:I}=(0,l.y)(b),C=(0,p.v9)(h.yH),O=(0,u.T)(),_=e||O._t("Отправить"),k=s.useMemo((()=>"default_partner"===t&&C?(e=>e in g?"2ГИС":void 0)(C):void 0),[C,t]),S=k&&y[v]||i,M=k&&x[v]||c,T=(()=>{if("ru"!==r&&"az"!==r)return;const e={agree:e=>(0,n.jsx)(a.Z,Object.assign({href:M,external:!0},{children:e})),privacy:e=>(0,n.jsx)(a.Z,Object.assign({href:S,external:!0},{children:e})),privacyAdditionalRu:e=>(0,n.jsx)(a.Z,Object.assign({href:"https://law.2gis.ru/personal-data-dublgis",external:!0},{children:e}))};if("ru"===r&&"RU"===v)return"default_partner"===t&&k?(0,n.jsx)(f.J,{template:O._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[_]),render:e}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.J,{template:O._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[_]),render:e}),(0,n.jsx)("br",{}),(0,n.jsx)(f.J,{template:O._gg("$privacyAdditionalRu[Политика обработки персональных данных]."),render:e})]});if("default"===t||"default_partner"===t&&!k){const t="az"===r?O._gg('Siz "%1" düyməsini sıxmaqla, $agree[Lisenziya müqaviləsinin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[_,(0,m.r)("AZ","az",j)]):O._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности].",[_,(0,m.r)("RU","ru",j)]);return(0,n.jsx)(f.J,{template:t,render:e})}if("default_partner"===t&&k){const t="az"===r?O._gg('Siz "%1" düyməsini sıxmaqla, $agree[Sazişin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[_,k]):O._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[_,k]);return(0,n.jsx)(f.J,{template:t,render:e})}})();if(T)return(0,n.jsx)("div",Object.assign({className:I(w.legal)},o.dx.n("wat-privacy-policy"),{children:T}));const N="order"===t?O._t("Я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с «[Политикой конфиденциальности]»"):O._t("Нажимая кнопку «Отправить», я даю %1 согласие на обработку персональных данных на условиях и в целях, определённых «[Политикой конфиденциальности]»",[(0,m.r)(v,r,j)]);return(0,n.jsx)("div",Object.assign({className:I(w.legal)},o.dx.n("wat-privacy-policy"),{children:(0,n.jsx)(a.Z,Object.assign({templated:!0,href:i,external:!0},{children:N}))}))}));v.displayName="PrivacyPolicy";const b=(0,l.k)({legal:Object.assign(Object.assign({},i.yG),{color:c.O.gray_929292})}),y={RU:"https://law.2gis.ru/privacy-partner",KZ:"https://law.2gis.kz/privacy-partner",AZ:"https://law.2gis.az/privacy-partner",KG:"https://law.2gis.kg/privacy-partner",UZ:"https://law.2gis.uz/privacy-partner",BY:"https://law.2gis.by/privacy-partner"},x={RU:"https://law.2gis.ru/partner-agreement",KZ:"https://law.2gis.kz/partner-agreement",AZ:"https://law.2gis.az/partner-agreement",KG:"https://law.2gis.kg/partner-agreement",UZ:"https://law.2gis.uz/partner-agreement",BY:"https://law.2gis.by/partner-agreement"}},79307:(e,t,r)=>{"use strict"},43491:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(52322);r(2784),r(58688),r(79307);const s=e=>(0,n.jsx)(n.Fragment,{children:e.children})},26789:(e,t,r)=>{"use strict";r.d(t,{M:()=>h});var n=r(52322),s=r(2784),i=r(30007),a=r(31567),o=r(2796),c=r(35608),d=r(85251),l=r(60395),u=r(82603),p=r(78535);const h=s.memo((({title:e,seoTitle:t,onClick:r,onClickWithData:s,href:a,dataT:o,icon:c,bssRef:d,count:h,isColoredCount:m,activeRubric:f,rubricsKey:v,setActiveRubric:b})=>{const{css:y,s:x}=(0,p.y)(g),j=t||e,w=m&&0===h,I=!w&&f&&f===v;return(0,n.jsxs)("div",Object.assign({className:y(x.root)},{children:[(0,n.jsxs)("a",Object.assign({ref:d,className:y(x.item),title:j,href:a,onClick:w?u.ZT:e=>{b&&v&&s?v===f?(b(void 0),s("allInfrastructure")):(b(v),s(v)):r(e)},"data-h":!0},i.dx.n("wat-rubric"),i.dx.t(o),(0,l.P)({label:j}),{children:[(0,n.jsx)("div",Object.assign({className:y(x.icon,I&&x._empty,w&&x._disabled)},{children:c()})),(0,n.jsx)("span",Object.assign({className:y(x.title,w&&x._disableText)},{children:e}))]})),(!!h||m)&&(0,n.jsx)("div",Object.assign({className:y(x.count,m&&x.coloredCount,m&&w&&x.disableCount)},{children:h}))]}))})),g=(0,p.k)((({mobile:e})=>({root:{display:"inline-block",width:"25%",position:"relative",verticalAlign:"top"},item:{cursor:"pointer",marginBottom:e?8:4,display:"block",padding:"0 4px",textDecoration:"none"},count:Object.assign(Object.assign({},c.Yq),{color:a.O.white,borderRadius:d.E0.isolate,background:a.O.gray_929292,position:"absolute",padding:"2px 5px",top:0,end:0,cursor:"pointer"}),disableCount:{background:a.O.gray_e6e6e6},icon:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxSizing:"border-box",background:"#fff",width:e?48:64,height:e?48:64,padding:e?12:16,borderRadius:"50%",marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto",boxShadow:`0 0 0 1px ${a.O.gray_e6e6e6}`,color:a.O.gray_929292,transition:`box-shadow ${o.l.short}ms ease-in-out`,"[data-h]:hover &":{boxShadow:`0 0 0 2px ${a.O.gray_e6e6e6}`},"& > *":{display:"block",objectFit:"contain",width:"100%",height:"100%",transition:`transform ${o.l.short}ms ease-in-out`,"[data-h]:hover &":{transform:"scale(0.9)"}}},title:Object.assign(Object.assign({},c.yG),{display:"block",overflow:"hidden",textOverflow:"ellipsis",height:"24px",color:a.O.gray_929292,textAlign:"center",transition:`color ${o.l.short}ms ease-in-out`,userSelect:"none","[data-h]:hover &":{color:a.O.gray_262626}}),coloredCount:{display:"flex",alignItems:"center",justifyContent:"center",right:5,minWidth:9,minHeight:14,background:a.O.green_30ad00,color:a.O.white,borderRadius:d.E0.oval,userSelect:"none"},_empty:{backgroundColor:"#da0000"},_disabled:{":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,backgroundColor:a.O.white,borderRadius:"50%",opacity:.8},"[data-h]:hover &":{boxShadow:`0 0 0 1px ${a.O.gray_e6e6e6}`},"& > *":{"[data-h]:hover &":{transform:"scale(1)"}}},_disableText:{"[data-h]:hover &":{color:a.O.gray_929292}}})))},66027:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(52322),s=r(54722),i=r(2784),a=r(76349);const o=(0,i.memo)((({frame:e,frameContext:t})=>{const r=(0,s.Z)(),i=(0,a.K)(e,t,r);return i?(0,n.jsx)("div",{style:{height:i}}):null}))},59971:(e,t,r)=>{"use strict";r.d(t,{M:()=>w});var n=r(52322),s=r(2784),i=r(45554),a=r(82514),o=r(6989),c=r(46950),d=r(62605),l=r(31567),u=r(35608),p=r(30007),h=r(83204),g=r(65632),m=r(29397),f=r(42281),v=r(78535);const b=(0,s.memo)((()=>{const{css:e,s:t}=(0,v.y)(y);return f.Y.use()?null:(0,n.jsxs)("button",Object.assign({className:e(t.hamburger),onClick:e=>{e.stopPropagation(),f.Y.set((()=>!0))}},{children:[(0,n.jsx)("span",{className:e(t.hamburgerLine,t._line1)}),(0,n.jsx)("span",{className:e(t.hamburgerLine,t._line2)}),(0,n.jsx)("span",{className:e(t.hamburgerLine,t._line3)})]}))})),y=(0,v.k)({hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:l.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:l.O.gray_262626,start:0},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"12px"}});class x extends s.PureComponent{constructor(){super(...arguments),this.state={externalValue:this.props.value,value:this.props.value,isFocused:!1},this.onChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=()=>{this.setState({isFocused:!0}),h.Y.startTracker(),this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()},this.onClear=()=>{const{inputRef:e}=this.props;e&&e.current&&e.current.focus(),this.props.onChange(""),this.props.onClear&&this.props.onClear()}}static getDerivedStateFromProps(e,t){return e.value!==t.externalValue?{externalValue:e.value,value:e.value}:null}render(){const{placeholder:e,withSearchIcon:t,showHamburger:r,autoFocus:s,lightText:i,onClick:o,onKeyUp:l,inputRef:u,s:h,i18n:{tp:g},displayH1Header:f}=this.props,{value:v,isFocused:y}=this.state,x=f&&!y&&!!v,j=!!v;return(0,n.jsxs)("div",Object.assign({className:(0,a.iv)(h.wrapper,y&&h._focused)},p.dx.n("wat-search-bar"),{children:[(0,n.jsx)("input",Object.assign({type:"text",className:(0,a.iv)(h.input,i&&h._lightText,x&&h._hiddenText),placeholder:e,value:v,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onClick:o,onKeyDown:this.onKeyDown,onKeyUp:l,ref:u,autoFocus:s,spellCheck:!1},p.dx.n("wat-search-bar-input"))),x&&(0,n.jsx)("h1",Object.assign({className:(0,a.iv)(h.header,i&&h._lightText)},p.dx.n("wat-search-bar-h1"),{children:v})),t&&!v&&(0,n.jsx)(c.o,{}),j&&(0,n.jsx)("div",Object.assign({className:(0,a.iv)(h.clearButtonWrapper)},p.dx.n("wat-search-bar-clear-icon"),{children:(0,n.jsx)(d.Y,{onClear:this.onClear,ariaLabel:g._t("Очистить локальное поле поиска"),isWhite:i})})),r&&(0,n.jsx)(m.i,{children:(0,n.jsx)("div",Object.assign({className:(0,a.iv)(h.sidebarEntryWrapper)},{children:(0,n.jsx)(b,{})}))})]}))}}x.displayName=(0,i.I)("src/shared/components/searchInput");const j={wrapper:{display:"flex",alignItems:"center",color:l.O.gray_929292,position:"relative"},_focused:{color:l.O.gray_262626},header:Object.assign(Object.assign({},u.qH),{position:"absolute",top:0,left:0,color:l.O.gray_262626,paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:0,pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",boxSizing:"border-box",width:"100%",borderEnd:"32px solid transparent"}),input:Object.assign(Object.assign({},u.qH),{border:"none",color:l.O.gray_262626,boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:6,margin:0,width:"100%",outline:"none",background:"transparent","::placeholder":{color:l.O.gray_929292},"::-ms-clear":{display:"none"}}),_lightText:{color:l.O.white,"::placeholder":{color:(0,g.j)(l.O.white,.5)}},_hiddenText:{color:"transparent"},clearButtonWrapper:{height:16,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8},sidebarEntryWrapper:{height:24,marginTop:"auto",marginBottom:"auto",marginStart:8,marginEnd:8}},w=(0,a.D2)(j)((0,o.$)()(x))},83540:(e,t,r)=>{"use strict";r.d(t,{k:()=>w});var n=r(52322),s=r(2784),i=r(27215);const a=()=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M19.059 5v10.805c0 2.826-.93 4.114-3.256 4.114-1.932 0-2.862-1.252-2.862-4.114V5H6v12.093c0 5.653 3.864 9.302 9.803 9.302 6.333 0 10.197-3.649 10.197-9.302V5h-6.941z"})}));var o=r(35608),c=r(85251),d=r(30007),l=r(83755),u=r(95849),p=r(78535),h=r(54722);const g=({width:e="32",height:t="32"})=>(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 32 32",fill:"none"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4C21.9567 4 26 8.61818 26 13.6C26 15.6 25.5668 17.3455 24.556 19.5273C18.6354 19.5273 17.5523 23.4909 17.2996 26.1455L17.1191 28H14.8809L14.7004 26.1455C14.4477 23.4909 13.3646 19.5273 7.44404 19.5273C6.43321 17.3455 6 15.6 6 13.6C6 8.61818 10.0433 4 16 4Z",fill:"#19AA1E"})}));var m=r(31567);const f=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M14.41 21.985v7.487c0 .292.254.528.569.528h2.04c.314 0 .57-.236.57-.528v-7.487h-3.18z",fill:"#80391B"}),(0,n.jsx)("path",{d:"M22.14 18.624c.492-.294.966-.627 1.415-.999a.607.607 0 00.083-.87l-3.047-3.624a8.479 8.479 0 001.153-.77.608.608 0 00.092-.877L16 4.541l-5.83 6.936a.61.61 0 00.098.882c.363.29.745.546 1.141.771l-3.047 3.626a.607.607 0 00.083.87c.45.371.923.704 1.415.998l-3.714 4.42a.607.607 0 00.077.864c5.525 4.695 14.03 4.695 19.554 0a.607.607 0 00.077-.865l-3.714-4.419z",fill:"#299400"}),(0,n.jsx)("path",{d:"M13.5 15a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM18.5 14a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM20.5 20a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM11.5 22a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM16 1l1.237 3.763L21 6l-3.763 1.237L16 11l-1.237-3.763L11 6l3.763-1.237L16 1z",fill:"red"})]})),v=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.068c-.761-.177-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.1C5.708 23.479 10.316 28 16 28s10.292-4.522 10.292-10.101c0-4.778-3.38-8.78-7.922-9.832z",fill:"red"}),(0,n.jsx)("mask",Object.assign({id:"aqwe",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"7",width:"22",height:"22"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.07c-.761-.176-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.101 0 5.579 4.608 10.101 10.292 10.101s10.292-4.522 10.292-10.1c0-4.779-3.38-8.781-7.922-9.832z",fill:"red"})})),(0,n.jsxs)("g",Object.assign({mask:"url(#aqwe)"},{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v4l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2v-4z",fill:"#FFDA52"}),(0,n.jsx)("path",{fill:"#E6E6E6",d:"M4 11h24v2H4zM4 23h24v2H4z"})]})),(0,n.jsx)("path",{d:"M18.362 5.479h-4.726l3.15 2.922a7.595 7.595 0 001.576-.335V5.479z",fill:"red"}),(0,n.jsx)("path",{d:"M13.636 5.479v2.587a7.605 7.605 0 003.15.335V5.479h-3.15z",fill:"red"}),(0,n.jsx)("path",{d:"M18.363 5.095h-1.575V6.64h1.575a.78.78 0 00.788-.773.78.78 0 00-.788-.773z",fill:"#FEB700"}),(0,n.jsx)("path",{d:"M17.576 5.868a.78.78 0 00-.787-.773h-3.15a.78.78 0 00-.788.773.78.78 0 00.787.773h3.15a.78.78 0 00.788-.773z",fill:"#FEB700"}),(0,n.jsx)("path",{d:"M16 6.333a2.17 2.17 0 01-2.167-2.166A2.17 2.17 0 0116 2a2.17 2.17 0 012.166 2.167A2.17 2.17 0 0116 6.333zm0-3.25a1.085 1.085 0 101.083 1.083c0-.597-.486-1.083-1.083-1.083z",fill:"#FEB700"})]})),b=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M16 27.55c8.394 0 11.487-3.03 11.487-6.822-.219-3.876-3.65-8.168-6.807-11.316h-9.36c-3.158 3.148-6.588 7.44-6.807 11.316 0 3.791 3.093 6.823 11.487 6.823z",fill:"red"}),(0,n.jsx)("path",{d:"M16.446 10.283l.965.422.66-.422.304-.87-.718-.423-.907.422-.304.871z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M16.447 10.283l-.834 2.388c-.135.385.084.802.488.93.403.129.84-.08.974-.465l.997-2.853h-1.625z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M10.865 7.07l.539.87 4.615.423 4.579-.422.538-.871-5.135-.422-5.136.422z",fill:"red"}),(0,n.jsx)("path",{d:"M10.865 7.07h10.27l1.222-1.975c.3-.484-.066-1.095-.655-1.095H10.3c-.589 0-.954.61-.655 1.095l1.22 1.975z",fill:"red"}),(0,n.jsx)("path",{d:"M19.995 9.412l-.663-.422-.958.422.296.871.795.422.826-.422-.296-.87z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M21.666 14.327l-1.375-4.044h-1.62l1.529 4.498c.131.386.566.598.971.473.405-.126.627-.54.495-.927z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M27.487 20.728c-.209 3.582-3.093 6.401-11.487 6.401S4.722 24.31 4.513 20.728l-.006.1C4.34 24.768 7.012 28 16 28s11.66-3.232 11.493-7.172l-.006-.1z",fill:"red"}),(0,n.jsx)("path",{d:"M10.936 8.963h10.13c.254 0 .62-.31.62-.722a.781.781 0 00-.62-.3h-10.13a.781.781 0 00-.62.3c0 .464.365.722.62.722z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M21.066 8.541h-10.13a.781.781 0 01-.62-.3.71.71 0 00-.151.436c0 .406.345.735.77.735h10.13c.427 0 .772-.33.772-.735a.71.71 0 00-.15-.436.781.781 0 01-.621.3z",fill:"#FFDA52"})]})),y=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M18.069 6h-2.483C9.644 6 4.827 11.291 4.827 17.818v3.636h17.38V16.91l4.137 1.187V15.09c0-2.411-.872-4.723-2.424-6.428S20.263 6 18.068 6z",fill:"red"}),(0,n.jsx)("path",{d:"M21.38 20.546H5.654c-.914 0-1.655.814-1.655 1.818v1.818C4 25.186 4.741 26 5.655 26H21.38c.914 0 1.655-.814 1.655-1.818v-1.818c0-1.004-.74-1.819-1.655-1.819zM26 20a2 2 0 100-4 2 2 0 000 4z",fill:"#E6E6E6"}),(0,n.jsx)("path",{d:"M22.206 16.91c-.473-2.757-.949-4.065-2.482-4.546l2.482 4.545z",fill:"red"})]})),x=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M9.276 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169C5.81 26.356 3 23.594 3 20.186c0-3.407 2.81-6.169 6.276-6.169zM22.724 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169-3.466 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.276-6.169z",fill:"#F19601"}),(0,n.jsx)("path",{d:"M16 6.085c3.465 0 6.275 2.762 6.275 6.17 0 3.407-2.81 6.169-6.275 6.169-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.17 6.275-6.17z",fill:"#FEB700"}),(0,n.jsx)("path",{d:"M16 16.661c3.465 0 6.275 2.762 6.275 6.17C22.275 26.238 19.465 29 16 29c-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.275-6.169z",fill:"#FFDA52"}),(0,n.jsx)("path",{d:"M10.62 3.44h2.69c1.485 0 2.69 1.185 2.69 2.645h-2.69c-1.486 0-2.69-1.184-2.69-2.644z",fill:"#299400"}),(0,n.jsx)("path",{d:"M16.448 6.525h-.896v-.88c.001-1.46 1.204-2.643 2.69-2.645v.881c-.99 0-1.794.79-1.794 1.763v.881z",fill:"#B08149"}),(0,n.jsx)("path",{d:"M19.138 14.898h-1.345c-.99 0-1.793.79-1.793 1.763h1.345c.99 0 1.793-.79 1.793-1.763z",fill:"#299400"}),(0,n.jsx)("path",{d:"M16.448 17.102h-.896v-.882c0-.973-.803-1.762-1.793-1.762v-.882c1.485.002 2.688 1.185 2.69 2.644v.882z",fill:"#B08149"}),(0,n.jsx)("path",{d:"M5.242 11.373h1.793c1.486 0 2.69 1.184 2.69 2.644H7.932c-1.486 0-2.69-1.184-2.69-2.644zM22.274 14.017c0-1.46 1.205-2.644 2.69-2.644h1.345c0 1.46-1.204 2.644-2.69 2.644h-1.345z",fill:"#299400"})]})),j=()=>(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("path",{d:"M24.5 18.585V6.836H12.515v8.719l-4.57 4.424c-1.587 1.537-2.309 3.767-1.764 5.876 1.272 4.922 7.318 5.175 10.33 2.26l6.86-6.833a3.806 3.806 0 001.13-2.697z",fill:"red"}),(0,n.jsx)("path",{d:"M15.01 29.081v.107c-3.185 1.667-7.745.866-8.83-3.333-.4-1.546-.118-3.156.685-4.511h.154c2.12 0 4.153.815 5.651 2.266a7.615 7.615 0 012.34 5.471zM24.002 2H13.014c-1.104 0-1.998.866-1.998 1.934V5.87c0 1.068.894 1.934 1.998 1.934h10.988C25.105 7.803 26 6.937 26 5.87V3.934C26 2.866 25.105 2 24.002 2z",fill:"#299400"}),(0,n.jsx)("path",{d:"M14.5 11l-2-2v4l2 2 2-2 2 2 2-2 2 2 2-2V9l-2 2-2-2-2 2-2-2-2 2z",fill:"#E6E6E6"})]})),w=(0,s.memo)((e=>{const{showBorder:t,showBackButton:r,showLogo:s,children:o,handleBackClick:c,handleLogoClick:w}=e,{css:C,s:O,dir:_}=(0,p.y)(I),{brandCode:k,featureNewYear:S}=(0,h.Z)(),M="urbi"===k,T=(0,u.$)((e=>{e.preventDefault(),e.stopPropagation(),null==w||w()})),N=(0,u.$)((e=>{e.preventDefault(),e.stopPropagation(),null==c||c()})),P=(0,i.v9)((e=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.iconType}));return(0,n.jsxs)("div",Object.assign({className:C(O.wrapper,!t&&O._noBorder)},{children:[(r||s)&&(0,n.jsx)("div",Object.assign({className:C(O.buttonWrapper,t&&r&&O._separator),style:{color:m.O.green_299400}},{children:r?(0,n.jsx)("button",Object.assign({className:C(O.backIconWrapper),onMouseDown:N},d.dx.n("wat-back-btn"),{children:(0,n.jsx)("div",Object.assign({className:C(O.backIcon,"rtl"===_&&O._rotate180),style:{color:m.O.green_299400}},{children:(0,n.jsx)(l.X,{})}))})):(0,n.jsx)("a",Object.assign({href:"/",className:C(O.logoIcon),onClick:T},d.dx.n("wat-search-bar-logo"),{children:M?(0,n.jsx)(a,{}):S?(()=>{switch(P){case"tree":default:return(0,n.jsx)(f,{});case"bag":return(0,n.jsx)(b,{});case"hat":return(0,n.jsx)(y,{});case"sock":return(0,n.jsx)(j,{});case"toy":return(0,n.jsx)(v,{});case"mandarins":return(0,n.jsx)(x,{})}})():(0,n.jsx)(g,{})}))})),(0,n.jsx)("div",Object.assign({className:C(O.input)},{children:o}))]}))}));w.displayName="SearchInputWrapper";const I=(0,p.k)({wrapper:{boxShadow:"logical 0 1px 3px 0 rgba(0, 0, 0, 0.5)",background:m.O.white,borderRadius:c.E0.default,display:"flex",alignItems:"center",position:"relative",overflow:"hidden",transform:"translateZ(0)",transition:"opacity .3s"},_noBorder:{boxShadow:"none",background:"none"},buttonWrapper:{flex:"1 0 40px"},logoIcon:{width:"32px",height:"32px",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},_transparent:{background:"transparent",boxShadow:"none"},input:Object.assign(Object.assign({},o.oN),{width:"100%"}),_separator:{boxShadow:`logical inset -1px 0 0 ${m.O.gray_e6e6e6}`},backIconWrapper:{display:"flex",width:"40px",height:"40px",cursor:"pointer"},backIcon:{width:"32px",height:"32px",margin:"auto"},_rotate180:{transform:"rotate(180deg)"}})},21515:(e,t,r)=>{"use strict";r.d(t,{r:()=>p});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(2796),c=r(30007),d=r(85251);class l extends s.PureComponent{constructor(){super(...arguments),this.state={stage:"start"}}render(){const{stretchContent:e,s:t}=this.props;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:(0,i.iv)(t.background),onClick:this.props.onBackgroundClick}),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.content,e&&t.stretchContent,"end"===this.state.stage&&t._contentEnd)},c.dx.n("wat-suggest-wrap"),{onClick:e?this.props.onBackgroundClick:void 0},{children:this.props.children}))]})}componentDidMount(){this.endAnimationTimeout=window.setTimeout((()=>this.setState({stage:"end"})),0)}componentWillUnmount(){window.clearTimeout(this.fadeInAnimationTimeout),window.clearTimeout(this.endAnimationTimeout)}}const u={background:{background:"#fff",position:"absolute",top:0,left:0,right:0,zIndex:d.W5.bottom,height:"100vh"},content:{zIndex:d.W5.base,position:"absolute",left:0,right:0,transition:`opacity ${o.l.short}ms`,opacity:0},stretchContent:{top:56,bottom:0},_contentEnd:{opacity:1}},p=(0,a.D2)(u)(l)},54446:(e,t,r)=>{"use strict";r.d(t,{f:()=>k});var n=r(52322),s=r(31567),i=r(78535),a=r(30007),o=r(2784),c=r(63049),d=r(92790),l=r(89807),u=r(60903);const p=e=>({frameId:t},r)=>{const{entity:n,position:s,ownerName:i}=e;return{uiElement:{name:"buyHerePartnersLink",ownerName:i,frameUuid:t},action:"tap",payload:{placeItem:(0,d.Pj)({entity:n,position:s}),searchResultsList:(0,l.PD)({state:r,searchFrameId:t}),promoItem:(0,u.z)({state:r,frameId:t})}}};var h=r(74215),g=r(49765),m=r(27215),f=r(95849),v=r(33131),b=r(17170),y=r(55123);const x=(0,o.memo)((e=>{const{entity:t,position:r,ownerName:s}=e,i=(0,b.t)(t.ads),a=(0,y.G)(t.ads),{bssRef:o,useBssHandler:c}=(0,h.T)((x={entity:t,position:r,ownerName:s},({frameId:e},t)=>{const{entity:r,position:n,ownerName:s}=x;return{uiElement:{name:"buyHerePartnersLink",ownerName:s,frameUuid:e},payload:{placeItem:(0,d.Pj)({entity:r,position:n}),searchResultsList:(0,l.PD)({state:t,searchFrameId:e}),promoItem:(0,u.z)({state:t,frameId:e})}}}));var x;const j=c(p,{entity:t,position:r,ownerName:s}),w=(0,m.I0)(),I=(0,f.$)((()=>{i&&(j(),w((0,v.J)({adsIds:i.ownedRubricId,isFMCG:a})))}));return i?(0,n.jsx)(g.z,Object.assign({containerRef:o,medium:!0,appearance:"noncontrast",onClick:I,dataN:"wat-buy-here-owner-minicard"},{children:i.controlTitle})):null}));x.displayName="BuyHereOwnerLink";var j=r(76158),w=r(76803);var I=r(65727),C=r(98212),O=r(94560),_=r(25767);const k=(0,o.memo)((e=>{var t,r,s,o,d,l,u,p;const{entity:h,position:g,isMiniCard:m,withoutLogo:f}=e,{css:v,s:b}=(0,i.y)(S),y=!!(null===(s=null===(r=null===(t=h.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.actions)||void 0===s?void 0:s.find((e=>{var t;return!e.platforms||(null===(t=e.platforms)||void 0===t?void 0:t.includes("online"))}))),k=(0,_.d)({entity:h,isMiniCard:m,withoutFmcg:!0}),M=!!k,T=m&&!!(null===(l=null===(d=null===(o=h.ads)||void 0===o?void 0:o.options)||void 0===d?void 0:d.buy_here_owner)||void 0===l?void 0:l[0]),{data:N}=(0,O.P)(h.id,h.type),P=(0,C.K)(h),E=k?{source:"buyHere",entityId:k.adsBuyHere.branch_id}:{source:"card",entityId:h.id},L=f?void 0:function(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options;return t&&t.logo}(h),z=k?k.adsBuyHere.ads_texts.text:null===(u=h.ads)||void 0===u?void 0:u.text,R=k?k.adsBuyHere.ads_texts.text_warning:null===(p=h.ads)||void 0===p?void 0:p.text_warning,F=!k&&"name_ex"in h?h.name_ex.legal_name:void 0,H=!!(z||R||y||M||T||N);return z||R||y||M||T||N||P?(0,n.jsxs)("div",Object.assign({className:v(b.root)},{children:[(0,n.jsxs)("div",Object.assign({className:v(b.side)},{children:[!!z&&(0,n.jsx)("div",Object.assign({className:v(b.text)},a.dx.n("wat-ads-text"),{children:z})),H&&(0,n.jsx)("div",Object.assign({className:v(b.warning)},{children:(0,n.jsx)(c.e,{text:R,legalName:F,adInfo:E})})),(0,n.jsx)("div",Object.assign({className:v(b.cta)},{children:y||M?(0,n.jsx)(j._,{entity:h,parent:m?"placeCardMini":"branch",position:g,appearance:"noncontrast",useBackgroundColor:y,medium:!0}):T?(0,n.jsx)(x,{entity:h,position:g,ownerName:m?"placeCardMini":"cardInformation"}):!m&&(0,n.jsx)(I.O,{entity:h})}))]})),!!L&&(0,n.jsx)("div",Object.assign({className:v(b.logo)},{children:(0,n.jsx)(w.T,{size:40,entity:h,isLoadingForced:!m})}))]})):null})),S=(0,i.k)({root:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${s.O.gray_e6e6e6}`,":empty":{display:"none"}},side:{flexGrow:1,":empty":{display:"none"}},text:{marginBottom:4,":empty":{display:"none"}},warning:{marginBottom:10,":empty":{display:"none"}},logo:{marginStart:12,":empty":{display:"none"}},cta:{display:"flex",":empty":{display:"none"}}})},66885:(e,t,r)=>{"use strict";r.d(t,{X:()=>g});var n=r(52322),s=r(2784),i=r(88240),a=r(18975),o=r(52266);var c=r(24494);const d={bssTrackAction:i.zs};class l extends s.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.event&&this.props.bssTrackAction(this.props.event)}}render(){const{linkUrl:e}=this.props;return(0,n.jsx)("span",Object.assign({onClickCapture:this.onClick},{children:this.props.children(e)}))}}const u=(0,o.C)(((e,{config:t})=>({webApiKey:t.webApiKey,commitIsoDate:t.commitIsoDate,bssV3Url:t.bssV3LinkEndpoint,bssV3Link:t.bssV3Link,abTest:t.experiments,clientId:Number(t.clientId),isMobileDevice:t.isMobileDevice,sendPrivacyData:!t.featureReadOnly})))((0,a.G)({selectors:()=>{const e=(0,c.Nv)();return({showEventOrdinal:t,actionEventParamsSelector:r,originalHref:n,commitIsoDate:s,webApiKey:i,bssV3Url:a,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})=>({event:e=>r?r(e):void 0,linkUrl:e({actionEventParamsSelector:r,originalHref:n,showEventOrdinal:t,webApiKey:i,commitIsoDate:s,bssV3Url:a,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})})},handlers:d})(l));var p=r(64956),h=r(54722);const g=e=>{const{featureReadOnly:t}=(0,h.Z)(),r=s.useContext(p.M);if(t)return(0,n.jsx)(n.Fragment,{children:e.children(e.originalHref)});const i=e.highPriorityEventOrdinal||void 0===r.showEventOrdinal?e:Object.assign(Object.assign({},e),{showEventOrdinal:r.showEventOrdinal});return(0,n.jsx)(u,Object.assign({},i))}},24494:(e,t,r)=>{"use strict";r.d(t,{Gl:()=>l,Nv:()=>d});var n=r(83466),s=r(8814),i=r(82603),a=r(43323),o=r(15111);function c({eventParams:e,href:t,bssV3Url:r,bssV3Link:i}){if("undefined"==typeof window||!e)return t;if(t.startsWith("tel:"))return t;const a=(e=>{const t=e.match(/^https?:\/\/.*?\/(\d\.\d)\//);return t?t[1]:void 0})(t),c=a&&{1.2:"3.2",1.3:"3.3"}[a]||"3.2",d=-1===r.indexOf("http")?`http:${r}`:r,l=t.replace(/^https?:\/\/link\.(2gis\.ru|2gis\.com|urbi\.ae)[^?]+\?/,"")||void 0;let u="";if(!l)return t;try{const t=function(e){try{return new URL(e).toString()}catch(e){}return e}(l);u=[t,d,e].join("\n");return`${i}${c}/${encodeURIComponent((0,s.o)(u))}`}catch(e){(0,n.H)({level:"warn",message:"Не удалось запаковать в base64 урл",id:"aj48e",payload:{type:"exception",subtype:"MakeBase64Link",stack:(0,o.d)(e),data:JSON.stringify({resolvedUrl:l,linkParamsString:u})}})}return t}const d=()=>{let e,t,r;return n=>s=>{const{showEventOrdinal:o,actionEventParamsSelector:d,originalHref:l,commitIsoDate:u,webApiKey:p,bssV3Url:h,bssV3Link:g,abTest:m,clientId:f,isMobileDevice:v,sendPrivacyData:b}=n,y=d?d(s):void 0;if(void 0===o||!y)return l;if(e&&t===o&&l===r)return e;const x=s.session.tabId,j={type:211,eventType:"action",eventId:(0,i.by)(),actionType:"externalLink",eventOrdinal:0,uiElement:y.uiElement,payload:Object.assign(Object.assign({},y.payload),{externalLink:{forkEventOrdinal:o,parentTabId:x}})},w=(0,a.D)({tabId:(0,i.by)(),apikey:p,commitIsoDate:u,deviceLocale:s.session.browserLocale,state:s,eventParams:j,enhancedAttrs:{},abTest:m,clientId:f,isMobileDevice:v,sendPrivacyData:b});return r=l,t=o,e=c({eventParams:JSON.stringify([(0,i.uv)(w)]),href:l,bssV3Url:h,bssV3Link:g}),e}},l=e=>{const{showEventOrdinal:t,actionEventParamsSelector:r,originalHref:n,config:s}=e,i=d(),a=s.webApiKey,o=s.commitIsoDate,c=s.bssV3LinkEndpoint,l=s.bssV3Link,u=s.experiments,p=Number(s.clientId),h=s.isMobileDevice;return i({originalHref:n,showEventOrdinal:t,actionEventParamsSelector:r,webApiKey:a,bssV3Url:c,bssV3Link:l,sendPrivacyData:!s.featureReadOnly,commitIsoDate:o,abTest:u,clientId:p,isMobileDevice:h})}},38820:(e,t,r)=>{"use strict";r.d(t,{g:()=>h});var n=r(52322),s=r(78535),i=r(91880),a=r(99167),o=r(37123),c=r(2784),d=r(73717),l=r(41149),u=r(59420),p=r(30007);const h=(0,c.memo)((e=>{var t;const{css:r,s:c}=(0,s.y)(g),{entity:h}=e;switch(h.type){case"branch":return(0,o.n)(h)?(0,n.jsx)("span",Object.assign({className:r(c.wrapper)},p.dx.n("wat-mini-crown"),{children:(0,n.jsx)(i._,{})})):null;case"route":return(0,u.Y)(h.subtype,h.route_logo)?(0,n.jsx)("span",Object.assign({className:r(c.wrapper)},{children:(0,n.jsx)(d.T,{background:(0,l.M)(h),regionCode:(0,a.i)(h),routeLogo:h.route_logo,showLineNumber:!0})})):null;case"station_entrance":case"station_platform":case"station":if((0,u.Y)(h.subtype,h.route_logo)){const e=null===(t=h.routes)||void 0===t?void 0:t[0];if(e)return(0,n.jsx)("span",Object.assign({className:r(c.wrapper)},{children:(0,n.jsx)(d.T,{background:(0,l.M)(e),regionCode:(0,a.i)(h),routeLogo:e.route_logo,showLineNumber:!0})}))}return null;default:return null}})),g=(0,s.k)({wrapper:{display:"inline-flex",verticalAlign:"middle",marginTop:-2}})},65727:(e,t,r)=>{"use strict";r.d(t,{O:()=>T});var n=r(52322),s=r(2784),i=r(49765),a=r(39461),o=r(45537),c=r(40889),d=r(64273);const l=e=>{const{entityId:t,type:r}=e;return(0,o.xJ)((e=>{var n;const s=null===(n=(0,c.Fq)(e.appContext.frames))||void 0===n?void 0:n.id;return s?(0,a.Sb)({frameId:s,entityId:t,tab:"realty"}):(0,d.xo)({id:t,type:r,tab:"realty"})}))};var u=r(74215),p=r(93527),h=r(14897),g=r(8151),m=r(93331),f=r(48472);const v=e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t},action:"tap"};const n=(0,g.fq)(r),s=(0,m.O)(r);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,h.U)({locale:s,region_id:n})},enableMapLayer:!0},placeItem:(0,f.s)({state:r,entityFrameId:t})}}};var b=r(10668),y=r(54722),x=r(17442),j=r(98212);const w=(0,s.memo)((({entity:e})=>{const{featureRealty:t}=(0,y.Z)(),{useBssHandler:r,bssRef:a}=(0,u.T)((e=>({frameId:t},r)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t}};const n=(0,g.fq)(r),s=(0,m.O)(r);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,h.U)({locale:s,region_id:n})}},placeItem:(0,f.s)({state:r,entityFrameId:t})}}})(t)),o=(0,x.T)(),c=r(v,t),d=(0,p.A)(b.T,{entity:"building"===e.type?{type:"building",id:e.id}:void 0}),w=(0,p.A)(l,{entityId:e.id,type:e.type}),I=(0,s.useCallback)((()=>{c(),t?d():w()}),[]);return(0,j.K)(e)?(0,n.jsx)(i.z,Object.assign({containerRef:a,onClick:I,appearance:"primary",dataN:"wat-realty-button",medium:!0},{children:o._t("Недвижимость в этом доме")})):null}));w.displayName="RealtyButton";var I=r(66885),C=r(78535),O=(r(96907),r(38821),r(85251)),_=r(63833);const k=()=>{const{bssRef:e,showEventOrdinal:t}=(0,u.T)((({frameId:e},t)=>{const r=(0,g.fq)(t),n=(0,m.O)(t);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:e},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,h.U)({locale:n,region_id:r})}},placeItem:(0,f.s)({state:t,entityFrameId:e})}}})),{css:r,s}=(0,C.y)(S),a=(0,x.T)(),o=(0,_.N)("entity");if(!o)return null;const c=a._gg("Подключить интернет");return(0,n.jsx)("div",Object.assign({ref:e},{children:(0,n.jsx)(I.X,Object.assign({actionEventParamsSelector:(d={ownerFrameId:o.id},e=>{const t=(0,g.fq)(e),r=(0,m.O)(e);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:d.ownerFrameId},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,h.U)({locale:r,region_id:t})},enableMapLayer:!0},placeItem:(0,f.s)({state:e,entityFrameId:d.ownerFrameId})}}}),originalHref:"https://rt.ru/lightplus?utm_source=2gis&utm_medium=cpm&utm_campaign=2gis_lightplus_special_project",showEventOrdinal:t},{children:e=>(0,n.jsx)(i.z,Object.assign({appearance:"primary",dataN:"wat-rostelecom-button",href:e,external:!0,medium:!0},{children:(0,n.jsxs)("div",Object.assign({className:r(s.content)},{children:[false,c]}))}))}))}));var d};k.displayName="RostelecomButton";const S=(0,C.k)({logo:{width:16,height:16,borderRadius:O.E0.default,overflow:"hidden",marginEnd:8},content:{display:"flex",alignItems:"center"}});var M=r(94560);const T=(0,s.memo)((e=>{const{entity:t}=e,{data:r}=(0,M.P)(t.id,t.type);return void 0===r?null:r?(0,n.jsx)(k,{}):(0,n.jsx)(w,{entity:t})}))},88315:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,h:()=>a});var n=r(38773),s=r(59420),i=r(38821);function a(e){return(0,n.t)(e)&&(0,s.Y)(e.subtype,e.route_logo)}const o=(e,t,r)=>{if(!r)return;if(t)return t;if(!e)return;const n=r.offsetWidth,s=r.offsetHeight;return(0,i.W)(e,`${n}x${s}`)}},10682:(e,t,r)=>{"use strict";r.d(t,{X:()=>d,c:()=>l});var n=r(52322),s=r(78535),i=r(2784),a=r(83516),o=r(27039),c=r(75031);const d=165,l=(0,i.memo)((({isMedia:e,withoutPhotos:t})=>{const{css:r,s:i}=(0,s.y)(u);return(0,n.jsxs)(a.S,Object.assign({dataN:"wat-skeleton-minicard"},{children:[!t&&(0,n.jsx)("div",Object.assign({className:r(i.photos)},{children:(0,n.jsx)(c.k,{isMedia:e})})),(0,n.jsx)(o.b,{width:240,height:20,borderRadius:6}),(0,n.jsx)(o.b,{width:120,height:16,marginTop:4,borderRadius:6}),(0,n.jsx)(o.b,{width:160,height:16,marginTop:8,borderRadius:6}),(0,n.jsx)(o.b,{height:16,marginTop:8,borderRadius:6})]}))}));l.displayName="MiniSkeleton";const u=(0,s.k)({photos:{marginTop:-4,marginBottom:16}})},83516:(e,t,r)=>{"use strict";r.d(t,{S:()=>p});var n=r(52322),s=r(31567),i=r(88944),a=r(86467),o=r(78535),c=r(30007),d=r(2784),l=r(27215),u=r(92007);const p=(0,d.memo)((e=>{const{children:t,entityId:r,isActive:s,onClick:i,dataN:p="wat-mini-wrap",dataT:g,dataS:m}=e,{css:f,s:v}=(0,o.y)(h),{refCallback:b,isHovered:y}=(0,a.X)(),x=(0,l.v9)((e=>e.appContext.weak.hoveredId)),j=(0,l.I0)();return(0,d.useEffect)((()=>{y?j((0,u.yy)({hoveredId:r})):x===r&&j((0,u.yy)({hoveredId:void 0}))}),[y]),(0,n.jsx)("div",Object.assign({ref:b,className:f(v.root,y&&v._hovered,s&&v._active),onClick:i},c.dx.n(p),c.dx.t(g),c.dx.s(m),{children:t}))})),h=(0,o.k)((e=>({root:{position:"relative",paddingTop:16,paddingBottom:16,paddingStart:20,paddingEnd:20,boxShadow:i.q.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",":hover":{background:s.O.gray_f9f9f9}},_active:{background:s.O.gray_f9f9f9,":after":{position:"absolute",start:0,top:0,content:'""',width:3,height:"100%",boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`}},_hovered:{background:s.O.gray_f9f9f9}})))},75031:(e,t,r)=>{"use strict";r.d(t,{k:()=>N});var n=r(52322),s=r(78535),i=r(2784),a=r(81735),o=r(31567),c=r(95849),d=r(74215),l=r(79225),u=r(44995),p=r(27215),h=r(85251),g=r(19463),m=r(23146),f=r(89807),v=r(60903);const b=({entity:e,entityPosition:t,photoPosition:r})=>({frameId:n},s)=>{if(e)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:n,position:r},payload:{placeItem:(0,m.Pj)({entity:e,position:t}),searchResultsList:(0,f.PD)({state:s,searchFrameId:n}),promoItem:(0,v.z)({state:s,frameId:n})},action:"tap"}};var y=r(40889),x=r(5330),j=r(76803),w=r(48039);const I=(0,i.memo)((({data:e,size:t,previewSize:r,isMedia:i,entity:a,entityPosition:I,photoPosition:O})=>{const{s:_,css:k}=(0,s.y)(C),S=(0,p.I0)(),{bssRef:M,useBssHandler:T}=(0,d.T)((({entity:e,entityPosition:t,photoPosition:r})=>({frameId:n},s)=>{if(e)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:n,position:r},payload:{placeItem:(0,m.Pj)({entity:e,position:t}),searchResultsList:(0,f.PD)({state:s,searchFrameId:n}),promoItem:(0,v.z)({state:s,frameId:n})}}})({entity:a,entityPosition:I,photoPosition:O})),N=T(b,{entity:a,entityPosition:I,photoPosition:O}),P=(0,c.$)((t=>{a&&(t.stopPropagation(),S((0,x._N)((e=>{const t=(0,y.t0)(e.appContext.frames,"search");return"query"===(null==t?void 0:t.searchType)?(0,l.Gp)(t.tabCatalog.searchId):void 0}),(t=>!!t&&(0,g.BN)((0,u.l)({entityId:a.id,searchId:t,entityType:a.type,photoId:e.id}))))),N())}));return(0,n.jsxs)("div",Object.assign({className:k(_.root),ref:M,onClick:P,style:{flexBasis:t,height:t}},{children:[(0,n.jsx)(w.j,{src:e.preview_urls[r[0]],src2x:e.preview_urls[r[1]],lazyLoadVisibilityOffset:0,borderRadius:h.E0.isolate,backgroundColor:o.O.black_transparent_06}),i&&1===O&&!!a&&(0,n.jsx)("div",Object.assign({className:k(_.logo)},{children:(0,n.jsx)(j.T,{size:64,entity:a})}))]}))}));I.displayName="MiniEntityPhotosItem";const C=(0,s.k)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var O=r(27039),_=r(56409),k=r(55817),S=r(8517),M=r(29397),T=r(36614);const N=(0,i.memo)((({photos:e,isMedia:t=!1,entity:r,entityPosition:o})=>{const{s:c,css:d}=(0,s.y)(P),{size:l,gap:u}=(e=>e?{size:116,gap:8}:{size:88,gap:4})(t),[p,g]=(0,_.S)({}),m=g&&e?r&&(0,a.h)(r)?e.filter((({is_pinned:e})=>e)):e:void 0,f=(null==m?void 0:m.length)||k.R,v=(0,i.useMemo)((()=>t?f<3?["328x170","656x340"]:["116x116","232x232"]:f<4?["328x170","656x340"]:["88x88","176x176"]),[f,t]),b=(0,i.useRef)(null);return(0,n.jsx)("div",Object.assign({className:d(c.root),ref:p},{children:m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.S,Object.assign({gap:u,offset:16,containerRef:b},{children:m.map(((e,s)=>(0,n.jsx)(I,{data:e,size:l,previewSize:v,isMedia:t,entity:r,entityPosition:o,photoPosition:s+1},`${e.id}-${s}`)))})),(0,n.jsx)(M.N,{children:(0,n.jsx)(T.o,{offset:20,scrollboxRef:b})})]}):(0,n.jsx)(O.b,{count:f,flexBasis:l,flexShrink:0,flexGrow:1,height:l,gap:u,marginStart:16,marginEnd:16,borderRadius:h.E0.isolate})}))}));N.displayName="MiniEntityPhotos";const P=(0,s.k)({root:{marginStart:-20,marginEnd:-20,position:"relative"}})},42586:(e,t,r)=>{"use strict";r.d(t,{y:()=>g});var n=r(52322),s=r(2784),i=r(78535),a=r(49765),o=r(31567),c=r(65969),d=r(60774),l=r(26171),u=r(29397),p=r(30007),h=r(85251);const g=s.memo((e=>{const t=(0,d.T)(),{submitText:r,onSubmit:s,onCancel:h,withoutUserAvatar:g,disabledButton:f=!1,disabledCancelButton:v=!1,withAuth:b=!1,cancelText:y,experimentalStyles:x,isLoading:j=!1}=e,{css:w,s:I}=(0,i.y)(m);return(0,n.jsxs)("div",Object.assign({className:w(I.root,x)},p.dx.n("wat-popup-footer"),{children:[(0,n.jsx)(u.N,{children:g?null:(0,n.jsx)(l.a,{withAuth:b})}),(0,n.jsxs)("div",Object.assign({className:w(I.confirmBlock)},{children:[(0,n.jsx)("div",Object.assign({className:w(I.buttonWrapper)},{children:h&&(0,n.jsx)(a.z,Object.assign({appearance:"ghost",disabled:v,onClick:v?void 0:h,dataN:"wat-popup-footer-cancel",dataS:f?"disabled":"active",wide:!0},{children:y||t._t("Отменить")}))})),(0,n.jsx)("div",Object.assign({className:w(I.buttonWrapper)},{children:s&&(0,n.jsx)(a.z,Object.assign({appearance:"secondary",disabled:f,onClick:s,dataN:"wat-popup-footer-submit",dataS:f?"disabled":"active",wide:!0},{children:j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",Object.assign({className:w(I.preloader)},{children:(0,n.jsx)(c.p,{caterpillarColor:o.O.blue_028eff})})),(0,n.jsx)("span",Object.assign({className:w(j&&I.submitButtonText)},{children:t._t("Опубликовать")}))]}):r||t._t("Опубликовать")}))}))]}))]}))})),m=(0,i.k)((e=>({root:{display:"flex",background:o.O.gray_f2f2f2,padding:e.mobile?20:24,borderBottomLeftRadius:h.E0.isolate,borderBottomRightRadius:h.E0.isolate,justifyContent:"flex-end"},confirmBlock:{display:"flex",alignItems:"center",marginInlineStart:e.mobile?0:"auto",flexGrow:e.mobile?1:0,flexShrink:0},buttonWrapper:{display:"flex",justifyContent:"center",flexGrow:1,"&:empty":{display:"none"}},submitButtonText:{visibility:"hidden"},preloader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}})))},89788:(e,t,r)=>{"use strict";r.d(t,{k:()=>g});var n=r(52322),s=r(2784),i=r(27215),a=r(86550),o=r(82514),c=r(31567),d=r(37144),l=r(86993);var u=r(30007);class p extends s.PureComponent{constructor(){super(...arguments),this.state={isMounted:"undefined"==typeof window||window.isServerRendered}}render(){const{s:e}=this.props,t=this.state.isMounted?this.getPercentage():0;return(0,n.jsx)("div",Object.assign({className:(0,a.iv)(e.wrapper)},u.dx.n("wat-progress-bar"),u.dx.v(t),{children:(0,n.jsx)("div",{className:(0,a.iv)(e.bar,100===t&&e._fulfilled),style:{width:`${t}%`}})}))}componentDidMount(){this.state.isMounted||(this.timeoutId=window.setTimeout((()=>this.setState({isMounted:!0})),0))}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}getPercentage(){const{metas:e}=this.props;return 100*e.reduce(((e,t)=>t?"loading"===t.status?e+.67:e+1:e+.33),0)}}const h={wrapper:{position:"absolute",zIndex:1,top:0,left:0,right:0,height:"3px"},bar:{height:"100%",width:"0%",transition:"width .5s ease-out, opacity .5s ease-in .5s",background:c.O.yellow_ffb81c},_fulfilled:{opacity:0}},g=(0,i.$j)((()=>{const e=(0,d.P1)([({state:e,props:t})=>(0,l.m)({state:e,statusId:t.statusIds||""})],(e=>({metas:e?[e.meta]:[]})));return(t,r)=>e({state:t,props:r})}))((0,o.D2)(h)(p))},73625:(e,t,r)=>{"use strict";r.d(t,{H:()=>y});var n=r(52322),s=r(2784),i=r(6989),a=r(45554),o=r(52266),c=r(72899);var d=r(26354),l=r(88240),u=r(8151),p=r(93331),h=r(14897),g=r(5330),m=r(48472);var f=r(26789),v=r(19007);class b extends s.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,n.jsx)("img",{src:this.props.icon_url}),this.onClick=e=>{const{item:t,onClick:r}=this.props;"pseudorubric"===t.type&&(0,v.t)(t.action.type)||e.preventDefault(),this.props.bssOnRubricClick(),r(t,e)}}render(){const{bssRef:e,title:t,type:r,seoTitle:s,href:i}=this.props;return(0,n.jsx)(f.M,{bssRef:e,title:t,href:i,dataT:r,seoTitle:s,onClick:this.onClick,icon:this.renderIcon})}}b.displayName=(0,a.I)("src/shared/containers/rubrics/components/rubricItem");const y=(0,d.z)(((e,t)=>{const{item:r,position:n,where:s}=e,i=(0,u.yH)(t),a=(0,p.O)(t);switch(r.type){case"metarubric":return{uiElement:{name:"metarubricIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:i?{id:r.id,type:"metarubric"}:void 0,where:s,tag:r.tag},placeItem:"Card"===s?(0,m.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};case"pseudorubric":return{uiElement:{name:"commercialIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:r.id,type:"pseudorubric",segmentInfo:(0,h.U)({region_id:r.region_id||i,locale:a})},adsHighlight:!0,tag:r.tag||"",org:r.owner_id,where:s},callToAction:{actionType:r.action.type,value:r.action.value}}};case"rubric":return{uiElement:{name:"rubricIcon",ownerName:"iconList",position:n,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:r.id,type:"rubric"},tag:r.tag,org:void 0,adsHighlight:void 0,where:s},placeItem:"Card"===s?(0,m.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};default:return}}),((e,t)=>({bssOnRubricClick(){const{item:r,position:n,where:s}=t;switch(r.type){case"metarubric":return e((0,g.gF)({projectId:u.yH,placeItem:e=>(0,m.s)({state:e,entityFrameId:t.ownerFrameId})},(({projectId:e,placeItem:i})=>{const a={uiElement:{name:"metarubricIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{searchRequest:{text:r.search_query},icon:{entity:e?{id:r.id,type:"metarubric"}:void 0,where:s,tag:r.tag,org:void 0,adsHighlight:void 0},placeItem:"Card"===s?i:void 0},action:"tap"};return(0,l.zs)(a)})));case"pseudorubric":return e((0,g.gF)({locale:p.O,projectId:u.yH,placeItem:e=>(0,m.s)({state:e,entityFrameId:t.ownerFrameId})},(({locale:e,projectId:i,placeItem:a})=>{const o={uiElement:{name:"commercialIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{callToAction:{actionType:r.action.type,value:r.action.value},icon:{entity:{id:r.id,type:"pseudorubric",segmentInfo:(0,h.U)({region_id:r.region_id||i,locale:e})},adsHighlight:!0,tag:r.tag||"",org:r.owner_id,where:s},placeItem:"Card"===s?a:void 0},action:"tap"};return(0,l.zs)(o)})));case"rubric":return e((0,g.gF)({placeItem:e=>(0,m.s)({state:e,entityFrameId:t.ownerFrameId})},(({placeItem:e})=>{const i={uiElement:{name:"rubricIcon",ownerName:"iconList",position:n,frameUuid:t.ownerFrameId},payload:{searchRequest:{entities:[{id:r.id,type:r.type}]},icon:{entity:{id:r.id,type:"rubric"},tag:r.tag,org:void 0,adsHighlight:void 0,where:s},placeItem:"Card"===s?e:void 0},action:"tap"};return(0,l.zs)(i)})));default:return}}})),{forceSendShowIfPropsChanged:["dashboardId"]})((0,o.C)((({item:e})=>({title:e.name||e.caption,icon_url:e.icon_url?(0,c.J)(e.icon_url):void 0,type:e.type,seoTitle:e.seoTitle})))((0,i.$)()(b)))},25069:(e,t,r)=>{"use strict";r.d(t,{J:()=>l,R:()=>u});var n=r(45537),s=r(60618),i=r(82603),a=r(64273),o=r(5330),c=r(56087),d=r(33131);function l(e){return(0,o.zh)((t=>(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:e}),(0,s.gB)({query:e,viewpoint:t}))))}function u(e){switch(e.action.type){case"open_card":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,a.xo)({id:e.action.value,searchId:(0,i.by)(),hash:void 0,type:"branch"}));case"search_by_org":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,s.QR)({orgId:e.action.value}));case"search_buy_here":return(0,d.J)({adsIds:e.action.value});default:return(0,o.zh)((t=>(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:e.action.value}),(0,s.gB)({query:e.action.value,viewpoint:t}))))}}},50113:(e,t,r)=>{"use strict";r.d(t,{S:()=>O});var n=r(52322),s=r(2784),i=r(41996),a=r(37144),o=r(20882),c=r(79225);function d(e){return(0,c.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)}const l=(0,a.P1)([({state:e})=>d(e),({state:e})=>function(e){const t=d(e);return(0,o.l)({dashboardId:t,state:e})}(e)],((e,t)=>({dashboardId:e,dashboard:t}))),u=(0,i.X1)(((e,t)=>l({state:e,props:t})));var p=r(56087),h=r(25069),g=r(46331);const m=(0,i.Z3)((e=>({hideSuggester:()=>e((0,p.p_)({suggesterKey:"primary",show:!1})),onMetarubricClick:t=>e((0,h.J)(t)),onPseudorubricClick:t=>e((0,h.R)(t)),fillDashboardRubricatorState(){e((0,g.HT)())},resetRubricatorId(){e((0,g.HT)(!0))}})));var f=r(45554),v=r(48478),b=r(52266),y=r(32994);var x=r(73625),j=r(30007),w=r(26354);var I=r(52942);class C extends s.PureComponent{constructor(){super(...arguments),this.handleRubricClick=e=>{const{hideSuggester:t,onMetarubricClick:r,onPseudorubricClick:n}=this.props;switch(t(),e.type){case"metarubric":r(e.search_query);break;case"pseudorubric":n(e)}}}componentDidMount(){this.props.fillDashboardRubricatorState()}componentWillUnmount(){this.props.resetRubricatorId()}render(){const{items:e,bssRef:t,dashboardId:r,where:s,status:i}=this.props;return"loading"===i?(0,n.jsx)(v.C,{}):"error"===i?null:(0,n.jsxs)("div",Object.assign({ref:t},j.dx.n("wat-rubrics"),{children:[e&&e.map(((e,t)=>(0,n.jsx)(I.P,Object.assign({rubric:e,isDashboardMode:!0},{children:i=>(0,n.jsx)(x.H,{where:s,href:i,position:t+1,item:e,onClick:this.handleRubricClick,dashboardId:r})}),t))),this.props.moreButtons]}))}}C.displayName=(0,f.I)("src/shared/containers/rubrics");const O=(0,i.$j)(u,m)((0,b.C)((({dashboard:e,moreButtons:t})=>{const r=(0,y.$)(e);if(r)return{status:r};const n=(0,y.gk)({dashboard:e,moreButtons:t});return n?{items:n}:void 0}))((0,w.z)((e=>{const{items:t,ownerFrameId:r,ownerName:n}=e;if(t)return{uiElement:{name:"iconList",ownerName:n,frameUuid:r},payload:{iconList:{size:t.length}}}}),void 0,{forceSendShowIfPropsChanged:["dashboardId"]})(C)))},32994:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,K4:()=>d,gk:()=>c});var n=r(72899),s=r(34185),i=r(93917),a=r(12460);function o(e){return(0,s.V)(e)?"error":(0,i.hg)(e)||(0,a.X)(e)?"loading":void 0}function c(e){const{dashboard:t,moreButtons:r}=e,n=null==t?void 0:t.data,s=r?r.length:0,i=n&&function(e,t){const r=4,n=e.length,s=n+t,i=s%r;return s<=r||!i?e:e.slice(0,n-i)}(n,s);return i?i.map((e=>d(e))):void 0}function d(e){return Object.assign(Object.assign({},e),{icon_url:e.icon_url?(0,n.J)(e.icon_url):void 0,seoTitle:e.name||e.caption})}},73154:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var n=r(52322),s=r(18975),i=r(68402),a=r(78621),o=r(99167);const c=(0,s.B)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entity:e})=>({cityAlias:t=>{var r,n;return(0,o.i)(e)||(null===(n=null===(r=(0,a.D4)({state:t,id:e.region_id}))||void 0===r?void 0:r.data)||void 0===n?void 0:n.uri_code)}})})((({entity:e,tab:t,cityAlias:r,children:s})=>(0,n.jsx)(i.E,Object.assign({type:e.type,id:e.id,tab:t,cityAlias:r},{children:s}))))},52942:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(52322),s=r(18975),i=r(68402),a=r(75716);const o=(0,s.B)()({__dirname:"src/shared/containers/seoLink/containers",formatter:({rubric:e,isDashboardMode:t})=>({urlParams:c(e,{isDashboardMode:t})})})((({urlParams:e,children:t})=>(0,n.jsx)(i.E,Object.assign({},e,{children:t}))));function c(e,t={}){switch(e.type){case"pseudorubric":switch(e.action.type){case"open_card":return{type:"branch",id:e.action.value};case"search_by_query":return{type:"catalogSearch",query:e.name||e.caption};case"search_by_org":return{type:"organizationBranches",id:e.action.value};default:return{type:"custom",url:(0,a.Y)(e.action)||""}}case"metarubric":return t.isDashboardMode?{type:"catalogSearch",query:e.search_query||e.name||e.caption}:{type:"subrubrics",id:e.id};case"rubric":return{type:"catalogSearch",rubricId:e.id,query:e.seo_name||e.name||e.caption}}}},68402:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(18975),s=r(24550),i=r(78621);const a=(0,n.B)()({__dirname:"src/shared/containers/seoLink",selectors:{selectedCityAlias:i.Rg,lang:e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0},formatter:e=>({href:(0,s.B)(Object.assign({cityAlias:"cityAlias"in e?e.cityAlias:e.selectedCityAlias},e))})})((({children:e,href:t})=>e(t)))},44685:(e,t,r)=>{"use strict";r.d(t,{w:()=>h});var n=r(52322),s=r(2784),i=r(45554),a=r(58688),o=r(18975),c=r(52266),d=r(40889),l=r(30007);class u extends s.PureComponent{render(){const{showH1Header:e,children:t,className:r,dataN:s=""}=this.props,i=e?"h1":"div";return(0,n.jsx)(i,Object.assign({className:r},s?l.dx.n(s):{},{children:t}))}}u.displayName=(0,i.I)("src/shared/containers/seoTitle/containers/seoTitleInner");const p=(0,o.G)({selectors:{frames:e=>e.appContext.frames}})((0,c.C)((({frameId:e,frames:t})=>({showH1Header:(0,d.yP)(t,e)})))(u));class h extends s.PureComponent{render(){return(0,n.jsx)(a.j.Consumer,{children:({frameId:e})=>(0,n.jsx)(p,Object.assign({frameId:e},this.props))})}}h.displayName=(0,i.I)("src/shared/containers/seoTitle")},17234:(e,t,r)=>{"use strict";r.d(t,{L:()=>m});var n=r(52322),s=r(2784),i=r(18975),a=r(45554),o=r(52266),c=r(49765),d=r(20930),l=r(51665),u=r(8151),p=r(74747);const h={onClick:d.r};class g extends s.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e,type:t,entityId:r,frameId:n,searchId:s}=this.props;return e({subtype:t,entityId:r,frameId:n,searchId:s})}}render(){const{value:e,dataN:t}=this.props;return(0,n.jsx)(p.w,{children:(0,n.jsx)("div",{children:(0,n.jsx)(c.z,Object.assign({wide:!0,dataN:t,onClick:this.onClick},{children:e}))})})}}g.displayName=(0,a.I)("src/shared/containers/typedFeedbackEntry");const m=(0,i.G)({handlers:h,selectors:()=>{const e=(0,l.T3)();return({entityId:t})=>({entity:r=>t?e({state:r,entityId:t}).data:void 0,regionId:u.fq})}})((0,o.C)((({type:e,entity:t},{tp:r,config:n})=>{if(!t||"0"!==t.region_id||"RU"===n.defaultCountryCode)return{value:"addOrg"===e?r._t("Добавить организацию"):r._t("Нашли ошибку в данных?"),dataN:"addOrg"===e?"wat-add-org-button":"wat-upd-obj-button"}}))(g))},26171:(e,t,r)=>{"use strict";r.d(t,{a:()=>w});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(52266),c=r(88944),d=r(41996),l=r(64118),u=r(15057),p=r(90326),h=r(30007),g=r(49958),m=r(87682),f=r(6989),v=r(31567);class b extends s.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>this.props.initials}render(){const{s:e,name:t,user:r,avatar:s,i18n:a,withAuth:o=!1}=this.props;return(0,n.jsxs)(n.Fragment,{children:[o&&(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.row),onClick:this.props.onLogin},h.dx.n("wat-auth-popup-control"),{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.avatar,e._auth)},{children:(0,n.jsx)(g.u,{})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.entry)},{children:a.tp._t("Войти")}))]})),!o&&r&&(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.row)},h.dx.n("wat-user-info"),{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.avatar)},{children:(0,n.jsx)(l.q,{initials:this.renderInitials,src:s})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.name)},{children:t}))]}))]})}}const y="40px",x={row:{display:"flex",alignItems:"center"},avatar:{background:v.O.white,width:y,height:y,borderRadius:"50%",verticalAlign:"top",marginEnd:8,overflow:"hidden",flexShrink:0,boxShadow:c.q.logo},_auth:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},entry:{color:v.O.blue_0072ce,cursor:"pointer"},name:{maxHeight:32,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"}},j=(0,d.Z3)((e=>({onLogin(){e((0,m.mk)())}}))),w=(0,d.$j)((e=>{const t=(0,u.bG)(e);return{user:t&&t.data}}),j)((0,o.C)(((e,{tp:t})=>{const{withAuth:r,user:n}=e;if(!n)return{withAuth:r};const s=n.avatar_preview_tpl?n.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):n.avatar;return{withAuth:!1,name:n.display_name||n.name,avatar:s,initials:(0,p.C)(n,t)}}))((0,a.D2)(x)((0,f.$)()(b))))},16425:(e,t,r)=>{"use strict";r.d(t,{N:()=>p});var n=r(2784),s=r(41996);const i=(0,r(37144).P1)([({state:e})=>e.appContext.pitch,({state:e})=>e.appContext.rotation],((e,t)=>({pitch:e,rotation:t}))),a=(0,s.X1)(((e,t)=>i({state:e,props:t})));var o=r(71756);const c=(0,s.Z3)((e=>({subscribeOnMapMove(t,r){e((0,o.Oo)({id:t,type:"map:move",handler:r}))},removeListeners(t){e((0,o.xg)({id:t}))}})));var d=r(45554),l=r(82603);class u extends n.Component{constructor(){super(...arguments),this.state={rotation:this.props.rotation,pitch:this.props.pitch,isInteracting:!1},this.listenersId=(0,l.by)()}componentDidMount(){this.props.subscribeOnMapMove(this.listenersId,(({rotation:e,pitch:t})=>{e===this.state.rotation&&t===this.state.pitch||this.setState({rotation:e,pitch:t})}))}componentWillUnmount(){this.props.removeListeners(this.listenersId)}render(){return this.props.children({rotation:this.state.rotation,pitch:this.state.pitch,isInteracting:this.state.isInteracting})}}u.displayName=(0,d.I)("src/shared/containers/whereami");const p=(0,s.$j)(a,c)(u)},64956:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=r(2784).createContext({showEventOrdinal:void 0})},87310:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=r(2784).createContext(void 0)},21458:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=r(40673),s=r(45537);function i(e,t){let r=0;const i=[];return t.forEach((t=>{const s=t.main,a=t.background;if(a){const t=window.setTimeout((()=>{e((0,n.xN)(a))}),r);i.push(t)}s.forEach((t=>{const s=window.setTimeout((()=>{e((0,n.xN)(t))}),r);i.push(s),r+=t.duration||0}))})),[function(){i.forEach((e=>{window.clearTimeout(e)})),e((0,s.xJ)((e=>(0,n.xN)({center:e.appContext.center&&[e.appContext.center.lon,e.appContext.center.lat]||[37.630791,55.751686],zoom:e.appContext.zoom||5,pitch:0,rotation:0,animate:!1}))))},r]}},80469:(e,t,r)=>{"use strict";r.d(t,{DH:()=>u,dF:()=>d,W4:()=>l,_P:()=>p,vv:()=>h});var n=r(85417),s=r(31567),i=r(35789),a=r(38773),o=r(11890);function c(e){const t=e&&e.options&&e.options.color;if(t)return t;const r=e&&e.options&&e.options.logo&&e.options.logo.bg_color;return r||void 0}function d(e,t){return(0,o.t)(e)?s.O.gray_b2b2b2:"route"===e.type?function(e){if(e.color)return e.color;return(0,n.s)(e.subtype)}(e):(0,a.t)(e)?function(e,t){return e.color||e.routes&&e.routes[0].color||t.colors.green_299400_brand}(e,t):"branch"===e.type&&c(e.ads)||t.colors.green_299400_brand}function l(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options&&e.ads.options.images;return t&&t.length?t[0].url:void 0}function u(e){return!("branch"!==e.type||!c(e.ads))}function p(e){return"#262626"===(0,i.x)(e)?"dark":"light"}function h(e,t){return t?s.O.white:(0,i.x)(e)}},11378:(e,t,r)=>{"use strict";r.d(t,{zP:()=>d,_Y:()=>g,w:()=>p,U8:()=>h,BZ:()=>l,uN:()=>u});var n=r(22176),s=r(13087);const i=e=>e.split("_").pop();var a=r(31567),o=r(80469);const c="14";function d(e){if(!e)return;if((0,n.Z)(e))return c;if((0,s.I)(e))return i(e);const t=e.match(/\d.*$/),r=t&&t[0];return r||void 0}function l(e){return{background:a.O.white,color:e,borderColor:e}}function u(e){return{color:(0,o.vv)(e,!1),background:e,borderColor:e}}function p(e){return"links"in e&&e.links&&e.links.entrances?e.links.entrances:void 0}function h(e){return"links"in e&&e.links&&e.links.parking?e.links.parking:void 0}function g(e){return"links"in e&&e.links?e.links.landmarks:void 0}},41996:(e,t,r)=>{"use strict";r.d(t,{$j:()=>n.$,X1:()=>s,Z3:()=>i});var n=r(16164);function s(e){return e}function i(e){return e}},16217:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(52322),s=r(2784);const i=function(e){var t;return(t=class extends s.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=e=>{this.setState({isHovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e)},this.handleMouseLeave=e=>{this.setState({isHovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e)}}render(){const t={onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return(0,n.jsx)(e,Object.assign({},this.props,{hoverableHandlers:t,isHovered:this.props.isHovered||this.state.isHovered}))}}).displayName=`Hoverable(${e.displayName||e.name||"Unnamed"})`,t}},18975:(e,t,r)=>{"use strict";r.d(t,{B:()=>m,G:()=>f});var n=r(74081),s=r(27215),i=r(97698),a=r(27087),o=r(10061),c=r(82514),d=r(13130),l=r(2784),u=r(35712),p=r(54576),h=r(26354),g=r(45554);function m(){return e=>{const{__dirname:t,selectors:r,handlers:a,formatter:o,bss:m,styles:f}=e,b=r?(0,s.$j)("function"==typeof r?v(r):(0,i.zB)(r)):void 0,y=m?(0,h.z)(m.showEventFormatter):void 0,x=o?(0,d.C8)(o):void 0,j=e=>t=>{const r=Object.assign({},t);if(a){const e=l.useContext(p.x);Object.assign(r,(0,n.DE)(a,e.dispatch))}return(e=>{const t=l.useContext(u.f);Object.assign(e,{i18n:t})})(r),l.createElement(e,r)};return e=>{let r=j(l.memo(e));return f&&(r=(0,c.D2)(f)(r)),x&&(r=x(r)),y&&(r=y(r)),b&&(r=b(r)),r.displayName=`reconnect2(${(0,g.I)(t)})`,r}}}function f(e){const{selectors:t,handlers:r={}}=e,n="function"==typeof t?v(t):(0,i.zB)(t);return(0,s.$j)(n,r)}function v(e){const t=(0,o.i)(e);return(e,r)=>{const n=t(r);if("function"==typeof n){const e=(0,o.i)(n);return(t,r)=>b(e(r),t)}return b(n,e)}}function b(e,t){return(0,a.uc)(e).reduce(((r,n)=>(r[n]=e[n](t),r)),{})}},66944:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(52322),s=r(2784),i=r(26486);const a=function(){return function(e){var t;return(t=class extends s.Component{render(){return(0,n.jsx)(i.E.Consumer,{children:t=>(0,n.jsx)(e,Object.assign({},this.props,{config:t}))})}}).displayName=`WithConfig(${e.displayName||e.name||"Unnamed"})`,t}}},52266:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(5163),s=r(52322),i=r(2784);var a=r(13130);function o(e,t){return function(r){class o extends i.PureComponent{render(){return(0,s.jsx)(a.Il,{children:i=>{const a=e(this.props,i);if(!a)return null;if("asyncStatus"in(o=a)&&("loading"===o.asyncStatus||"error"===o.asyncStatus))return t?t(a.asyncStatus):null;var o;if(this.props.render){const e=this.props,{render:t}=e,i=(0,n._T)(e,["render"]);return t((0,s.jsx)(r,Object.assign({},i,a)))}return(0,s.jsx)(r,Object.assign({},this.props,a))}})}}return o.displayName=`WithFormatter(${r.displayName||r.name||"Unnamed"})`,o}}},6989:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});var n=r(52322),s=r(2784),i=r(35712);const a=function(){return function(e){var t;return(t=class extends s.Component{render(){return(0,n.jsx)(e,Object.assign({},this.props,{i18n:this.context}))}}).displayName=`WithI18n(${e.displayName||e.name||"Unnamed"})`,t.contextType=i.f,t}}},87457:(e,t,r)=>{"use strict";r.d(t,{n:()=>b});var n=r(54722),s=r(95849),i=r(60774),a=r(23586),o=r(88657),c=r(55850),d=r(74215),l=r(27215),u=r(93331),p=r(16770),h=r(40889),g=r(48472),m=r(1058),f=r(4279),v=r(55457);function b({isForceShown:e}={}){var t;const r=(0,i.T)(),o=(0,l.I0)(),{frame:c,entity:h}=(0,m.j)(),{featureAlbumsCounts:g}=(0,n.Z)(),b=(0,l.v9)(u.O),{isMobileDevice:w}=(0,n.Z)(),I=(0,a.VP)("menu"===(null==c?void 0:c.tab)&&"branch"===(null==h?void 0:h.type)?{branchId:h.id,locale:b}:void 0),C=g?20:void 0,O=(0,v.gx)("menu"===(null==c?void 0:c.tab)&&"branch"===(null==h?void 0:h.type)?{id:c.entityId,albumId:f.Ok,locale:b,pageSize:C}:void 0,{enabled:g}),_=O.data?(null===(t=O.data)||void 0===t?void 0:t.pages[0].items.length)||0:void 0,k=I.data?I.data.total||0:void 0,S=g?_:k,{bssRef:M,useBssHandler:T}=(0,d.T)(x({size:S})),N=T(j,{size:S}),P=(0,s.$)((()=>{c&&h&&(N(),o((0,p.L)({entityId:h.id,searchId:c.searchId,isMenuPhoto:!0})))}));if("menu"===(null==c?void 0:c.tab)&&(e||w||0!==S))return{type:"addMenuPhoto",label:y(h,r),icon:void 0,href:void 0,onClick:P,bssRef:M}}function y(e,t){switch(e&&(0,c.J)(e)?(0,o.a)(e.rubrics):void 0){case"menu":return t._t("Добавить фото меню");case"prices":return t._t("Добавить фото прайс-листа");default:return}}const x=({size:e})=>({frameId:t},r)=>{const n=(0,h.iF)(r.appContext.frames,t);if(void 0!==e&&"entity"===(null==n?void 0:n.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,g.s)({state:r,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:n.entityId},size:e}}}},j=({size:e})=>({frameId:t},r)=>{const n=(0,h.iF)(r.appContext.frames,t);if(void 0!==e&&"entity"===(null==n?void 0:n.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,g.s)({state:r,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:n.entityId},size:e}},action:"tap"}}},11668:(e,t,r)=>{"use strict";r.d(t,{h:()=>m});var n=r(54722),s=r(95849),i=r(60774),a=r(74215),o=r(27215),c=r(16770),d=r(48472),l=r(1058),u=r(63476),p=r(90091),h=r(4279),g=r(86411);function m({isForceShown:e}={}){var t,r;const d=(0,i.T)(),m=(0,o.I0)(),{frame:v,entity:b}=(0,l.j)(),{isMobileDevice:y,featureAlbumsCounts:x}=(0,n.Z)(),j=(0,u.J)("photos"===(null==v?void 0:v.tab)?{entity:b}:void 0),{data:w}=(0,p.Hv)({objectId:(null==b?void 0:b.id)||(null==v?void 0:v.entityId)||""},{enabled:!(!(null==b?void 0:b.id)&&!(null==v?void 0:v.entityId))&&x}),{useBssHandler:I}=(0,a.T)(),C=I(f,{size:null===(t=j.data)||void 0===t?void 0:t.total}),O=(0,s.$)((()=>{if(v&&b){if(C(),x){const e="menu"===v.tab,t=null==w?void 0:w.albums.find((e=>e.id===h.n4));t&&!e&&m((0,g.K)({frameId:v.id,selectedAlbum:t}))}m((0,c.L)({entityId:b.id,searchId:v.searchId}))}}));if("photos"===(null==v?void 0:v.tab)&&(e||y||0!==(null===(r=j.data)||void 0===r?void 0:r.total)))return{type:"addPhoto",label:d._t("Добавить фото"),icon:void 0,href:void 0,onClick:O}}const f=({size:e})=>({frameId:t},r)=>({uiElement:{name:"addPhotoButton",ownerName:"cardGallery",frameUuid:t},payload:{placeItem:(0,d.s)({state:r,entityFrameId:t}),gallery:{size:e||0}},action:"tap"})},5161:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(52322),s=r(95849),i=r(60774),a=r(27215),o=r(7108),c=r(79754);function d({isLabelShown:e}={}){var t;const r=(0,i.T)(),d=(0,a.I0)(),l=null===(t=(0,a.v9)((e=>e.appContext.frames[1])))||void 0===t?void 0:t.type;return{type:"back",label:e?"search"===l?r._t("К результатам"):r._t("Назад"):void 0,icon:(0,n.jsx)(o.x,{}),href:void 0,onClick:(0,s.$)((()=>{d((0,c.yt)())}))}}},69643:(e,t,r)=>{"use strict";r.d(t,{d:()=>b});var n=r(52322),s=r(95849),i=r(60774),a=r(74215),o=r(42461),c=r(27215),d=r(45537),l=r(87682);const u=(0,d.gQ)("handleBookmarkClick",(e=>(0,l.mk)("handleBookmarkClick",e)));var p=r(20718);function h({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v17.723z"})}))}function g({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"M12 15L18 17.7501V6C18 5.5214 17.4907 5 17 5H7C6.50933 5 6 5.5214 6 6V17.7501L12 15ZM20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}function m({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{d:"M20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}var f=r(48472),v=r(1058);function b({color:e,isLabelShown:t,isSmallIcon:r}){const d=(0,i.T)(),l=(0,c.I0)(),{entity:f}=(0,v.j)(),b=f?{object_id:f.id,object_type:f.type,point:"point"in f?f.point:void 0}:void 0,x=(0,c.v9)((e=>!!b&&((0,o.y7)(b)(e)||(0,o.Tb)(b)(e)))),j=(0,a.T)().useBssHandler(y,{isFilled:x});return{type:"bookmark",label:t?x?d._t("Сохранено"):d._t("Сохранить"):void 0,icon:r?x?(0,n.jsx)(m,{color:e}):(0,n.jsx)(g,{color:e}):x?(0,n.jsx)(h,{color:e}):(0,n.jsx)(p.r,{color:e}),href:void 0,isBookmarked:x,onClick:(0,s.$)((e=>{b&&(j(),l(u({item:b,isAdded:x,targetBoundingClientRect:e.currentTarget.getBoundingClientRect()})))}))}}const y=e=>({frameId:t},r)=>({uiElement:{name:"bookmark",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{favoritesItem:{isFilled:e.isFilled},placeItem:(0,f.s)({state:r,entityFrameId:t})}})},5507:(e,t,r)=>{"use strict";r.d(t,{o:()=>f});var n=r(52322),s=r(31567),i=r(95849),a=r(60774),o=r(45537),c=r(52781),d=r(19463),l=r(59682);const u=(0,o.gQ)("onMapEntityButtonClick",(e=>(0,o.vP)((0,d.BN)((0,c.kG)({isMinimized:!0})),(0,l.Nr)({lon:null==e?void 0:e.lon,lat:null==e?void 0:e.lat,zoom:null==e?void 0:e.zoom}))));var p=r(27215),h=r(45877),g=r(77752),m=r(1058);function f({isLabelShown:e}){const t=(0,a.T)(),r=(0,p.I0)(),{entity:o}=(0,m.j)(),c=(0,p.v9)((e=>o?(0,g.B)({entity:o,state:e}):void 0));return{type:"map",label:e?t._t("На карте"):void 0,icon:(0,n.jsx)(h.D,{color:s.O.black}),href:void 0,onClick:(0,i.$)((()=>{r(u(c))}))}}},83266:(e,t,r)=>{"use strict";r.d(t,{d:()=>p});var n=r(52322),s=r(95849),i=r(60774),a=r(27215),o=r(52781),c=r(96039),d=r(7108),l=r(66544),u=r(96281);function p({isLabelShown:e}={}){const t=(0,i.T)(),r=(0,a.I0)(),p=(0,u.l)(),{label:h,icon:g}=function(e,t){switch(e){case"entity":case"product":return{icon:(0,n.jsx)(c.Ad,{}),label:t._t("Карточка")};case"search":return{icon:(0,n.jsx)(l.a,{}),label:t._t("Списком")};default:return{icon:(0,n.jsx)(d.x,{}),label:t._t("Назад")}}}(p.type,t);return{type:"maximize",label:e?h:void 0,icon:g,href:void 0,onClick:(0,s.$)((()=>{r((0,o.kG)({isMinimized:!1}))}))}}},96740:(e,t,r)=>{"use strict";r.d(t,{t:()=>b});var n=r(52322),s=r(95849),i=r(60774),a=r(20851);function o({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 8C13 7.57928 13.2186 7.07833 13.6565 6.66345C14.0881 6.25457 14.6616 6 15.25 6C16.5212 6 17.5 7.02299 17.5 8V9H19.5V8C19.5 5.77701 17.4788 4 15.25 4C14.0884 4 13.0369 4.49543 12.281 5.21155C11.5314 5.92167 11 6.92072 11 8V16C11 16.9477 10.1977 18 8.75 18C7.30229 18 6.50002 16.9477 6.50001 16L6.5 15L4.5 15.0004L4.50001 16C4.50003 18.0523 6.19769 20 8.75 20C11.3023 20 13 18.0523 13 16V8ZM9 9.5C9 11.433 7.433 13 5.5 13C3.567 13 2 11.433 2 9.5C2 7.567 3.567 6 5.5 6C7.433 6 9 7.567 9 9.5ZM5.5 11C6.32843 11 7 10.3284 7 9.5C7 8.67157 6.32843 8 5.5 8C4.67157 8 4 8.67157 4 9.5C4 10.3284 4.67157 11 5.5 11ZM22 14.5C22 16.433 20.433 18 18.5 18C16.567 18 15 16.433 15 14.5C15 12.567 16.567 11 18.5 11C20.433 11 22 12.567 22 14.5ZM18.5 16C19.3284 16 20 15.3284 20 14.5C20 13.6716 19.3284 13 18.5 13C17.6716 13 17 13.6716 17 14.5C17 15.3284 17.6716 16 18.5 16Z",fill:e})}))}var c=r(74215),d=r(27215),l=r(48472),u=r(28108),p=r(1058),h=r(54722),g=r(8344),m=r(87198),f=r(36459),v=r(25920);function b({color:e,isLabelShown:t,isSmallIcon:r}){var l;const b=(0,i.T)(),x=(0,d.I0)(),{isMobileDevice:j,experiments:w}=(0,h.Z)(),I=(0,f.c)(v.Bm,w)===v.ZM,{frame:C,entity:O}=(0,p.j)(),_=(null==C?void 0:C.point)||O&&"point"in O&&O.point||void 0,k=(0,c.T)().useBssHandler(y),S=(0,d.v9)((e=>e.session.platform)),M=null===(l=(0,m.O)({platform:S,type:"modalGeoPromoDirect"}))||void 0===l?void 0:l.link,T=(0,u.W)({type:"directions",points:_?[void 0,{type:"point",lonLat:_,entityId:null==O?void 0:O.id}]:void 0}),N=(0,s.$)((()=>{k(),j&&!I?window.open(M):x((0,g.k)({lonLat:_,entityId:null==O?void 0:O.id}))}));if(_&&"route"!==(null==O?void 0:O.type)&&(!j||I||M))return{type:"route",label:t?b._t("Проехать"):void 0,icon:r?(0,n.jsx)(o,{color:e}):(0,n.jsx)(a.Z,{color:e}),href:T,onClick:N}}const y=()=>({frameId:e},t)=>({uiElement:{name:"buildRoute",ownerName:"placeCardFull",frameUuid:e},action:"tap",payload:{placeItem:(0,l.s)({state:t,entityFrameId:e})}})},41952:(e,t,r)=>{"use strict";r.d(t,{T:()=>u});var n=r(52322),s=r(95849),i=r(51150),a=r(27215),o=r(90126);function c({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.5C21 7.433 19.433 9 17.5 9C16.5814 9 15.7455 8.64612 15.1211 8.06725L9.8971 11.1541C9.96432 11.425 10 11.7083 10 12C10 12.2917 9.96432 12.575 9.8971 12.8459L15.1211 15.9328C15.7455 15.3539 16.5814 15 17.5 15C19.433 15 21 16.567 21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 18.2084 14.0357 17.925 14.1029 17.6542L8.87889 14.5673C8.2545 15.1461 7.41858 15.5 6.5 15.5C4.567 15.5 3 13.933 3 12C3 10.067 4.567 8.5 6.5 8.5C7.41858 8.5 8.25451 8.85387 8.8789 9.43272L14.1029 6.34581C14.0357 6.07496 14 5.79164 14 5.5C14 3.567 15.567 2 17.5 2C19.433 2 21 3.567 21 5.5ZM17.5 7C18.3284 7 19 6.32843 19 5.5C19 4.67157 18.3284 4 17.5 4C16.6716 4 16 4.67157 16 5.5C16 6.32843 16.6716 7 17.5 7ZM8 12C8 12.8284 7.32843 13.5 6.5 13.5C5.67157 13.5 5 12.8284 5 12C5 11.1716 5.67157 10.5 6.5 10.5C7.32843 10.5 8 11.1716 8 12ZM19 18.5C19 19.3284 18.3284 20 17.5 20C16.6716 20 16 19.3284 16 18.5C16 17.6716 16.6716 17 17.5 17C18.3284 17 19 17.6716 19 18.5Z",fill:e})}))}var d=r(63833),l=r(60774);function u({color:e,isLabelShown:t,isSmallIcon:r}){const u=(0,l.T)(),p=(0,a.I0)(),h=(0,d.N)("entity");return{type:"share",label:t?u._t("Отправить"):void 0,icon:r?(0,n.jsx)(c,{color:e}):(0,n.jsx)(o.m,{color:e}),href:void 0,onClick:(0,s.$)((()=>{h&&p((0,i.q)({frameId:h.id}))}))}}},1058:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var n=r(63833),s=r(86592);function i(e){const t=(0,n.N)("entity");return{frame:t,entity:(0,s.X)(null==t?void 0:t.entityId,(null==e?void 0:e.withSearchContext)?null==t?void 0:t.searchId:void 0)}}},63833:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(27215),s=r(40889);function i(e){return(0,n.v9)((t=>(0,s.t0)(t.appContext.frames,e)))}},86592:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(51665),s=r(27215);function i(e,t){return(0,s.v9)((r=>{if(e)return t?(0,n.wj)({state:r,entityId:e,searchId:t}).data:(0,n.nM)({state:r,entityId:e}).data}))}},53625:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(2784),s=r(82603),i=r(27215),a=r(71756);function o(e){const t=(0,i.I0)(),{type:r,handler:o,stopIfHandled:c,priority:d}=e;(0,n.useEffect)((()=>{const e=(0,s.by)();return t((0,a.Oo)({id:e,type:r,handler:o,stopIfHandled:c,priority:d})),()=>{t((0,a.xg)({id:e}))}}),[r,o,c,d,t])}},54481:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(37676),s=r(2784);function i(e,t){(0,s.useEffect)((()=>{const t=(0,n.mA)().then((t=>{if(t)return e(t.map,t.api,t.mapgl)}));return()=>{t.then((e=>{e&&e()}))}}),t)}},61525:(e,t,r)=>{"use strict";r.d(t,{Hy:()=>g,Mu:()=>u,ul:()=>h});var n=r(2784),s=r(15057),i=r(27215),a=r(64841),o=r(31816);const c="dg5_quickNotes";let d={};const l=a.tO.local.getItem(c);if(l)try{d=JSON.parse(l)}catch(e){}const u=(0,o.c)(d);function p(e,t){u.set((r=>Object.assign(Object.assign({},r),{[e]:t}))),a.tO.local.setItem(c,JSON.stringify(u.get()))}const h=e=>{const{entityId:t,userId:r}=e;return r?`${r}-${t}`:t},g=e=>{const{entityId:t}=e,r=(0,i.v9)(s.b1),a=h({userId:r,entityId:t}),o=(0,n.useMemo)((()=>e=>e[a]),[a]);return[u.use(o),{updateItem:(0,n.useCallback)((e=>p(a,e)),[a]),removeItem:(0,n.useCallback)((()=>p(a,void 0)),[a])}]}},69906:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(2784),s=r(58688);r(79307);function i(e){const{frameId:t}=(0,n.useContext)(s.j)}},6499:(e,t,r)=>{"use strict";r.d(t,{l:()=>p});var n=r(52322),s=r(86467),i=r(28316),a=r(2784),o=r(92199),c=r(78535),d=r(85251),l=r(35608),u=r(31567);const p=e=>{const{title:t,to:r,delay:d,offset:l,fixedWidth:u,isNowraped:p,loseHoverOnClick:g=!0}=e;let m;const f=d||200,{s:v,css:b}=(0,c.y)(h),{ref:y,refCallback:x,isHovered:j}=(0,s.X)({loseHoverOnClick:g}),[w,I]=(0,a.useState)(!1);(0,a.useEffect)((()=>(j||(I(!1),window.clearTimeout(m)),()=>{window.clearTimeout(m)})),[j]);const C="undefined"!=typeof document?document.getElementById("tooltips"):void 0,O=(0,a.useMemo)((()=>y.current?y.current.getBoundingClientRect():void 0),[w,y.current]),_=(0,a.useMemo)((()=>j?w?t?j&&(0,n.jsx)(o.k,Object.assign({targetBoundingClientRect:O,offset:l||4,to:r},{children:(0,n.jsx)("div",Object.assign({className:b(v.content,p&&v._nowraped),style:{width:u||"auto"}},{children:t}))})):null:(m=window.setTimeout((()=>I(!0)),f),null):null),[j,w,O]);return{ref:y,refCallback:x,addTooltip:C?(0,i.createPortal)(_,C):null}},h=(0,c.k)({content:Object.assign(Object.assign({},l.oN),{borderRadius:d.E0.default,display:"flex",alignItems:"center",justifyContent:"center",color:u.O.white,boxSizing:"border-box",opacity:.85,padding:8,pointerEvents:"none",background:u.O.black,":empty":{background:"unset"}}),_nowraped:{whiteSpace:"nowrap"}})},96281:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(27215);function s(){return(0,n.v9)((e=>e.appContext.frames[0]))}},17442:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(2784),s=r(35712);function i(){const{tp:e}=(0,n.useContext)(s.f);return e}},1083:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,n.jsx)("path",{d:"M102.49 91.27a3 3 0 0 1 2.28.54l6.63 4.92 1.6-.8V22a7 7 0 0 0-7-7H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h69.46a6.91 6.91 0 0 0 6.15 2.17l14.54-2.17-.3-2-14.53 2.18a5 5 0 0 1-5.61-3.8l-2.49-10.57 7-1.17.07.07.09-.09 3.78-.63-.32-2-2.94.49-2.83-2.83zM22 17h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm65.84 80L87 98.23l2.73 11.62a6.46 6.46 0 0 0 .38 1.15H22a5 5 0 0 1-5-5V33h94v60.94l-5-3.73a5 5 0 0 0-3.8-.92l-9.83 1.64-3.64-3.64a17.09 17.09 0 1 0-1.41 1.41l7.2 7.21zM76 91a15 15 0 1 1 15-15 15 15 0 0 1-15 15z"}),(0,n.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,n.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,n.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,n.jsx)("ellipse",{cx:"52",cy:"76",rx:"3",ry:"4"}),(0,n.jsx)("ellipse",{cx:"76",cy:"76",rx:"3",ry:"4"}),(0,n.jsx)("path",{d:"M47.754 67.97l.485-1.94 8.004 2.002-.485 1.94zM64 96a8 8 0 0 0-8 8h16a8 8 0 0 0-8-8z"})]}))}},66220:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,n.jsx)("path",{d:"M106 15H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h84a7 7 0 0 0 7-7V22a7 7 0 0 0-7-7zm-84 2h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm84 94H22a5 5 0 0 1-5-5V33h94v73a5 5 0 0 1-5 5z"}),(0,n.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,n.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,n.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,n.jsx)("path",{d:"M48.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM72.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM71 95H48v2h23v3a5 5 0 0 0 10 0v-5H71zm8 5a3 3 0 0 1-6 0v-3h6z"})]}))}},49147:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(52322);function s(){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},{children:[(0,n.jsxs)("g",Object.assign({clipPath:"url(#AwardsPinColored-A-16px)"},{children:[(0,n.jsx)("path",{fill:"url(#AwardsPinColored-B-16px)",d:"M9.941 15H7.5V0h1C13.537 0 16 3.224 16 6.563c0 1.278-.303 2.363-.929 3.75l-.464.937h-.928c-1.503 0-2.322.938-2.322.938-.843.805-1.416 1.67-1.416 2.812Z"}),(0,n.jsx)("path",{fill:"url(#AwardsPinColored-C-16px)",d:"M10.069 16H7.757c-.184-1.204-.187-2.926-1.114-3.813 1.611.156 1.64-.48 2.247-.937h4.788c-1.502 0-2.321.938-2.321.938-.843.805-1.288 2.67-1.288 3.812Z"}),(0,n.jsx)("path",{fill:"url(#AwardsPinColored-D-16px)",d:"M8.243 16H6.757c-.184-1.204-.187-2.926-1.114-3.813-.132-.126-.82-.937-2.322-.937h-.928l-.464-.938C1.303 8.927 1 7.842 1 6.563 1 3.224 3.64 0 7.5 0S14 3.224 14 6.563c0 1.278-.303 2.363-.929 3.75l-.464.937h-.928c-1.503 0-2.322.938-2.322.938-.843.805-1.114 2.67-1.114 3.812Z"}),(0,n.jsx)("path",{fill:"url(#AwardsPinColored-E-16px)",d:"M8.948 4.575 7.63 2.185c-.078-.138-.252-.138-.33 0l-1.284 2.39-2.516.313c-.176.02-.247.227-.116.34L5.29 7.02l-.58 2.594c-.042.162.135.296.293.223L7.5 8.696 9.938 9.76c.158.073.334-.061.293-.223l-.52-2.517 1.772-1.718c.13-.114.06-.32-.116-.34l-2.419-.387Z"}),(0,n.jsx)("path",{fill:"url(#AwardsPinColored-F-16px)",d:"M8.81 4.798 7.65 2.623a.17.17 0 0 0-.302 0l-1.16 2.175-2.252.275a.174.174 0 0 0-.095.3l1.692 1.575-.57 2.408a.172.172 0 0 0 .242.196l2.294-1.13 2.295 1.13a.172.172 0 0 0 .242-.196l-.57-2.408 1.692-1.576a.174.174 0 0 0-.095-.3L8.81 4.799Z"})]})),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",Object.assign({id:"AwardsPinColored-B-16px",x1:"14.029",x2:"13.891",y1:".218",y2:"13.269",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#6C4F0B"}),(0,n.jsx)("stop",{offset:".772",stopColor:"#473204"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#CE9A22"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"AwardsPinColored-C-16px",x1:"10.575",x2:"9.51",y1:"12.239",y2:"16",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#1F1705"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#473204"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"AwardsPinColored-D-16px",x1:"8.947",x2:"8.784",y1:"-1.326",y2:"17.328",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#FFE9B6"}),(0,n.jsx)("stop",{offset:".084",stopColor:"#FFC94C"}),(0,n.jsx)("stop",{offset:".904",stopColor:"#EFA701"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FFE9B6"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"AwardsPinColored-E-16px",x1:"1.975",x2:"11.48",y1:"-.234",y2:"11.348",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#fff"}),(0,n.jsx)("stop",{offset:".812",stopColor:"#fff",stopOpacity:"0"})]})),(0,n.jsxs)("linearGradient",Object.assign({id:"AwardsPinColored-F-16px",x1:"7.5",x2:"9.978",y1:"2.133",y2:"9.57",gradientUnits:"userSpaceOnUse"},{children:[(0,n.jsx)("stop",{stopColor:"#271C03"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#4E3805"})]})),(0,n.jsx)("clipPath",Object.assign({id:"AwardsPinColored-A-16px"},{children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})}))]})]}))}},25607:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,n.jsx)("path",{d:"M8 7.293L5.354 4.646l-.708.708L7.293 8l-2.647 2.646.708.708L8 8.707l2.646 2.647.708-.708L8.707 8l2.647-2.646-.708-.708L8 7.293zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})}))}},48157:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,n.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},3590:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);function s({color:e="currentColor",width:t=24,height:r=24}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 24 24",fill:e},{children:(0,n.jsx)("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"})}))}},72498:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(52322);function s({color:e="currentColor",size:t=24}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:e},{children:(0,n.jsx)("path",{d:"M14 14l-1.08 1.45a13.61 13.61 0 0 1-4.37-4.37L10 10a18.47 18.47 0 0 0-.95-5.85L9 4H5.06a1 1 0 0 0-1 1.09 16 16 0 0 0 14.85 14.85 1 1 0 0 0 1.09-1V15h-.15A18.47 18.47 0 0 0 14 14z"})}))}},49951:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(52322);function s({width:e=24,height:t=24}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24"},{children:(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsx)("path",{d:"M0 0h24v24H0z"}),(0,n.jsx)("path",{fill:"#ED9F2E",d:"M3.56 2h19.08a1.2 1.2 0 011.191 1.349l-2.2 17.6A1.2 1.2 0 0120.441 22H1.359a1.2 1.2 0 01-1.19-1.349l2.2-17.6A1.2 1.2 0 013.559 2z"}),(0,n.jsx)("path",{fill:"#FFF",fillRule:"nonzero",stroke:"#FFF",strokeWidth:".6",d:"M8.935 7.25c1.456 0 2.599.434 3.427 1.302.828.867 1.242 1.975 1.242 3.323 0 1.348-.414 2.456-1.242 3.323-.828.868-1.97 1.302-3.427 1.302h0-2.956V8.49H4.45l.85-1.24zm8.985 0v8.034H20l-.497 1.216h-4.826v-1.216h1.936V8.466H14.82V7.25h3.1zM8.844 8.452H7.327v6.872h1.517c.968 0 1.768-.289 2.4-.866.632-.577.948-1.438.948-2.583 0-1.128-.316-1.98-.948-2.557-.632-.577-1.432-.866-2.4-.866h0z"})]}))}))}},36917:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(52322);function s({width:e=24,height:t=24}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24"},{children:(0,n.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,n.jsx)("path",{d:"M0 0h24v24H0z"}),(0,n.jsx)("path",{fill:"#E94282",d:"M3.56 2h19.08a1.2 1.2 0 011.191 1.349l-2.2 17.6A1.2 1.2 0 0120.441 22H1.359a1.2 1.2 0 01-1.19-1.349l2.2-17.6A1.2 1.2 0 013.559 2z"}),(0,n.jsx)("path",{fill:"#FFF",fillRule:"nonzero",stroke:"#FFF",strokeWidth:".6",d:"M5 7.21v.004h2.764c1.339 0 2.408.37 3.209 1.106l.167.164c.816.846 1.224 1.927 1.224 3.241s-.408 2.395-1.224 3.24c-.816.847-1.942 1.27-3.376 1.27h0-2.913V8.389l-1.57.001.86-1.18H5zm11.707-.15c.97 0 1.714.269 2.23.806.515.536.772 1.14.772 1.81 0 .619-.189 1.196-.567 1.733-.378.537-.915 1.145-1.61 1.824h0l-1.83 1.79v.027h4.445l-.425 1.185h-5.824v-1.018l2.28-2.268.207-.208c.738-.748 1.247-1.318 1.527-1.712.305-.43.457-.85.457-1.263 0-.455-.159-.82-.477-1.095-.318-.275-.713-.412-1.185-.412a2.73 2.73 0 00-1.302.315c-.395.21-.726.436-.992.677h0l-.838-.838.137-.135c.29-.27.673-.53 1.152-.78a3.916 3.916 0 011.843-.438zM7.673 8.387H6.179v6.701h1.494c.954 0 1.742-.281 2.365-.844.623-.562.934-1.402.934-2.519 0-1.1-.311-1.93-.934-2.494-.623-.562-1.411-.844-2.365-.844h0z"})]}))}))}},96039:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H7H25H26V8V14V15H25H7H6V14V8V7ZM8 9V13H24V9H8ZM6 18H20V20H6V18ZM24 23H6V25H24V23Z",fill:e})}))}},7108:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M10.414 15H24v2H10.414l6.293 6.293-1.414 1.414L6.586 16l8.707-8.707 1.414 1.414L10.414 15z"})}))}},83755:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M19.29 24.71L10.59 16l8.7-8.71 1.42 1.42-7.3 7.29 7.3 7.29-1.42 1.42z"})}))}},20718:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3zm-9-6.74l7 3.5V9a1 1 0 0 0-1-1H10a1 1 0 0 0-1 1v14.38z"})}))}},71589:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M7.293 8.71l1.414-1.414L24.71 23.297l-1.414 1.415z"}),(0,n.jsx)("path",{d:"M7.293 23.29L23.295 7.288l1.414 1.415L8.707 24.704z"})]}))}},55658:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M7 10h18v2H7zM10 15h12v2H10zM13 20h6v2h-6z"})}))}},50630:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M9.06 13L16 16.856 22.94 13 16 9.144 9.06 13zM16 19.144L4.94 13 16 6.856 27.06 13 16 19.144zm0 3.712l9-5L27.06 19 16 25.144 4.94 19 7 17.856l9 5z"})}))}},66544:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9ZM13 9C12.4477 9 12 9.44772 12 10C12 10.5523 12.4477 11 13 11H23C23.5523 11 24 10.5523 24 10C24 9.44772 23.5523 9 23 9H13ZM13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17H23C23.5523 17 24 16.5523 24 16C24 15.4477 23.5523 15 23 15H13ZM12 22C12 21.4477 12.4477 21 13 21H23C23.5523 21 24 21.4477 24 22C24 22.5523 23.5523 23 23 23H13C12.4477 23 12 22.5523 12 22ZM8 16C8 15.4477 8.44772 15 9 15C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17C8.44772 17 8 16.5523 8 16ZM9 21C8.44772 21 8 21.4477 8 22C8 22.5523 8.44772 23 9 23C9.55228 23 10 22.5523 10 22C10 21.4477 9.55228 21 9 21Z",fill:e})}))}},49958:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,n.jsx)("path",{d:"M26.78 13.78a11.43 11.43 0 0 0-.64-2.06 10.55 10.55 0 0 0-1-1.87 11.61 11.61 0 0 0-1.34-1.63 11 11 0 0 0-1.63-1.34 10.56 10.56 0 0 0-1.87-1 10.81 10.81 0 0 0-2.07-.65 11.34 11.34 0 0 0-4.42 0 10.81 10.81 0 0 0-2.07.65 10.56 10.56 0 0 0-1.87 1 11 11 0 0 0-1.65 1.34 11.61 11.61 0 0 0-1.34 1.63L8.54 11A9.16 9.16 0 0 1 11 8.54a8.08 8.08 0 0 1 1.53-.83 9.1 9.1 0 0 1 1.68-.53 9.29 9.29 0 0 1 3.64 0 9.1 9.1 0 0 1 1.68.53 8.08 8.08 0 0 1 1.47.83A9.16 9.16 0 0 1 23.46 11a8.08 8.08 0 0 1 .83 1.53 9.1 9.1 0 0 1 .53 1.68A9.28 9.28 0 0 1 25 16a9.11 9.11 0 0 1-.18 1.81 9 9 0 0 1-.53 1.69 8.08 8.08 0 0 1-.83 1.5A9.16 9.16 0 0 1 21 23.46a8.08 8.08 0 0 1-1.53.83 9.1 9.1 0 0 1-1.68.53 9.29 9.29 0 0 1-3.64 0 9.1 9.1 0 0 1-1.68-.53 8.08 8.08 0 0 1-1.47-.83A9.16 9.16 0 0 1 8.54 21l-1.66 1.15a11.61 11.61 0 0 0 1.34 1.63 11 11 0 0 0 1.63 1.34 10.56 10.56 0 0 0 1.87 1 10.81 10.81 0 0 0 2.07.65 11.21 11.21 0 0 0 4.42 0 10.81 10.81 0 0 0 2.07-.65 10.56 10.56 0 0 0 1.87-1 11 11 0 0 0 1.63-1.34 11.61 11.61 0 0 0 1.34-1.63 10.55 10.55 0 0 0 1-1.87 11.43 11.43 0 0 0 .64-2.06 11.31 11.31 0 0 0 0-4.44z"}),(0,n.jsx)("path",{d:"M14.29 19.29l1.42 1.42 4.7-4.71-4.7-4.71-1.42 1.42 2.3 2.29H5v2h11.59l-2.3 2.29z"})]}))}},45877:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 6.81958V8.00004V23V23.8472L25.1644 23.9864L19.1644 24.9864L19 25.0138L18.8356 24.9864L13 24.0138L7.1644 24.9864L6 25.1805V24V9.00004V8.15291L6.8356 8.01365L12.8356 7.01365L13 6.98625L13.1644 7.01365L19 7.98625L24.8356 7.01365L26 6.81958ZM8 9.84717V22.8196L12 22.1529V12H14V22.1529L18 22.8196V13H20V22.8196L24 22.1529V9.1805L19.1644 9.98643L19 10.0138L18.8356 9.98643L13 9.01383L8 9.84717Z",fill:e})}))}},11396:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e,fillRule:"evenodd"},{children:(0,n.jsx)("path",{d:"M12.24 8.15l11.44 6.43a1.51 1.51 0 0 1 .57 2 1.64 1.64 0 0 1-.57.57l-11.44 6.48a1.51 1.51 0 0 1-2.05-.57 1.56 1.56 0 0 1-.19-.73V9.45a1.49 1.49 0 0 1 2.24-1.3z"})}))}},357:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M6 13v6a3 3 0 0 0 3 3h1v3h12v-3h1a3 3 0 0 0 3-3v-6zm14 10h-8v-4h8zm4-4a1 1 0 0 1-1 1h-1v-3H10v3H9a1 1 0 0 1-1-1v-4h16zM12 8h8v3h2V6H10v5h2V8z"})}))}},90126:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(52322);function s({color:e="currentColor"}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,n.jsx)("path",{d:"M22 19a4 4 0 0 0-2.92 1.29L12.87 17a3.54 3.54 0 0 0 0-1.9l6.21-3.34A4 4 0 0 0 22 13a4 4 0 1 0-4-4 3.75 3.75 0 0 0 .13.95l-6.21 3.34A4 4 0 0 0 9 12a4 4 0 0 0 0 8 4 4 0 0 0 2.92-1.29l6.21 3.34A3.75 3.75 0 0 0 18 23a4 4 0 1 0 4-4zm0-12a2 2 0 1 1-2 2 2 2 0 0 1 2-2zM9 18a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm13 7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})}))}},38895:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(52322);function s(){return(0,n.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,n.jsx)("circle",{fill:"gray",cx:"16",cy:"16",r:"2"}),(0,n.jsx)("circle",{fill:"gray",cx:"8",cy:"16",r:"2"}),(0,n.jsx)("circle",{fill:"gray",cx:"24",cy:"16",r:"2"})]}))}},84640:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(52322);function s({color:e="currentColor",width:t=32,height:r=32}){return(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:t,height:r,fill:e},{children:(0,n.jsx)("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7v-2z"})}))}},27098:(e,t,r)=>{"use strict";r.d(t,{p:()=>h});var n=r(5163),s=r(52322),i=r(31567),a=r(78535),o=r(2784),c=r(35608),d=r(223),l=r.n(d);const u={a:["href"],b:[],strong:[],i:[],em:[],br:[],p:[],ul:[],ol:[],li:[]},p=e=>e.replace(/(<br\s*\/?>){3,}/g,"<br><br>").replace(/<a /g,'<a target="_blank" rel="noopener" '),h=(0,o.memo)((e=>{var{html:t}=e,r=(0,n._T)(e,["html"]);const{s:i,css:c}=(0,a.y)(g),d=(0,o.useMemo)((()=>(e=>p(l()(e,{whiteList:u})))(t)),[t]);return(0,s.jsx)("span",Object.assign({},r,{children:(0,s.jsx)("span",{className:c(i.html),dangerouslySetInnerHTML:{__html:d}})}))})),g=(0,a.k)({html:{"& a":{color:i.O.blue_0072ce,":hover":{color:i.O.gray_262626}},"& p, & ul, & ol":{marginBottom:"1.23em"},"& *:last-child":{marginBottom:0},"& ul":{listStyle:"disc"},"& ol":{listStyle:"decimal"},"& li":{marginStart:32},"& b, & strong":{fontWeight:c.Ue.bold},"& i, & em":{fontStyle:"italic"}}})},2889:(e,t,r)=>{"use strict";r.d(t,{d:()=>C});var n=r(52322),s=r(54722),i=r(95849),a=r(78535),o=r(30007),c=r(45537),d=r(84304),l=r(82603),u=r(19463);const p=(0,c.gQ)("erirPopup",(e=>(0,u.BN)((0,d.Mw)(Object.assign({id:(0,l.by)(),type:"erir"},e)))));var h=r(65126),g=r(2784),m=r(27215),f=r(6499),v=r(31567),b=r(60774),y=r(39595),x=r(65969),j=r(35608);const w=(0,g.memo)((e=>{var t;const{css:r,s}=(0,a.y)(I),i=(0,b.T)(),o=(0,h.j)(e);return(null==o?void 0:o.isLoading)?(0,n.jsx)(x.p,{}):(null===(t=null==o?void 0:o.blocks)||void 0===t?void 0:t.length)?(0,n.jsxs)("div",Object.assign({className:r(s.root)},{children:[o.blocks.map((({erid:e,legalName:t},i)=>(0,n.jsx)("div",Object.assign({className:r(s.block)},{children:e?(0,n.jsxs)(y.v,Object.assign({inline:!0},{children:[t||null,(0,n.jsx)("span",Object.assign({className:r(s.erid)},{children:e}))]})):t}),i))),!!o.erid&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:r(s.comment)},{children:i._gg("Нажмите на «Реклама», чтобы скопировать ID")})),e.renderIdInput(o.erid)]})]})):(null==o?void 0:o.wasLoading)?(0,n.jsx)("div",{children:i._gg("Не удалось загрузить данные")}):null})),I=(0,a.k)({root:{position:"relative",maxWidth:240},block:{marginTop:6,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},comment:Object.assign(Object.assign({marginTop:6},j.yG),{color:v.O.gray_b2b2b2})}),C=(0,g.memo)((e=>{const{isMobileDevice:t}=(0,s.Z)();return t?(0,n.jsx)(_,Object.assign({},e)):(0,n.jsx)(O,Object.assign({},e))}));C.displayName="AdInfoLink";const O=(0,g.memo)((e=>{const{onCopy:t,renderIdInput:r}=(0,h.e)(),{ref:s,addTooltip:i}=(0,f.l)({title:(0,n.jsx)(w,Object.assign({},e,{renderIdInput:r})),to:"bottomBottomStart",loseHoverOnClick:!1,delay:300});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k,Object.assign({},e,{containerRef:s,onClick:t})),i]})})),_=(0,g.memo)((e=>{const t=(0,m.I0)(),r=(0,i.$)((r=>{r.stopPropagation(),t(p(e))}));return(0,n.jsx)(k,Object.assign({},e,{onClick:r}))})),k=(0,g.memo)((e=>{const{suffix:t,gray:r,tiny:i,small:c,dataN:d="wat-ad-info-link",containerRef:l,onClick:u}=e,{s:p,css:h}=(0,a.y)(S),g=(0,b.T)(),{featureAdInfo:m}=(0,s.Z)();return(0,n.jsx)("span",Object.assign({className:h(p.root,m&&p.cursor,t&&p.suffix,r&&p.gray,i&&p.tiny,c&&p.small)},o.dx.n(d),{ref:m?l:void 0,onClick:m?u:void 0},{children:t?g._t(" — реклама"):g._t("Реклама")}))}));k.displayName="AdInfoLinkInner";const S=(0,a.k)({root:{fontWeight:j.Ue.medium},gray:{color:v.O.gray_929292},tiny:Object.assign({},j.Vz),small:Object.assign({},j.F0),suffix:Object.assign(Object.assign({},j.yG),{color:v.O.gray_929292,whiteSpace:"nowrap"}),cursor:{cursor:"pointer"}})},10484:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(2784),s=r(86631),i=r(54722);const a=({direction:e,size:t,color:r,icon:a=s.E})=>{const{rtl:c}=(0,i.Z)();return n.createElement(a,{direction:o(e,c),size:t,color:r})};function o(e,t){switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}}},49765:(e,t,r)=>{"use strict";r.d(t,{z:()=>v});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(35608),c=r(65632),d=r(31567),l=r(30007);class u extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,disabled:r,onClick:n}=this.props;(t||n)&&e.stopPropagation(),r||(t||e.preventDefault(),n&&n(e))}}render(){const{className:e,style:t,href:r,external:s,disabled:i,children:a,dataN:o="wat-kit-button",dataT:c,dataS:d,type:u,containerRef:p}=this.props,h=l.dx.n(o),g=c?l.dx.t(c):void 0,m=d?l.dx.s(d):void 0,f=Object.assign(Object.assign(Object.assign(Object.assign({className:e,style:t,onClick:this.handleClick,target:s&&r?"_blank":void 0,rel:s&&r&&!r.startsWith("tel:")?"noopener":void 0,disabled:i,ref:p},h),g),m),{type:"submit"===u?"submit":"button"});return r?(0,n.jsx)("a",Object.assign({href:r},f,{children:a})):(0,n.jsx)("button",Object.assign({},f,{children:a}))}}var p=r(85251),h=r(88944),g=r(35789);class m extends s.PureComponent{render(){const{href:e,children:t,onClick:r,external:s,disabled:a,s:o,dataN:c,dataT:d,dataS:l,type:p,containerRef:h,experimentalStyles:g}=this.props;return(0,n.jsx)(u,Object.assign({href:e,className:(0,i.iv)(o.button,this.getAppearanceStyle(),...this.getAdditionalStyles(),g),style:this.getColorStyle(),onClick:r,external:s,disabled:a,dataN:c,dataT:d,dataS:l,type:p,containerRef:h},{children:t}))}getAppearanceStyle(){const{appearance:e,s:t}=this.props;switch(e){case"primary":return t._primary;case"secondary":return t._secondary;case"ghost":return t._ghost;case"noncontrast":return t._noncontrast;default:return t._default}}getColorStyle(){const{background:e}=this.props;return{background:e,color:e&&(0,g.x)(e)}}getAdditionalStyles(){const{wide:e,fat:t,compact:r,medium:n,noBorder:s,sharp:i,leftRounded:a,rightRounded:o,disabled:c,background:d,s:l}=this.props,u=[];return d&&u.push(l._background),e&&u.push(l._wide),s&&u.push(l._noBorder),t?u.push(l._fat):r?u.push(l._compact):n&&u.push(l._medium),i?u.push(l._sharp):a?u.push(l._leftRounded):o&&u.push(l._rightRounded),c&&u.push(l._disabled),u}}const f={background:"transparent",border:"none",margin:0,padding:0,WebkitAppearance:"none",color:"inherit",textDecoration:"none"},v=(0,a.D2)((e=>({button:Object.assign(Object.assign(Object.assign({},f),o.oN),{position:"relative",zIndex:p.W5.base,boxSizing:"border-box",display:"inline-block",borderRadius:p.E0.default,boxShadow:h.q.innerBorderTransparent,overflow:"hidden",padding:"12px 24px",cursor:"pointer",textAlign:"center"}),_background:{background:"transparent",":after":{content:'""',zIndex:p.W5.bottom,position:"absolute",top:0,bottom:0,start:0,end:0,background:"transparent"},":hover:after":{background:(0,c.j)(d.O.gray_929292,.2)}},_wide:{display:"block",width:"100%"},_fat:{padding:"20px 40px"},_compact:{padding:"4px 8px"},_medium:{padding:"8px 12px"},_sharp:{borderRadius:0},_leftRounded:{borderRadius:p.E0.defaultOnlyEnd},_rightRounded:{borderRadius:p.E0.defaultOnlyStart},_default:{background:d.O.white,color:d.O.blue_0072ce,":after":{borderRadius:p.E0.default,boxShadow:h.q.innerBorderTransparent},":hover":{color:d.O.gray_262626},":active":{color:d.O.gray_929292}},_ghost:{background:"transparent",color:d.O.blue_0072ce,":hover":{color:d.O.gray_262626},":active":{color:d.O.gray_929292}},_noncontrast:{background:d.O.gray_f2f2f2,color:d.O.gray_262626,":hover":{color:d.O.gray_262626,background:d.O.blue_c5ebff},":active":{color:d.O.gray_929292}},_noBorder:{boxShadow:"none !important",":after":{boxShadow:"none !important"}},_primary:{color:(0,g.x)(e.colors.green_299400_brand),background:e.colors.green_299400_brand,":active":{color:(0,c.j)((0,g.x)(e.colors.green_299400_brand),.7)}},_secondary:{color:d.O.white,background:d.O.blue_028eff,":active":{color:(0,c.j)(d.O.white,.7)}},_disabled:{opacity:.5,pointerEvents:"none"}})))(m)},33279:(e,t,r)=>{"use strict";r.d(t,{W:()=>p});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(35608),c=r(2796),d=r(30007);class l extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.preventDefault(),this.props.onClick(e)}}render(){const{children:e,size:t,icon:r,innerRef:s,s:a,isLabelSolid:o,fontStyle:c,dataT:l="",dataPs:u,href:p,isShifted:h=!1}=this.props,g=p?"a":"button";return(0,n.jsxs)(g,Object.assign({},d.dx.n("wat-button-action"),d.dx.t(l),{className:(0,i.iv)(a.button,"uppercase"===c&&a._uppercase),onClick:this.handleClick,"data-ps":u,href:p,ref:s},{children:[(0,n.jsx)("span",Object.assign({className:(0,i.iv)(a.icon),style:{width:t,height:t}},{children:r})),e&&(0,n.jsx)("span",Object.assign({className:(0,i.iv)(a.label,o&&a._withSolidLabel,h&&a._shifted)},{children:e}))]}))}}l.displayName=(0,a.I)("src/shared/kit/buttonAction");const u={button:Object.assign(Object.assign({},o.yG),{color:"inherit",border:"none",background:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",":focus":{outline:"none"}}),_uppercase:Object.assign({},o.Mp),icon:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:`opacity ${c.l.short}ms ease`,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:1}},label:{marginStart:4,transition:`opacity ${c.l.short}ms ease`,opacity:.7,"[data-ps]:active &":{opacity:1}},_withSolidLabel:{opacity:1,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:.7}},_shifted:{marginStart:8}},p=(0,i.D2)(u)(l)},62605:(e,t,r)=>{"use strict";r.d(t,{Y:()=>p});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(25607),c=r(31567),d=r(30007);class l extends s.PureComponent{constructor(){super(...arguments),this.isClearHandled=!1,this.onClear=e=>{e.preventDefault(),this.props.stopPropagation&&e.stopPropagation(),this.isClearHandled?this.isClearHandled=!1:(this.isClearHandled=!0,this.props.onClear())}}render(){const{ariaLabel:e,isWhite:t,tabIndex:r,s}=this.props;return(0,n.jsx)("button",Object.assign({type:"button",className:(0,i.iv)(s.root,t&&s._isWhite),tabIndex:r},d.dx.n("wat-clear-btn"),{"aria-label":e,onClick:this.onClear},{children:(0,n.jsx)(o.U,{})}))}}const u={root:{width:"16px",height:"17px",color:c.O.gray_929292,"&:hover":{color:c.O.gray_262626}},_isWhite:{opacity:.7,color:c.O.white,"&:hover":{opacity:1,color:c.O.white}}},p=(0,a.D2)(u)(l)},58894:(e,t,r)=>{"use strict";r.d(t,{o:()=>h});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(30007),c=r(85251),d=r(60395),l=r(31567);class u extends s.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()}}render(){const{title:e,dataT:t,isActive:r,children:s,disabled:a,s:c,innerRef:l,ariaLabel:u}=this.props;return(0,n.jsx)("button",Object.assign({title:e,className:(0,i.iv)(c.control,r&&c._active),onClick:this.handleClick,disabled:a},o.dx.n("wat-kit-control"),o.dx.t(t),l&&{ref:l},(0,d.P)({label:u}),{children:s}))}}u.displayName=(0,a.I)("src/shared/kit/control");const p={control:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,color:l.O.gray_262626,borderRadius:c.E0.default,":hover":{opacity:.7},":active":{color:l.O.blue_028eff},":disabled":{background:l.O.gray_f2f2f2,color:l.O.gray_929292,cursor:"default",":hover":{opacity:1}}},_active:{color:l.O.blue_028eff}},h=(0,i.D2)(p)(u)},36968:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(31567),c=r(88944),d=r(85251);class l extends s.PureComponent{render(){const{isGhost:e,isVertical:t,innerRef:r,s}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,i.iv)(s.controls,e&&s._ghost,t&&s._vertical),ref:r},{children:this.props.children}))}}l.displayName=(0,a.I)("src/shared/kit/controls");const u={controls:{display:"inline-flex",boxShadow:c.q.popup,background:o.O.white,borderRadius:d.E0.default,"& > *":{boxShadow:c.q.innerBorderEndBase,borderRadius:d.E0.defaultOnlyEnd,"&:last-child":{boxShadow:"none"}}},_ghost:{boxShadow:"none",background:"none"},_vertical:{flexDirection:"column","& > *":{boxShadow:c.q.innerBorderBottomBase,borderRadius:d.E0.defaultOnlyTop,"&:last-child":{boxShadow:"none"}}}},p=(0,i.D2)(u)(l)},78792:(e,t,r)=>{"use strict";r.d(t,{u:()=>c});var n=r(52322),s=r(2784),i=r(45554),a=r(82514);class o extends s.PureComponent{render(){const{children:e,s:t}=this.props;return e?(0,n.jsx)("div",Object.assign({className:(0,a.iv)(t.flexRowContent)},{children:e})):null}}o.displayName=(0,i.I)("src/shared/kit/flexRow");const c=(0,a.D2)({flexRowContent:{paddingTop:12,paddingBottom:12,flex:"1 1 auto",minWidth:0,maxWidth:"100%"}})(o)},52431:(e,t,r)=>{"use strict";r.d(t,{C:()=>c});var n=r(52322),s=r(2784),i=r(45554),a=r(82514);class o extends s.PureComponent{render(){const{children:e,size:t=24,s:r}=this.props;return e?(0,n.jsx)("div",Object.assign({className:(0,a.iv)(r.flexRowIcon,48===t&&r._big)},{children:e})):null}}o.displayName=(0,i.I)("src/shared/kit/flexRow");const c=(0,a.D2)({flexRowIcon:{marginTop:8,marginBottom:8,marginStart:-4,marginEnd:12,flex:"0 0 auto",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},_big:{marginTop:0,marginBottom:0,marginStart:-8,marginEnd:8,width:48,height:48}})(o)},20490:(e,t,r)=>{"use strict";r.d(t,{g:()=>p});var n=r(52322),s=r(2784),i=r(45554),a=r(82514),o=r(31567),c=r(85251),d=r(30007);class l extends s.PureComponent{render(){const{children:e,shiftedDivider:t,shiftedContent:r,justifyContent:s,alignItems:i,noDivider:o,dataN:c,s:l,wrap:u}=this.props;return e?(0,n.jsx)("div",Object.assign({className:(0,a.iv)(l.flexRow,r&&l._shiftedContent,u&&l.wrap),style:{justifyContent:s,alignItems:i}},d.dx.n(c||"wat-flex-row"),{"data-divider":!o,"data-divider-shifted":!o&&t||void 0},{children:e})):null}}l.displayName=(0,i.I)("src/shared/kit/flexRow");const u={flexRow:{display:"flex",alignItems:"flex-start",position:"relative",'[data-divider="true"] + &:not([data-divider="false"])::before':{position:"absolute",content:'""',display:"block",borderBottom:`1px solid ${o.O.gray_e6e6e6}`,top:0,right:0,left:0},"[data-divider-shifted] + &[data-divider-shifted]::before":{left:c.dp.rackShift}},_shiftedContent:{paddingStart:c.dp.rackShift},_alignItemsCenter:{alignItems:"center"},wrap:{flexWrap:"wrap"}},p=(0,a.D2)(u)(l)},25636:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var n=r(52322),s=r(2784),i=r(86550),a=r(82514);class o extends s.PureComponent{constructor(){super(...arguments),this.wrapperRef=s.createRef(),this.wasFocused=!1,this.isFocused=!1,this.handleFocusOut=()=>{this.isFocused=!1,this.runTimeout()},this.handleFocusIn=()=>{this.isFocused=!0,this.runTimeout()},this.triggerProperHandler=()=>{this.isFocused!==this.wasFocused&&(this.isFocused?this.props.onFocus&&this.props.onFocus():this.props.onBlur&&this.props.onBlur(),this.wasFocused=this.isFocused)}}componentDidMount(){this.isFocused=!!this.props.initialFocus,this.wasFocused=!!this.props.initialFocus;const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.addEventListener("focusout",this.handleFocusOut),e.addEventListener("focusin",this.handleFocusIn))}componentWillUnmount(){window.clearTimeout(this.triggerTimeoutId);const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.removeEventListener("focusout",this.handleFocusOut),e.removeEventListener("focusin",this.handleFocusIn))}render(){return(0,n.jsx)("div",Object.assign({tabIndex:-1,ref:this.wrapperRef,className:(0,i.iv)(this.props.s.focus),onClick:this.props.onClick},{children:this.props.children}))}runTimeout(){window.clearTimeout(this.triggerTimeoutId),this.triggerTimeoutId=window.setTimeout(this.triggerProperHandler,0)}}const c=(0,a.D2)({focus:{width:"100%",height:"100%",outline:"none"}})(o)},73472:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var n=r(52322),s=r(2784),i=r(85251),a=r(73773),o=r(78535),c=r(31567),d=r(30007);const l=(0,s.memo)((e=>{const{css:t,s:r}=(0,o.y)(u),{children:s,header:i,fixedContentFooter:c,contentScrollId:l,frameBackground:p}=e;return(0,n.jsxs)("div",Object.assign({className:t(r.frameLayoutRoot)},{children:[(0,n.jsx)("div",Object.assign({className:t(r.header)},{children:i})),(0,n.jsx)("div",Object.assign({className:t(r.body)},{children:(0,n.jsxs)("div",Object.assign({className:t(r.content),style:{background:p}},{children:[(0,n.jsx)("div",Object.assign({className:t(r.contentScroller)},{children:(0,n.jsx)("div",Object.assign({className:t(r.contentScrollerInner)},{children:(0,n.jsx)(a.Xs,Object.assign({id:l,persistent:!!l},{children:s}))}))})),c&&(0,n.jsx)("div",Object.assign({className:t(r.contentFooter)},d.dx.n("wat-footer-card"),{children:c}))]}))}))]}))})),u=(0,o.k)({frameLayoutRoot:{position:"relative",zIndex:i.W5.base,background:c.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:i.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:i.W5.base},content:{display:"flex",flexDirection:"column",flex:"1 1 auto"},contentFooter:{position:"relative",zIndex:i.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});l.displayName="FrameLayout"},29105:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(52322),s=r(2784);function i(e){const{onMouseEnter:t,onMouseLeave:r,children:i}=e,[a,o]=(0,s.useState)(!!e.isHovered);return(0,n.jsx)(n.Fragment,{children:i({isHovered:a,hoverHandlers:{onMouseEnter:()=>{o(!0),t&&t()},onMouseLeave:()=>{o(!1),r&&r()}}})})}},18137:(e,t,r)=>{"use strict";r.d(t,{E:()=>s,t:()=>i});var n=r(83466);const s=(0,r(48470).p)((e=>{const t=e.message&&e.message.toString();(0,n.H)({message:t,level:"error",id:"6cvgx",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),i=new Error("ChunkLoadError")},65969:(e,t,r)=>{"use strict";r.d(t,{p:()=>d});var n=r(52322),s=r(2784),i=r(78535),a=r(85251),o=r(31567),c=r(30007);const d=(0,s.memo)((({height:e,caterpillarColor:t=o.O.green_30ad00,dotColor:r=o.O.gray_e6e6e6})=>{const{s,css:a}=(0,i.y)(l);return(0,n.jsx)("div",Object.assign({className:a(s.wrapper),style:{height:e}},c.dx.n("wat-preloader"),{children:(0,n.jsxs)("div",Object.assign({className:a(s.root)},{children:[(0,n.jsx)("div",{className:a(s.dot),style:{backgroundColor:r}}),(0,n.jsx)("div",{className:a(s.dot),style:{backgroundColor:r}}),(0,n.jsx)("div",{className:a(s.dot),style:{backgroundColor:r}}),(0,n.jsx)("div",{className:a(s.dot),style:{backgroundColor:r}}),(0,n.jsx)("div",{className:a(s.dot),style:{backgroundColor:r}}),(0,n.jsx)("div",{className:a(s.caterpillar),style:{backgroundColor:t}})]}))}))})),l=(0,i.k)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center"},root:{display:"flex",justifyContent:"space-between",width:56,position:"relative"},dot:{width:8,height:8,background:o.O.gray_e6e6e6,borderRadius:a.E0.oval},caterpillar:{position:"absolute",top:0,left:0,height:8,borderRadius:a.E0.oval,animationIterationCount:"infinite",animationTimingFunction:"linear",animationDuration:"4s",animationName:{"0%":Object.assign(Object.assign({},u(!1,0)),{opacity:0}),"10%":Object.assign(Object.assign({},u(!1,0)),{opacity:1}),"20%":u(!0,0),"30%":u(!1,12),"40%":u(!0,12),"50%":u(!1,24),"60%":u(!0,24),"70%":u(!1,36),"80%":u(!0,36),"90%":Object.assign(Object.assign({},u(!1,48)),{opacity:1}),"100%":Object.assign(Object.assign({},u(!1,48)),{opacity:0})}}});function u(e,t){return{width:e?20:8,transform:`translateX(${t}px)`}}},55612:(e,t,r)=>{"use strict";r.d(t,{F:()=>u});var n=r(52322),s=r(2784),i=r(45554),a=r(82514),o=r(85251),c=r(30007);class d extends s.PureComponent{render(){const{children:e,dataN:t="wat-rack",s:r}=this.props;return e?(0,n.jsx)("div",Object.assign({className:(0,a.iv)(r.rack),"data-rack":!0},c.dx.n(t),{children:e})):null}}d.displayName=(0,i.I)("src/shared/kit/rack");const l={rack:{"[data-rack] + &":{marginTop:o.dp.rackMargin}}},u=(0,a.D2)(l)(d)},88338:(e,t,r)=>{"use strict";r.d(t,{h:()=>c});var n=r(52322),s=r(2784),i=r(45554),a=r(82514);class o extends s.PureComponent{render(){const{children:e,s:t}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,a.iv)(t.rackWrapper)},{children:e}))}}o.displayName=(0,i.I)("src/shared/kit/rack");const c=(0,a.D2)({rackWrapper:{paddingTop:8,paddingBottom:0,paddingStart:24,paddingEnd:24}})(o)},73773:(e,t,r)=>{"use strict";r.d(t,{Gc:()=>h,Xs:()=>g});var n=r(52322),s=r(2784),i=r(93277),a=r(78535),o=r(85251),c=r(67933),d=r(54722),l=r(28038);const u={},p=(0,s.createContext)({scrollVerticalCenter:void 0});function h(){return(0,s.useContext)(p)}const g=({id:e,persistent:t,children:r})=>{const{isMobileDevice:s}=(0,d.Z)(),a=!s,{ref:o,refCallback:h}=(0,l.C)();(0,i.L)((()=>{o.current&&e&&(o.current.scrollTop=t&&u[e]||0)}),[e,t]);const g=(0,c.y)((()=>{var r;if(!e||!t)return;const n=null===(r=o.current)||void 0===r?void 0:r.scrollTop;n&&(u[e]=n)}),100);(0,i.L)((()=>{var r;if(e&&t)return null===(r=o.current)||void 0===r||r.addEventListener("scroll",g,{passive:!0}),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("scroll",g)}}),[o,e,t]);const v=a?(0,n.jsx)(m,Object.assign({innerRef:o,refCallback:h},{children:r})):(0,n.jsx)(f,Object.assign({innerRef:o},{children:r}));return(0,n.jsx)(p.Provider,Object.assign({value:{scrollVerticalCenter:(b=o,e=>{if(b.current&&e){const{top:t,height:r}=e.getBoundingClientRect(),{clientHeight:n,scrollTop:s}=b.current,i=t>(n+r)/2;if(!(i||t<r))return;b.current.scrollTo({behavior:"smooth",top:i?s+n/2:s-n/2})}})}},{children:v}));var b};g.displayName="Scroll";const m=({children:e,innerRef:t,refCallback:r})=>{const{css:i,s:o}=(0,a.y)(v),[c,d]=(0,s.useState)("100%");(0,s.useEffect)((()=>{if(!t.current)return;const e=setTimeout((()=>{var e;return d((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().width)||"100%")}),0);return()=>{clearTimeout(e)}}),[t]);const[l,u]=(0,s.useState)(!1);return(0,n.jsx)("div",Object.assign({className:i(o.scroller,o._customScrollbar,l&&o._forceOverflowAuto),ref:r,onTouchStartCapture:()=>{u(!0)},tabIndex:-1,"data-scroll":!0},{children:(0,n.jsx)("div",Object.assign({className:i(o.inner),style:{width:c}},{children:e}))}))},f=({children:e,innerRef:t})=>{const{css:r,s}=(0,a.y)(v);return(0,n.jsx)("div",Object.assign({className:r(s.scroller),ref:t,tabIndex:-1,"data-scroll":!0},{children:(0,n.jsx)("div",Object.assign({className:r(s.inner)},{children:e}))}))},v=(0,a.k)({scroller:{height:"100%",overflowX:"hidden",display:"flex",flexDirection:"column"},_customScrollbar:{"@media (hover: hover)":Object.assign(Object.assign({},o.AR),{overflowY:"hidden","&:hover, &:focus":{overflowY:"auto"}})},_forceOverflowAuto:{overflowY:"auto !important"},inner:{flex:"1 0 100%"}})},63119:(e,t,r)=>{"use strict";r.d(t,{u:()=>m});var n=r(52322),s=r(2784),i=r(29397),a=r(85251),o=r(73773),c=r(78535),d=r(31567),l=r(30007);const u=(0,s.memo)((e=>{const{css:t,s:r}=(0,c.y)(p),{children:s,header:i,sidebar:a,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:h,sidebarBg:g,frameBackground:m}=e;return(0,n.jsxs)("div",Object.assign({className:t(r.frameLayoutRoot)},{children:[(0,n.jsx)("div",Object.assign({className:t(r.header)},l.dx.n("wat-frame-header"),{children:i})),(0,n.jsxs)("div",Object.assign({className:t(r.body)},{children:[a&&(0,n.jsx)("div",Object.assign({className:t(r.sidebar),style:{background:g}},{children:(0,n.jsx)("div",Object.assign({className:t(r.sidebarInner)},{children:(0,n.jsx)(o.Xs,{children:a})}))})),(0,n.jsxs)("div",Object.assign({className:t(r.content),style:{background:m}},{children:[d&&(0,n.jsx)("div",Object.assign({className:t(r.contentHeader)},{children:d})),(0,n.jsx)("div",Object.assign({className:t(r.contentScroller)},{children:(0,n.jsx)("div",Object.assign({className:t(r.contentScrollerInner)},{children:(0,n.jsx)(o.Xs,Object.assign({id:h,persistent:!!h},{children:s}))}))})),u&&(0,n.jsx)("div",Object.assign({className:t(r.contentFooter)},{children:u}))]}))]}))]}))})),p=(0,c.k)({frameLayoutRoot:{position:"relative",zIndex:a.W5.base,background:d.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",zIndex:a.W5.top},body:{display:"flex",flex:"1 1 auto",zIndex:a.W5.base},sidebar:{flex:`0 1 ${a.dp.sidebarFrameWidth}px`,position:"relative",overflow:"hidden",display:"block"},sidebarInner:{width:`${a.dp.sidebarFrameWidth}px`,position:"absolute",top:0,end:0,bottom:0,borderEnd:`1px solid ${d.O.gray_e6e6e6}`},content:{flex:`1 0 ${a.dp.standardFrameWidth}px`,maxWidth:a.dp.standardFrameWidth,display:"flex",flexDirection:"column"},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto"},contentFooter:{},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});u.displayName="SearchFrameLayoutDesktop";const h=(0,s.memo)((e=>{const{css:t,s:r}=(0,c.y)(g),{children:s,header:i,sidebar:a,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:p,frameBackground:h,sidebarBg:m,areFiltersOpened:f,searchType:v}=e;return(0,n.jsxs)("div",Object.assign({className:t(r.frameLayoutRoot)},{children:["filials"===v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Xs,Object.assign({id:p,persistent:!!p},{children:[i,s]})),u&&(0,n.jsx)("div",Object.assign({className:t(r.contentFooter)},{children:u}))]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",Object.assign({className:t(r.header)},{children:i})),(0,n.jsx)("div",Object.assign({className:t(r.body)},{children:(0,n.jsxs)("div",Object.assign({className:t(r.content),style:{background:h}},{children:[d&&(0,n.jsx)("div",Object.assign({className:t(r.contentHeader)},{children:d})),(0,n.jsx)("div",Object.assign({className:t(r.contentScroller)},{children:(0,n.jsx)("div",Object.assign({className:t(r.contentScrollerInner)},{children:(0,n.jsx)(o.Xs,Object.assign({id:p,persistent:!!p},{children:s}))}))})),u&&(0,n.jsx)("div",Object.assign({className:t(r.contentFooter)},l.dx.n("wat-footer-card"),{children:u}))]}))}))]}),f&&a&&(0,n.jsx)("div",Object.assign({className:t(r.sidebar),style:{background:m}},{children:(0,n.jsx)("div",Object.assign({className:t(r.sidebarInner)},{children:(0,n.jsx)(o.Xs,{children:a})}))}))]}))})),g=(0,c.k)({frameLayoutRoot:{position:"relative",zIndex:a.W5.base,background:d.O.white,display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:a.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:a.W5.base},sidebar:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden",background:d.O.white,zIndex:a.W5.top},sidebarInner:{width:"100%",position:"absolute",top:0,end:0,bottom:0},content:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto",position:"relative",zIndex:a.W5.top},contentFooter:{position:"relative",zIndex:a.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100,zIndex:a.W5.base},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});h.displayName="SearchFrameLayoutMobile";const m=function(e){const t=e.desktop,r=e.mobile;return e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.N,{children:(0,n.jsx)(t,Object.assign({},e))}),(0,n.jsx)(i.i,{children:(0,n.jsx)(r,Object.assign({},e))})]})}({desktop:u,mobile:h})},83594:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(31567);class c extends s.PureComponent{render(){const{width:e,height:t,s:r}=this.props,s=t||(e||20),a=e||(t||20);return(0,n.jsx)("div",{className:(0,i.iv)(r.circle),style:{width:`${s}px`,height:`${a}px`}})}}c.displayName=(0,a.I)("src/shared/kit/skeletons");const d={circle:{background:o.O.gray_f2f2f2,borderRadius:"50%",margin:"0 auto"}},l=(0,i.D2)(d)(c)},73283:(e,t,r)=>{"use strict";r.d(t,{P:()=>f});var n=r(52322),s=r(2784),i=r(30007),a=r(27039),o=r(46938),c=r(78535),d=r(66027),l=r(96281),u=r(27215),p=r(341),h=r(29397),g=r(54722);const m=(0,p.b)(),f=(0,s.memo)((()=>{const{css:e,s:t}=(0,c.y)(v),{featureReadOnly:r}=(0,g.Z)(),s=(0,l.l)(),p=(0,u.v9)((e=>m({state:e,frameId:s.id})));return(0,n.jsxs)("div",Object.assign({className:e(t.root)},(0,i.n)("wat-entity-card-skeleton"),{children:[(0,n.jsx)(d.v,{frame:s,frameContext:p}),(0,n.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,n.jsx)(h.N,{children:(0,n.jsxs)("div",Object.assign({className:e(t.actions)},{children:[(0,n.jsx)(a.b,{width:80,height:24,borderRadius:6}),(0,n.jsx)(a.b,{width:80,height:24,borderRadius:6,marginStart:12}),(0,n.jsx)(a.b,{width:80,height:24,borderRadius:6,marginStart:12})]}))}),!r&&(0,n.jsx)(a.b,{height:170,borderRadius:8,marginBottom:12,marginStart:-12,marginEnd:-12}),(0,n.jsx)(a.b,{width:240,height:20,paddingTop:4,borderRadius:6}),(0,n.jsx)(a.b,{width:120,height:16,marginTop:4,borderRadius:6}),(0,n.jsx)(a.b,{width:160,height:16,marginTop:8,borderRadius:6}),(0,n.jsx)(a.b,{height:16,marginTop:8,borderRadius:6})]})),(0,n.jsx)(a.b,{height:44}),(0,n.jsx)("div",Object.assign({className:e(t.content)},{children:(0,n.jsx)(o.h,{})}))]}))}));f.displayName="SkeletonEntity";const v=(0,c.k)({root:{height:"100%",overflow:"hidden"},header:{padding:"16px 24px"},actions:{display:"flex",marginBottom:12},content:{flex:1}})},46938:(e,t,r)=>{"use strict";r.d(t,{h:()=>l});var n=r(52322),s=r(2784),i=r(27039),a=r(74930),o=r(99833),c=r(88338),d=r(78535);const l=s.memo((e=>{const{s:t,css:r}=(0,d.y)(u);return(0,n.jsx)("div",Object.assign({className:r(t.root)},{children:(0,n.jsxs)("div",Object.assign({className:r(t.skeletonEntityTab)},{children:[(0,n.jsx)(c.h,{children:(0,n.jsx)(a.O,{count:4,icon:!0})}),(0,n.jsxs)("div",Object.assign({className:r(t.squaresWrapper)},{children:[(0,n.jsx)(i.b,{count:1,height:40}),(0,n.jsx)(i.b,{count:1,height:40})]})),(0,n.jsx)("div",Object.assign({className:r(t.textLinesWrapper)},{children:(0,n.jsx)(o.D,{linesCount:2})}))]}))}))}));l.displayName="SkeletonEntityTab";const u=(0,d.k)({root:{display:"flex",flexDirection:"column",height:"100%"},skeletonEntityTab:{display:"flex",flexDirection:"column",justifyContent:"space-between"},squaresWrapper:{padding:"0 24px"},textLinesWrapper:{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}})},31782:(e,t,r)=>{"use strict";r.d(t,{C:()=>d});var n=r(52322),s=r(2784),i=r(45554),a=r(31567),o=r(83594);const c=24;class d extends s.PureComponent{render(){const{size:e=c,isBoundVisible:t}=this.props;return(0,n.jsx)("div",Object.assign({style:{boxSizing:"border-box",display:"flex",alignItems:"center",width:e,height:e,border:t?`1px dotted ${a.O.gray_e6e6e6}`:"none"}},{children:(0,n.jsx)(o.C,{width:this.getCompositionSize()})}))}getCompositionSize(){return 48===this.props.size?32:16}}d.displayName=(0,i.I)("src/shared/kit/skeletons")},2913:(e,t,r)=>{"use strict";r.d(t,{Q:()=>h,X:()=>u});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(83594),c=r(27039),d=r(86680),l=r(61102);const u=165;class p extends s.PureComponent{constructor(){super(...arguments),this.nothing=()=>{},this.renderTextLine=(e,t)=>(0,n.jsx)(l.b,{fontSize:8,lineHeight:e,short:t})}render(){const{s:e,squareLogo:t,logoSize:r=56}=this.props;return(0,n.jsxs)(d.S,Object.assign({onMouseEnter:this.nothing,onMouseLeave:this.nothing,dataN:"wat-skeleton-minicard"},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.avatar)},{children:t?(0,n.jsx)(c.b,{width:r,height:r,count:1}):(0,n.jsx)(o.C,{width:r})})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.row,e.firstRow),style:{marginInlineEnd:r}},{children:[this.renderTextLine(20),this.renderTextLine(20)]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.row,e.longRow),style:{marginInlineEnd:r}},{children:[this.renderTextLine(16),this.renderTextLine(16)]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.row,e.longRow),style:{marginInlineEnd:r}},{children:[this.renderTextLine(16),this.renderTextLine(16,!0)]}))]}))}}p.displayName=(0,a.I)("src/shared/kit/skeletons");const h=(0,i.D2)({row:{paddingBottom:"6px"},firstRow:{width:"176px"},longRow:{maxWidth:"240px"},avatar:{float:"end"}})(p)},74930:(e,t,r)=>{"use strict";r.d(t,{O:()=>p});var n=r(52322),s=r(2784),i=r(45554),a=r(20490),o=r(52431),c=r(78792),d=r(31782),l=r(99833),u=r(55612);class p extends s.PureComponent{render(){const{count:e,icon:t}=this.props;return(0,n.jsxs)(u.F,{children:[Array(e-1).fill("").map(((e,r)=>(0,n.jsxs)(a.g,Object.assign({shiftedDivider:!!t},{children:[!!t&&(0,n.jsx)(o.C,{children:(0,n.jsx)(d.C,{size:24})}),(0,n.jsx)(c.u,{children:(0,n.jsx)(l.D,{linesCount:3})})]}),r))),(0,n.jsx)(a.g,Object.assign({shiftedDivider:!!t,shiftedContent:!0},{children:(0,n.jsx)(c.u,{children:(0,n.jsx)(l.D,{linesCount:2})})}),e)]})}}p.displayName=(0,i.I)("src/shared/kit/skeletons")},48478:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(83594),c=r(61102);class d extends s.PureComponent{render(){const{s:e}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.content)},{children:[(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.item)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.icon)},{children:(0,n.jsx)(o.C,{width:64})})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.text)},{children:(0,n.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]}))]}))}}d.displayName=(0,a.I)("src/shared/kit/skeletons");const l=(0,i.D2)({content:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},item:{marginBottom:4,flex:"1 1 25%"},icon:{marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto"},text:{height:"24px"}})(d)},99833:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var n=r(52322),s=r(2784),i=r(45554),a=r(61102);class o extends s.PureComponent{render(){const{linesCount:e}=this.props;return(0,n.jsxs)("div",{children:[Array(e-1).fill("").map(((e,t)=>(0,n.jsx)(a.b,{},t))),(0,n.jsx)(a.b,{short:e>1})]})}}o.displayName=(0,i.I)("src/shared/kit/skeletons")},20738:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(52322),s=r(2784),i=r(84670),a=r(2913);const o=s.memo((e=>(0,n.jsx)("div",{children:Array.from({length:e.count||(0,i.n)(a.X)},((t,r)=>(0,n.jsx)(a.Q,{squareLogo:e.squareLogo,logoSize:e.logoSize},r)))})));o.displayName="SkeletonsCatalog"},27039:(e,t,r)=>{"use strict";r.d(t,{b:()=>d});var n=r(52322),s=r(2784),i=r(31567),a=r(65632),o=r(86550),c=r(78535);const d=(0,s.memo)((e=>{const{css:t,s:r,dir:s}=(0,c.y)(l),{height:i,width:a,marginTop:d,marginBottom:u,marginStart:p,marginEnd:h,paddingTop:g,borderRadius:m,flexBasis:f,flexShrink:v,flexGrow:b,gap:y,icon:x,count:j=1,dark:w,color:I}=e;return(0,n.jsx)("div",Object.assign({className:t(r.skeleton),style:(0,o.Qo)({height:i,width:a,marginTop:d,marginBottom:u,marginStart:p,marginEnd:h,paddingTop:g,gap:y},s)},{children:j>0&&Array(j).fill("ok").map(((e,s)=>(0,n.jsx)("div",Object.assign({className:t(r.skeletonItem,w&&r._dark),style:{flexBasis:f||100/j+"%",flexShrink:v,flexGrow:b,background:I,borderRadius:m}},{children:x}),s)))}))}));d.displayName="Square";const l=(0,c.k)({skeleton:{display:"flex",flexDirection:"row",borderTop:"1px solid #fff",boxSizing:"border-box",gap:1},_dark:{background:(0,a.j)(i.O.black,.6)},skeletonItem:{display:"flex",justifyContent:"center",alignItems:"center",background:i.O.black_transparent_06,overflow:"hidden"}})},61102:(e,t,r)=>{"use strict";r.d(t,{b:()=>d});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(27039);class c extends s.PureComponent{render(){const{s:e,fontSize:t=8,lineHeight:r=16,full:s=!1,short:a=!1,marginAuto:c=!1}=this.props,d=Math.floor((r-t)/2);return(0,n.jsx)("div",Object.assign({style:{padding:`${d}px 0`,margin:c?"auto":0},className:(0,i.iv)(e.line,s&&e.full,a&&e.short)},{children:(0,n.jsx)(o.b,{height:t,count:1})}))}}c.displayName=(0,a.I)("src/shared/kit/skeletons");const d=(0,i.D2)({line:{width:"90%"},full:{width:"100%"},short:{width:"66%"}})(c)},52171:(e,t,r)=>{"use strict";r.d(t,{O:()=>m});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(31567),c=r(30007),d=r(21578),l=r(85251),u=r(35608);class p extends s.PureComponent{constructor(){super(...arguments),this.handleTabClick=()=>this.props.onSelect&&this.props.onSelect(this.props.tab)}render(){const{tab:e,s:t,renderIcon:r,tabRef:s,href:a,dataN:o="wat-tab"}=this.props;return(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.tab,e.isSelected&&t.active),onClick:this.handleTabClick,ref:s},c.dx.n(o),c.dx.s(e.isSelected?"active":"inactive"),c.dx.v(e.label),c.dx.t(e.label),{children:(0,n.jsxs)(d.Z,Object.assign({color:e.isSelected?"inherit":"dark",href:a},{children:[e.label,!!e.count&&(0,n.jsx)("span",Object.assign({className:(0,i.iv)(t.count,e.isSelected&&t.isActive)},c.dx.n("wat-count"),c.dx.t(e.label),{children:e.count})),r&&(0,n.jsx)("span",Object.assign({className:(0,i.iv)(t.iconWrapper,e.isSelected&&t.isActive)},{children:r(e)})),!!e.badgeCount&&(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.badgeCount)},c.dx.n("wat-tab-price-count"),{children:e.badgeCount<99?e.badgeCount:99}))]}))}),e.label)}}const h={tab:{cursor:"pointer",color:o.O.gray_262626,fontSize:"13px",lineHeight:"16px",paddingTop:16,paddingBottom:13,paddingStart:0,paddingEnd:0,margin:"0 8px",whiteSpace:"nowrap",userSelect:"none",position:"relative",":first-child":{marginStart:0},":last-child":{marginEnd:0}},count:{background:o.O.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.white,marginStart:"4px",borderRadius:l.E0.default,padding:"0 4px",display:"inline-block",lineHeight:"20px",height:18,marginTop:-4},active:{cursor:"default",color:o.O.gray_929292},iconWrapper:{background:o.O.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.white,borderRadius:l.E0.default,height:18,marginStart:4,verticalAlign:"middle",display:"inline-block",marginTop:-4},isActive:{background:"transparent",boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.gray_929292},badgeCount:Object.assign(Object.assign({},u.Yq),{lineHeight:u.Yq.fontSize,position:"absolute",top:8,end:-2,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:l.E0.oval,display:"flex",justifyContent:"center",alignItems:"center",color:o.O.white,background:o.O.red_fe5000})},g=(0,a.D2)(h)(p),m=e=>(0,n.jsx)(g,Object.assign({},e))},8314:(e,t,r)=>{"use strict";r.d(t,{m:()=>h});var n=r(52322),s=r(2784),i=r(86550),a=r(82514),o=r(2796),c=r(52171),d=r(30007),l=r(82603);class u extends s.PureComponent{constructor(){super(...arguments),this.tabsPositions=[],this.renderTab=e=>{const{renderTab:t,onSelect:r}=this.props;return t?t(e):(0,n.jsx)(c.O,{tab:e,onSelect:e.isSelected?l.ZT:r},e.label)},this.refContainer=e=>{this.container=e},this.refUnderline=e=>{this.underline=e},this.setTab=()=>{this.container&&(this.tabs=this.container.childNodes)},this.setTabPositions=()=>{if(!this.container)return;const e=this.container.getBoundingClientRect();this.tabsPositions=Array.prototype.map.call(this.tabs,(t=>{const r=t.getBoundingClientRect();return{left:r.left-e.left+"px",width:`${r.width}px`}}))},this.setUnderlineStyle=()=>{if(!this.underline)return;const e=this.props.tabs.findIndex((e=>!!e.isSelected));if(e<0)return;const t=this.tabsPositions[e];this.underline.style.width=t.width,this.underline.style.left=t.left}}componentDidMount(){this.setTab(),setTimeout((()=>{this.setTabPositions(),this.setUnderlineStyle()}),0)}componentDidUpdate(){this.setTab(),this.setTabPositions(),this.setUnderlineStyle()}render(){const{s:e,tabs:t,opacifyUnderline:r}=this.props;return(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(e.root)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.tabsContainer),ref:this.refContainer},d.dx.n("wat-tabs"),{children:t.map(this.renderTab)})),(0,n.jsx)("div",Object.assign({className:(0,i.iv)(e.underline,r&&e._opacify),ref:this.refUnderline},d.dx.n("wat-underline")))]}))}}const p=(0,a.D2)((e=>({root:{position:"relative",height:"100%"},tabsContainer:{display:"flex"},underline:{position:"absolute",bottom:0,height:3,background:e.colors.green_299400_brand,transition:`left ${o.l.short}ms ease-out, width ${o.l.short}ms ease-out`,transform:"translateZ(0)"},_opacify:{background:"currentColor",opacity:.5}})))(u),h=e=>(0,n.jsx)(p,Object.assign({},e))},741:(e,t,r)=>{"use strict";r.d(t,{n:()=>g});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(35608),c=r(31567),d=r(30007),l=r(3590),u=r(36018);class p extends s.PureComponent{constructor(){super(...arguments),this.state={value:this.props.initialValue||"",isFocused:this.props.autoFocus||!1},this.renderInput=()=>(0,n.jsxs)(n.Fragment,{children:[this.renderInputOrTextArea(),this.renderClearButton()]}),this.renderOutside=()=>{const{hasClearButton:e,renderOutside:t}=this.props,{value:r}=this.state;if(e&&r)return t&&t()},this.renderClearButton=()=>{const{hasClearButton:e,s:t}=this.props,{value:r}=this.state;if(e&&r)return(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.buttons)},d.dx.n("wat-input-clear-button"),{children:(0,n.jsx)("div",Object.assign({className:(0,i.iv)(t.clearButtonWrapper),onClick:this.handleClear},{children:(0,n.jsx)(l.x,{})}))}))},this.handleChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.handleFocus=()=>{this.props.onFocus&&this.props.onFocus(),this.setState({isFocused:!0})},this.handleBlur=()=>{this.props.onBlur&&this.props.onBlur(),this.setState({isFocused:!1})},this.handleClear=()=>{this.setState({value:""}),this.props.onClear&&this.props.onClear()}}render(){const{error:e}=this.props,{isFocused:t}=this.state;return(0,n.jsx)(u.f,{label:this.getLabelText(),hasLabel:!!this.props.label,input:this.renderInput(),renderOutside:this.renderOutside,error:!!e,focused:t})}renderInputOrTextArea(){const{autoFocus:e,linesCount:t=4,multiline:r,dataT:s,s:a,isLead:o,inputType:c,maxLength:l}=this.props,u=16*t,p={className:(0,i.iv)(a.input,o?a.leadText:a.inputText),placeholder:this.getPlaceHolderText(),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:e,maxLength:l};return r?(0,n.jsx)("textarea",Object.assign({},p,{style:{height:u},value:this.state.value},d.dx.n("wat-textfield-input"),d.dx.t(s),{onClick:this.handleInputClick})):(0,n.jsx)("input",Object.assign({},p,{type:c||"text",value:this.state.value},d.dx.n("wat-textfield-input"),d.dx.t(s),{onClick:this.handleInputClick}))}getPlaceHolderText(){return this.props.placeholder?this.props.placeholder:this.state.isFocused||""!==this.state.value?"":this.props.label}getLabelText(){return this.props.placeholder||this.state.isFocused||""!==this.state.value?this.props.label:""}handleInputClick(e){e.stopPropagation()}}p.displayName=(0,a.I)("src/shared/kit/textField");const h={input:{color:c.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial","::placeholder":{color:c.O.gray_929292}},inputText:Object.assign({},o.qH),leadText:Object.assign({},o.FY),buttons:{display:"flex",justifyContent:"space-between"},clearButtonWrapper:{height:24,marginTop:-4,marginBottom:-4,cursor:"pointer"}},g=(0,i.D2)(h)(p)},36018:(e,t,r)=>{"use strict";r.d(t,{f:()=>p});var n=r(52322),s=r(2784),i=r(82514),a=r(45554),o=r(35608),c=r(31567);class d extends s.PureComponent{render(){const{label:e,input:t,s:r,error:s,renderOutside:a,dataN:o="wat-kit-textfield",focused:c,hasLabel:d}=this.props;return(0,n.jsxs)("div",Object.assign({"data-n":o,style:{width:"100%"}},{children:[(e||d)&&(0,n.jsx)("label",Object.assign({className:(0,i.iv)(r.label)},{children:e||""})),!a&&(0,n.jsx)("div",Object.assign({className:(0,i.iv)(r.wrapper,c&&r._focused,s&&r._error)},{children:t})),a&&(0,n.jsxs)("div",Object.assign({className:(0,i.iv)(r.flexWrap)},{children:[(0,n.jsx)("div",Object.assign({className:(0,i.iv)(r.wrapper,c&&r._focused,s&&r._error)},{children:t})),a()]}))]}))}}d.displayName=(0,a.I)("src/shared/kit/textField");const l={content:'""',position:"absolute",bottom:0,height:1,width:"100%",start:0},u={flexWrap:{display:"flex",justifyContent:"space-between"},wrapper:{width:"100%",display:"flex",alignItems:"center",color:c.O.gray_929292,position:"relative",boxSizing:"border-box",padding:"12px 0",":after":Object.assign(Object.assign({},l),{background:c.O.gray_e6e6e6})},_error:{":after":Object.assign(Object.assign({},l),{background:c.O.red_fe5000})},_focused:{color:c.O.gray_262626,":after":Object.assign(Object.assign({},l),{background:c.O.blue_0072ce})},label:Object.assign(Object.assign({},o.yG),{display:"block",color:c.O.gray_929292,height:o.yG.lineHeight,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},p=(0,i.D2)(u)(d)},92199:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(52322),s=r(2784);const i={bottomStart:"bottomEnd",bottomEnd:"bottomStart",bottomBottomEnd:"bottomBottomStart",bottomBottomStart:"bottomBottomEnd",centerStart:"centerEnd",centerEnd:"centerStart"};var a=r(54722);const o=r(60629),c={attributes:!0,characterData:!0,subtree:!0,childList:!0};const d=s.memo((({children:e,innerRef:t,pointerEvents:r,to:d,offset:l,targetBoundingClientRect:u})=>{const p=(0,s.useRef)(null),h=t||p,[g,m]=(0,s.useState)(void 0),{rtl:f}=(0,a.Z)(),{top:v,left:b,bottom:y,right:x,transform:j}=(0,s.useMemo)((()=>{if(!g)return{top:0,left:0};const e=window.innerWidth,t=window.innerHeight;return function(e){const{to:t,targetClientRect:r,ownClientRect:n,windowWidth:s,windowHeight:a,offset:o,rtl:c}=e,d=n.width,l=n.height;switch(c&&i[t]||t){case"bottomMiddle":return{left:r.left+r.width/2,top:r.bottom+o,transform:"translateX(-50%)"};case"bottomStart":return{left:r.left-o,top:r.bottom+o,transform:"translateX(-100%)"};case"bottomEnd":{const e=r.right+o,t=r.bottom+o,n=s-e-d<8,i=a-t-l<8;return n&&i?{right:s-r.left+o,bottom:a-r.top+o}:n?{top:t,right:s-r.left+o}:i?{bottom:a-r.top+o,left:e}:{left:e,top:t}}case"centerStart":return{left:r.left-o,top:r.top+r.height/2,transform:"translateY(-50%) translateX(-100%)"};case"centerEnd":return{left:r.right+o,top:r.top+r.height/2,transform:"translateY(-50%)"};case"bottomBottomStart":const e=r.left,t=r.bottom+o,n=s-e-d<8,i=a-t-l<8;return n&&i?{right:s-r.left+o,bottom:a-r.top+o}:n?{top:t,right:s-r.left+o}:i?{bottom:a-r.top+o,left:e}:{left:e,top:t};case"bottomBottomEnd":return{left:r.right,top:r.bottom+o,transform:"translateX(-100%)"}}}({to:d,targetClientRect:u,ownClientRect:g,windowWidth:e,windowHeight:t,offset:l,rtl:f})}),[g]),w=(0,s.useCallback)((()=>{var e;m(null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect())}),[]);return(0,s.useEffect)(w,[]),function(e,t){const r=(0,s.useCallback)(((...e)=>o((()=>{t(...e)}))),[t]);(0,s.useEffect)((()=>{if(e.current&&"undefined"!=typeof MutationObserver){const t=new MutationObserver(r);return t.observe(e.current,c),()=>{t.disconnect()}}}),[r,e])}(h,w),(0,n.jsx)("div",Object.assign({style:{position:"absolute",top:v,left:b,bottom:y,right:x,transform:j,pointerEvents:r,visibility:g?void 0:"hidden"},ref:h},{children:e}))}))},85251:(e,t,r)=>{"use strict";r.d(t,{AR:()=>d,E0:()=>c,W5:()=>o,dp:()=>a});var n=r(31567),s=r(44277),i=r(65632);const a={searchBarWrapperHeight:56,sideMenuWidth:288,standardFrameWidth:352,innerFrameWidth:304,sidebarFrameWidth:200,wideFrameWidth:552,popupFrameWidth:544,photoListItemHeight:170,cardLogo:56,rackShift:32,rackMargin:8},o=Object.assign({},s.W),c={default:"4px",defaultOnlyTop:"4px 4px 0 0",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px",small:"2px",isolate:"6px",oval:"200px"},d={"::-webkit-scrollbar-thumb":{backgroundColor:(0,i.j)(n.O.black,.2)},"::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"::-webkit-scrollbar":{width:"6px"},scrollbarWidth:"thin"}},13130:(e,t,r)=>{"use strict";r.d(t,{Az:()=>i,C8:()=>s,Gb:()=>o,Il:()=>a});var n=r(59851);const{withFormatter:s,FormatterProvider:i,FormatterContextConsumer:a,useFormatter:o}=(0,n.gm)()},83204:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,a:()=>d});const n=(e,t)=>{const r=[...e],n=t/100;if(r.sort(((e,t)=>e-t)),n<=0)return r[0];if(n>=1)return r[r.length-1];const s=Math.max(r.length*n-1,0),i=Math.ceil(s);return i===s?(r[s]+r[s+1])/2:r[i]};var s=r(4456);var i=r(97391),a=r(45537);const o=e=>{let t=0,r=0,o=[];const c=()=>{"undefined"!=typeof window&&(t=requestAnimationFrame((()=>{r||(r=Date.now());const e=Date.now();o.push(e-r),r=e,c()})))};return{startTracker:c,stopTracker:c=>{if(!o.length)return cancelAnimationFrame(t),void(r=0);const d=((e,t)=>({eventName:t,hardwareInfo:(0,s.T)(),url:window.location.href,percentile50Perf:n(e,50),percentile90Perf:n(e,90)}))(o,e);cancelAnimationFrame(t),r=0,o=[],c((0,a.vP)((0,i.nc)(["Map",`${e}_50percentile`,`${e}_50percentile`,d.percentile50Perf]),(0,i.nc)(["Map",`${e}_90percentile`,`${e}_90percentile`,d.percentile90Perf])))}}},c=o("map_move_after_search"),d=o("show_tooltip_after_markers_update")},49259:(e,t,r)=>{"use strict";r.d(t,{Hg:()=>o,Nm:()=>s,eM:()=>n,mC:()=>i,qN:()=>a});r(24973);const n=0,s=50,i=180,a=-180;function o(e){return e.reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]])}},14813:(e,t,r)=>{"use strict";r.d(t,{v:()=>a,V:()=>i});var n=r(82603);function s(e){return(t,r)=>({id:r||(0,n.by)(),type:e,payload:t})}const i=s("success"),a=s("error")},79671:(e,t,r)=>{"use strict";r.d(t,{_f:()=>k,Q6:()=>C,GM:()=>w,Uz:()=>j});var n=r(37144),s=r(51665),i=r(4279),a=r(14075),o=r(48389);function c(e){var t,r;return"links"in e&&(null===(r=null===(t=e.links)||void 0===t?void 0:t.branches)||void 0===r?void 0:r.count)||0}var d=r(84079),l=r(79854),u=r(40889),p=r(11890),h=r(32034),g=r(68674),m=r(25278),f=r(65741);function v(e){return"branch"===e.type&&(e.has_goods||e.is_promoted)}var b=r(88657);var y=r(55850);function x(e){return(0,y.J)(e)&&!v(e)&&(t=e.rubrics,!!(0,b.a)(t));var t}const j=(0,n.P1)([e=>(0,s.nM)(e)],(e=>{if(!e||!e.data)return!1;const t=c(e.data);return!!t&&t>i.p4})),w=(0,n.P1)([({state:e,entityId:t})=>(0,s.nM)({state:e,entityId:t}),({state:e,entityReviewsSearchId:t})=>(0,s.AE)({state:e,searchId:t||""}),({state:e,orgReviewsSearchId:t})=>(0,s.AE)({state:e,searchId:t||""})],((e,t,r)=>I(e,t,r)));function I(e,t,r){const n=e&&e.data,s=n&&(0,y.J)(n)&&n.reviews&&n.reviews.org_review_count||0,i=n&&"reviews"in n&&n.reviews&&n.reviews.general_review_count||0,a=t&&t.data&&t.data.total,o=r&&r.data&&r.data.total;return{entityCount:void 0!==a?a:i,orgCount:void 0!==o?o:s}}const C=(0,n.P1)([e=>(0,s.nM)(e),e=>w(e),({state:e,entityId:t})=>(0,u.Ks)(e.appContext.frames,t),({state:e,entityId:t})=>(0,s.BD)({state:e,entityId:t}),({state:e})=>(0,h.W)(e),({state:e})=>"realty"===e.appContext.activeLayer,e=>e.featureReadOnly,({state:e})=>e.config.featureMenu,({state:e,entityId:t,featureAlbumsCounts:r,photosTotal:n})=>{var i;return r?n:(null===(i=(0,s.XU)({state:e,entityId:t}).data)||void 0===i?void 0:i.total)||0},e=>e.menuPhotosTotal],((e,t,r,n,s,i,a,o,c,d)=>O({profile:e,reviewsCount:t,discountsTotal:n.data?n.data.total:0,frame:r,cart:s,isRealtyLayer:i,isReadOnly:a,featureMenu:o,photosTotal:c,menuPhotosTotal:d})));function O(e){const{profile:t,reviewsCount:r,discountsTotal:n,frame:s,cart:i,isRealtyLayer:u,isReadOnly:h,featureMenu:m,photosTotal:f,menuPhotosTotal:b}=e,j=t&&t.data;if(!j)return[];const w=(0,a.R)(j).reduce(((e,t)=>{let a;switch(t){case"contacts":case"info":a={tab:t};break;case"inside":const e=c(j);a=0===e?void 0:{tab:t,count:e};break;case"photos":a=h?void 0:{tab:t,count:f};break;case"menu":a=!h&&m&&x(j)?{tab:t,count:b}:void 0;break;case"prices":const w=(0,y.J)(j)?(0,g.c)(i,j.org.id):0;a=v(j)?{tab:t,badgeCount:w}:void 0;break;case"realty":a="has_realty"in j&&j.has_realty&&!u?{tab:t}:void 0;break;case"services":{const e=(0,d.F)(j);e&&(a={tab:t,count:e});break}case"providers":{const e=(0,l.k)(j);e&&(a={tab:t,count:e});break}case"discounts":a=n?{tab:t,count:n}:void 0;break;case"reviews":{if((0,p.t)(j)||h||!(0,o.s)(j))break;const e=s&&"entity"===s.type&&s.tabReviews,n=(0,y.J)(j)&&j.reviews&&j.reviews.is_org_reviews;if(e){a={tab:t,count:e.isOrg?r.orgCount:r.entityCount}}else{a={tab:t,count:n?r.orgCount:r.entityCount}}}}return a?e.concat([a]):e}),[]);return w.length,w}const _=(0,n.HP)((e=>e),!1,f.Z),k=(0,n.P1)([({state:e,entityId:t,searchId:r})=>{const n=(0,s.wj)({state:e,entityId:t,searchId:r}).data;return n&&"links"in n&&n.links&&n.links.database_entrances?_(n.links.database_entrances):m.LZ},({state:e,entityId:t,searchId:r})=>{var n,i,a;return null===(a=null===(i=null===(n=(0,s.wj)({state:e,entityId:t,searchId:r}))||void 0===n?void 0:n.data)||void 0===i?void 0:i.context)||void 0===a?void 0:a.entrance_id},({entranceId:e})=>e],((e,t,r)=>{const n=t||r;if(n){const t=e.find((e=>e.id===n));if(t)return{vectors:t.geometry.vectors,points:t.geometry.points}}return e.reduce(((e,t)=>t&&t.is_visible_on_map?{vectors:e.vectors.concat(t.geometry&&t.geometry.vectors||[]),points:e.points.concat(t.geometry&&t.geometry.points||[])}:e),{vectors:[],points:[]})}))},13663:(e,t,r)=>{"use strict";r.d(t,{Ef:()=>b,R_:()=>m,gS:()=>g,oo:()=>y,vE:()=>p,yc:()=>h});var n=r(3965),s=r(82603),i=r(27087),a=r(51665),o=r(42461),c=r(8151),d=r(37144),l=r(48175),u=r(25278);const p=e=>(0,d.P1)([t=>(0,o.Or)(t)[e],c.yH],((e,t)=>e?(0,l.a)(e,t):u.LZ)),h=()=>(0,d.P1)([e=>(0,o.tV)(e)],(e=>(0,i.s0)(e).filter(o.N5))),g=(0,d.P1)([o.tV,c.yH],((e,t)=>(0,l.a)((0,i.s0)(e).filter(o.jV),t))),m=e=>{const t=(0,s.oA)((0,i.s0)((0,n.Y4)(e))),r=t.find((({place_type:e})=>"home"===e)),a=t.find((({place_type:e})=>"work"===e));return[{type:"home",place:r,entity:x(e,r)},{type:"work",place:a,entity:x(e,a)}]},f=(0,a.T3)(),v=(0,a.T3)(),b=(0,d.P1)([n.eb,e=>{const t=(0,n.eb)(e);if(t&&t.object_id)return f({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"home",place:e,entity:t}})),y=(0,d.P1)([n.M6,e=>{const t=(0,n.M6)(e);if(t&&t.object_id)return v({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"work",place:e,entity:t}}));function x(e,t){if(t&&t.object_id)return(0,a.wj)({state:e,entityId:t.object_id})}},62185:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(8151);function s(e){const t=(0,n.kL)(e);return{lang:e.appContext.lang,product:"online5",userId:e.session.userId,sessionId:e.session.sessionId,screen:e.session.screen,city:t&&t.code||"unknown",mapType:e.session.is3dEnabled?"3d":"2d",source:"what is source"}}},91971:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});var n=r(36373),s=r(40889),i=r(86303),a=r(66381);const o=e=>t=>{var r;if(!(0,i.G)(e)(t))return!1;const o=(0,s.iF)((0,a.T)(t),e),c=o&&"filterPanelState"in o?o.filterPanelState:void 0;if(!c)return!1;const d="realty"===(null==o?void 0:o.type)&&"building"===(null===(r=o.entity)||void 0===r?void 0:r.type);return("auto"!==c||!t.config.isMobileDevice)&&(("auto"!==c||"search"!==(null==o?void 0:o.type)||o.query!==n.B)&&("auto"===c?1===t.appContext.frames.length&&!d:"manuallyOpened"===c))}},86303:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(40889),s=r(66381);const i=e=>t=>{const r=(0,n.iF)((0,s.T)(t),e);if(!r)return!1;switch(r.type){case"search":case"product":case"realty":case"exchange":return!0;case"directions":switch(r.tab){case"bus":return!0;case"car":case"truck":return(e=>{const t=(0,n.t0)(e.appContext.frames,"directions");return!!t&&!!t.isPpngFiltersAvailable})(t);default:return!1}default:return!1}}},66381:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=(0,r(37144).P1)([e=>e.appContext.frames,e=>e.appContext.staticFrames.dashboard.id],((e,t)=>e.length?e:[{id:t,type:"dashboard"}]))},87741:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(66381),s=r(387);const i=e=>{if(e.appContext.isDataViewerMinimized)return 0;if(e.config.isMobileDevice)return 0;return(0,n.T)(e).reduce(((t,r)=>t+(0,s.L)(r.id)(e)),0)}},341:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var n=r(37144),s=r(86303),i=r(91971),a=r(66381);const o=()=>(0,n.P1)([({state:e,frameId:t})=>c(t)(e),({state:e,frameId:t})=>d(t)(e),({state:e,frameId:t})=>(0,s.G)(t)(e),({state:e,frameId:t})=>(0,i.H)(t)(e)],((e,t,r,n)=>r?{isLeftMost:e,isRightMost:t,hasFilters:r,areFiltersOpened:n}:{isLeftMost:e,isRightMost:t,hasFilters:r})),c=e=>t=>{if(t.config.isMobileDevice)return!0;const r=(0,a.T)(t);return r[r.length-1].id===e},d=e=>t=>{if(t.config.isMobileDevice)return!0;return(0,a.T)(t)[0].id===e}},387:(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r(40889),s=r(85251),i=r(86303),a=r(91971),o=r(66381);const c=e=>t=>(0,n.iF)((0,o.T)(t),e)&&(0,i.G)(e)(t)&&(0,a.H)(e)(t)?s.dp.wideFrameWidth:s.dp.standardFrameWidth},19170:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var n=r(80750),s=r(51665),i=r(32312),a=r(40889);function o(e){var t,r,o;const c=(0,a.t0)(e.appContext.frames,"search");if(("query"!==(null==c?void 0:c.searchType)||"catalog"!==c.tab)&&"filials"!==(null==c?void 0:c.searchType))return;const d=(0,a.QB)(c,"actual");if(1!==(null===(t=(0,i.rO)({state:e,searchId:d}).data)||void 0===t?void 0:t.searchType))return;const l=null===(o=null===(r=e.data.search.pagination[d])||void 0===r?void 0:r[1])||void 0===o?void 0:o.data[0],u=l?(0,s.wj)({state:e,entityId:l,searchId:d}).data:void 0;return"branch"!==(null==u?void 0:u.type)||(0,n.d)(u.ads)?void 0:u.poi_category}},66325:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(40889);const s=e=>e.appContext.showTrafficOnMap||!!(0,n.t0)(e.appContext.frames,"directions")||!e.session.is3dEnabled},93331:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});const n={RU:["ru_RU"],KZ:["ru_KZ","kk_KZ"],UA:["uk_UA","ru_UA"],AE:["en_AE","ar_AE"],IQ:["en_IQ","ar_IQ"],SA:["en_SA","ar_SA"],EG:["en_EG","ar_EG"],CY:["en_CY"],CZ:["cs_CZ"],IT:["it_IT"],CL:["es_CL"],KG:["ru_KG"],UZ:["ru_UZ","uz_UZ"],AZ:["az_AZ","ru_AZ"],BY:["ru_BY"],OM:["en_OM","ar_OM"],BH:["en_BH","ar_BH"],QA:["en_QA","ar_QA"],KW:["en_KW","ar_KW"]};const s=(0,r(37144).P1)([e=>e.config,e=>e.appContext.lang,e=>e.appContext.defaultLocale],((e,t,r)=>function(e){const{lang:t,availableLocales:r,defaultLocale:n}=e,s=t.replace("-","_"),i=s.split("_")[0],a=n.split("_")[1];return r.find((e=>e===s))||r.find((e=>e.startsWith(`${i.toLowerCase()}_`)))||r.find((e=>e.endsWith(`_${a.toUpperCase()}`)))||n}({lang:t,availableLocales:n[e.defaultCountryCode]||[],defaultLocale:r})))},62220:(e,t,r)=>{"use strict";r.d(t,{C8:()=>F,H3:()=>B,xl:()=>H,WK:()=>Z,Id:()=>L,ls:()=>z,Hr:()=>S,SC:()=>R,Wr:()=>D,Z1:()=>E,S:()=>A,sH:()=>U,v9:()=>N,Wf:()=>T,hC:()=>P});var n=r(40889),s=r(79225),i=r(88850),a=r(83945),o=r(37144);var c=r(41117),d=r(82603),l=r(96378),u=r(13096),p=r(4203),h=r(55936),g=r(64301),m=r(25278),f=r(87741),v=r(13663),b=r(32312),y=r(61472),x=r(8814);const j="undefined"==typeof window?36:Math.ceil(18*window.devicePixelRatio),w=e=>{if("unknown"===e.type)return O;return`data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg' xmlns:xlink= 'http://www.w3.org/1999/xlink'%3E%3Cdefs%3E%3ClinearGradient x1='50.002%25' y1='100.002%25' x2='50.002%25' y2='.002%25' id='a'%3E%3Cstop stop-color='%23027AF2' offset='0%25'/%3E%3Cstop stop-color='%23087CF1' offset='24.54%25'/%3E%3Cstop stop-color='%233198EC' offset='100%25'/%3E%3C/linearGradient%3E%3CclipPath id='circleView'%3E%3Ccircle cx='12' cy='12' r='9' fill='%23FFFFFF' /%3E%3C/clipPath%3E%3C/defs%3E%3Cg transform='translate(6 6)' fill='none'%3E%3Ccircle fill='%23000' cx='12' cy='12' r='10'/%3E%3Ccircle stroke='url(%23a)' stroke-width='3' fill='%23FFF' cx='12' cy='12' r='11.5'/%3E%3Cimage xlink:href='${C(e)}' x='3' y='3' height='18' width='18' clip-path='url(%23circleView)'/%3E%3C/g%3E%3C/svg%3E`},I=e=>{if("unknown"===e.type)return O;return`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink= 'http://www.w3.org/1999/xlink' width='40' height='40' viewBox='0 0 40 40' enable-background='new 0 0 36 36'%3E%3Cdefs%3E%3CclipPath id='circleView'%3E%3Ccircle cx='18' cy='17' r='9' fill='%23FFFFFF' /%3E%3C/clipPath%3E%3C/defs%3E%3Cfilter filterUnits='objectBoundingBox' height='220%25' id='a' width='220%25' x='-60%25' y='-45%25'%3E%3CfeMorphology in='SourceAlpha' operator='dilate' radius='3' result='shadowSpreadOuter1'/%3E%3CfeOffset dy='3' in='shadowSpreadOuter1' result='shadowOffsetOuter1'/%3E%3CfeGaussianBlur in='shadowOffsetOuter1' result='shadowBlurOuter1' stdDeviation='2.5'/%3E%3CfeComposite in='shadowBlurOuter1' in2='SourceAlpha' operator='out' result='shadowBlurOuter1'/%3E%3CfeColorMatrix in='shadowBlurOuter1' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.26 0'/%3E%3C/filter%3E%3Ccircle cx='18' cy='17' r='10' filter='url(%23a)'/%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='-.457' y1='37.956' x2='-.457' y2='38.956' gradientTransform='matrix(23 0 0 -23 28.5 901.5)'%3E%3Cstop offset='0' stop-color='%23d32408'/%3E%3Cstop offset='.47' stop-color='%23e32608'/%3E%3Cstop offset='1' stop-color='%23df3d0c'/%3E%3C/linearGradient%3E%3Ccircle fill='%23FFF' stroke='url(%23b)' stroke-width='3' cx='18' cy='17' r='11.5'/%3E%3Cpath fill='%23E32608' d='M13 12l2.5 3.5L18 12l2.5 3.5L23 12v9H13z'/%3E%3Cimage xlink:href='${C(e)}' x='9' y='8' height='18' width='18' clip-path='url(%23circleView)'/%3E%3C/svg%3E`};function C(e){if("raster"===e.type){const t=document.createElement("canvas");t.width=j,t.height=j;return t.getContext("2d").drawImage(e.source,0,0,j,j),t.toDataURL()}const t=(new DOMParser).parseFromString(e.source,"image/svg+xml").querySelector("svg");return t.setAttribute("width",`${j}`),t.setAttribute("height",`${j}`),`data:image/svg+xml;base64,${(0,x.o)(t.outerHTML)}`}const O="data:image/svg+xml,%3Csvg%20width%3D%2236%22%20height%3D%2236%22%20viewBox%3D%220%200%2036%2036%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3Ecommercial%3C%2Ftitle%3E%3Cdefs%3E%3ClinearGradient%20x1%3D%2250.002%25%22%20y1%3D%22100.002%25%22%20x2%3D%2250.002%25%22%20y2%3D%22.002%25%22%20id%3D%22a%22%3E%3Cstop%20stop-color%3D%22%23027AF2%22%20offset%3D%220%25%22%2F%3E%3Cstop%20stop-color%3D%22%23087CF1%22%20offset%3D%2224.54%25%22%2F%3E%3Cstop%20stop-color%3D%22%233198EC%22%20offset%3D%22100%25%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Cg%20transform%3D%22translate(6%206)%22%20fill%3D%22none%22%3E%3Ccircle%20fill%3D%22%23000%22%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2210%22%2F%3E%3Ccircle%20stroke%3D%22url(%23a)%22%20stroke-width%3D%223%22%20fill%3D%22%23FFF%22%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2211.5%22%2F%3E%3Cpath%20fill%3D%22%23087DF1%22%20d%3D%22M7%207l2.5%203.5L12%207l2.5%203.5L17%207v9H7z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E";var _=r(89848),k=r(38821);const S=e=>e.appContext.zoom,M={top:56,left:0,right:0,bottom:0,bigTop:100,bigLeft:100,bigRight:100,bigBottom:100},T=(0,o.P1)([f.w,e=>e.appContext.lang],((e,t)=>{const{bigTop:r,bigLeft:n,bigRight:s,bigBottom:i}=M;return"ar"===t?{topLeft:[s,r],bottomRight:[e+n,i]}:{topLeft:[e+n,r],bottomRight:[s,i]}})),N=(0,o.P1)([f.w,e=>e.appContext.lang],((e,t)=>{const{top:r,left:n,right:s,bottom:i}=M;return"ar"===t?{topLeft:[s,r],bottomRight:[e+n,i]}:{topLeft:[e+n,r],bottomRight:[s,i]}})),P=(0,o.P1)([N,e=>e.session.screen],((e,t)=>(0,i.o)(t,e))),E=(0,o.P1)([e=>e.appContext.center,e=>e.appContext.zoom,e=>e.appContext.pitch,e=>e.appContext.rotation],((e,t,r,n)=>({center:e,zoom:t,pitch:r,rotation:n}))),L=(0,o.P1)([e=>z(e)],(e=>{const[t,,r]=e;return[t,r]})),z=(0,o.P1)([N,e=>e.session.screen,E],((e,t,r)=>{const{center:n}=r,s=(0,i.o)(t,e);if(0===s.width||0===s.height)return[n,n,n,n];const o=(0,a.D)(Object.assign({mapSize:s},r)),[,,c,d]=o.map((e=>({lon:e[0],lat:e[1]}))),l=function(e,t){return e.map((e=>{const r=t.lat+(t.lat-e.lat),n=Math.abs(r)>90?2*Math.sign(r)*90-r:r;return{lon:t.lon+(t.lon-e.lon),lat:n}}))}([c,d],n);return function(e){let t={minLon:-180,maxLat:90,maxLon:180,minLat:-90};return e.length>1&&(t=e.reduce(((e,t)=>{const{lon:r,lat:n}=t;return{minLon:Math.min(e.minLon,r),maxLat:Math.max(e.maxLat,n),maxLon:Math.max(e.maxLon,r),minLat:Math.min(e.minLat,n)}}),{minLon:180,maxLat:-90,maxLon:-180,minLat:90})),[{lon:t.minLon,lat:t.maxLat},{lon:t.minLon,lat:t.minLat},{lon:t.maxLon,lat:t.minLat},{lon:t.maxLon,lat:t.maxLat}]}([...l,c,d])}));function R(e){const t=(0,n.WZ)(e.appContext.frames,["collection"]);if(t)return"collection"===t.type?(0,s.Ue)(t.collectionId):void 0}const F=e=>{const t=H(e);if(!t)return;const r=(0,b.Aw)({searchId:t,state:e});return r&&r.data};function H(e){const t=(0,n.Di)(e.appContext.frames);if(t)return e.appContext.weak.markers.catalog[t.id]}const B=(0,o.P1)([F,H,e=>"backTo2004"===e.appContext.activeLayer],((e,t,r)=>{if(!e||200!==e.code||!t)return;const n={},s=e.items.map(((e,s)=>{const i=(e=>{var t,r,n,s,i,a,o,c;return(null===(n=null===(r=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.marker_logo)||void 0===n?void 0:n.url)&&-1!==(null===(i=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.marker_logo.url.indexOf(".png"))?(0,k.W)(e.ads.options.marker_logo.url,`${j}x${j}`):null===(c=null===(o=null===(a=e.ads)||void 0===a?void 0:a.options)||void 0===o?void 0:o.marker_logo)||void 0===c?void 0:c.url})(e),a=function(e,t,r){const n=(0,y.s)();return t?{bigbullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_bigbullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_bigbullet_hover.svg`}},smallbullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_smallbullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_smallbullet_hover.svg`}},middlebullet:{normal:{url:`${n}markers/${r?"2004/":""}deleted_middlebullet.svg`},hover:{url:`${n}markers/${r?"2004/":""}deleted_middlebullet_hover.svg`}}}:e?{commercial:{normal:{url:e,transformer:r?void 0:w},hover:{url:e,transformer:r?void 0:I}}}:void 0}(i,e.is_deleted,r),o={id:e.id,key:(0,d._J)(e.id),lonLat:[e.lon,e.lat],type:e.is_advertising||i?"commercial":"bigbullet",buildingId:e.geometry_id,icon:a,data:{source:"catalog",searchId:t,type:(0,_.j)(e.type),match_type:e.match_type,rubr:e.rubr,source_type:e.source_type,vital:e.vital,is_advertising:e.is_advertising,name:[e.name,e.name_back].filter(d.Gg).join(" / "),name_ex:e.name_ex,schedule:e.schedule,context:e.context,reviews:e.reviews,ads:e.ads,cluster:e.cluster,timezone_offset:e.timezone_offset,temporary_unavailable_atm_services:e.temporary_unavailable_atm_services,flags:e.flags}};return n[(0,d._J)(e.id)]=s,o}));return{indexHashMap:n,markers:s}})),A=(0,o.P1)([e=>e.appContext.weak.floors,B],c.e);function D(e){const t=e.appContext.frames.find(u.n);return t&&t.originalSearchId}function Z(e){const t=D(e);if(t)return t;const r=e.appContext.frames.find(l.E)||e.appContext.frames.find(p.Y)||e.appContext.frames.find(u.n);return r&&(0,n.QB)(r)}const V=e=>{var t,r;const n=null===(t=e.entity)||void 0===t?void 0:t.data,s=null===(r=e.place)||void 0===r?void 0:r.point;if(!n||!s)return;const i="branch"===n.type?n.name_ex.primary:"name"in n&&n.name||"";return{id:n.id,point:[s.lon,s.lat],name:i,classId:"home"===e.type?1:2,humanReadableClassId:"home"===e.type?"personal_poi_home":"personal_poi_work"}},U=(0,o.P1)([h.n,v.Ef,v.oo],((e,t,r)=>{const n=[];if(!e.data&&!t&&!r)return m.LZ;e.data.suggestLastObjects.slice(0,10).forEach((e=>{if(e.entity&&e.entity.id){const t=e.entity,r=t.geometry&&t.geometry.centroid?(0,g.rx)(t.geometry.centroid):t.point;r&&n.push({id:t.id,point:[r.lon,r.lat],name:"name_ex"in t&&t.name_ex?t.name_ex.primary:t.name,classId:t.class_id||0,humanReadableClassId:t.human_readable_class_id})}}));const s=t?V(t):void 0;s&&n.push(s);const i=r?V(r):void 0;return i&&n.push(i),0!==n.length?n:m.LZ}))},8151:(e,t,r)=>{"use strict";r.d(t,{mN:()=>O,Z_:()=>g,g2:()=>m,kL:()=>v,yH:()=>f,SJ:()=>y,fq:()=>b,E5:()=>C,mI:()=>I,kG:()=>j,k2:()=>w});var n=r(78621),s=r(8919),i=r(61789),a=r(27087),o=r(40889),c=(r(51665),r(45632)),d=r(11497),l=r(1963);var u=r(25278),p=r(3385);const h={admDiv:s.Y,project:s.Y},g=e=>{const t=j(e);if(!t||!t.data)return h;if("universe"===t.data.type)return h;return{admDiv:t,project:t.data.regionId&&(0,n.D4)({state:e,id:t.data.regionId})||s.Y}},m=(e,t,r)=>{const n=j(e);if(r&&n&&n.data&&n.data.allowChangeDomain&&(0,d.Y)(n.data)&&p.Qd.includes(n.data.countryCode))return(0,i.RG)(t,n.data.countryCode,n.data.regionId)},f=e=>{const t=g(e).admDiv.data;return(0,d.Y)(t)},v=e=>{j(e);const t=f(e);if(void 0===t)return;const r=(0,n.D4)({state:e,id:t});return r&&r.data};function b(e){const t=v(e);return t&&t.id||"0"}function y(e){const t=v(e);return t&&t.code}const x={data:{name:"",type:"universe",id:"",countryCode:"ru",overlapRegionId:"0",allowChangeDomain:!0},meta:{code:200,status:"success"}},j=e=>(0,l.e)(e.appContext.zoom)?x:(0,n.zQ)({state:e,id:u.Iv}),w=e=>{var t;const r=(0,n.zQ)({state:e,id:u.Iv});return null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.id};function I({state:e,code:t}){const r=[];return(0,a.s0)(e.data.region.profile).forEach((e=>{(null==e?void 0:e.data)&&r.push(e.data)})),function(e,t){return t.find((t=>{var r;return t.uri_code===e||(null===(r=t.uri_aliases)||void 0===r?void 0:r.includes(e))}))}(t,r)}function C(e){var t;const r=w(e),n=r&&(null===(t=e.data.entity.profile[r])||void 0===t?void 0:t.data),s=n&&"adm_div"in n?n.adm_div:void 0,i=null==s?void 0:s.find((e=>"region"===e.type));return null==i?void 0:i.id}function O(e){const t=(0,o.t0)(e.appContext.frames,"entity")||(0,o.t0)(e.appContext.frames,"gallery");if(t)return t.entityId;const r=(0,o.t0)(e.appContext.frames,"search");if(r)switch(r.searchType){case"inbuilding":return r.buildingId;case"filials":{const t=(0,c.r)(r);if(!t)return;const n=e.data.search.pagination[t];if(!n)return;const s=n[1];if(!s)return;return s.data[0]}default:return}}},53904:(e,t,r)=>{"use strict";r.d(t,{Do:()=>h,Mw:()=>g,QV:()=>f,Te:()=>p,eq:()=>l,iE:()=>m,mg:()=>v,vt:()=>y,yw:()=>b});var n=r(97698),s=r(79225),i=r(39304),a=r(81813),o=r(8919),c=r(55936),d=r(76448);function l(e,t){return e.appContext.weak.suggests[t]}function u(e,t){const r=l(e,t);if(r&&r.suggestId)return(0,s.Gp)(r.suggestId)}function p(e){const t=u(e,"products");if(t){const r=(0,a.Te)({state:e,searchId:t});return r&&r.data&&r.data.items}}function h(e){var t;const r=u(e,"products");if(r){const n=(0,a.Te)({state:e,searchId:r});return null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.bss}}function g(e){const t=l(e,"primary");if(t&&t.suggestId){const r=(0,i.mg)({state:e,searchId:(0,s.sG)(t.suggestId)});if(r&&r.data&&r.data.query)return!1}return!0}const m=(0,n.P1)([e=>g(e),e=>v(e,"primary"),e=>(0,c.n)(e)],((e,t,r)=>e?function(e){if(e)return e.searches.slice(0,d.vT)}(r&&r.data):t));function f(e,t){if("products"===t)return o.Y;const r=u(e,t);return r?(0,i.mg)({state:e,searchId:r}):o.Y}function v(e,t){const{data:r}=f(e,t);return r&&r.items}function b(e,t){const{data:r}=f(e,t);return r&&r.searchAttributes}function y(e,t){switch(t){case"products":return p(e);case"primary":case"inbuilding":return m(e);default:return v(e,t)}}},59055:(e,t,r)=>{"use strict";r.d(t,{C:()=>s,a:()=>i});var n=r(45537);const s=e=>e?(0,n.Rh)((t=>!t.isMobileDevice&&e)):(0,n.ZT)(),i=e=>e?(0,n.Rh)((t=>t.isMobileDevice&&e)):(0,n.ZT)()},20929:(e,t,r)=>{"use strict";r.d(t,{c:()=>u});var n=r(45537),s=r(60618),i=r(5330),a=r(8151),o=r(64273),c=r(56087),d=r(24395),l=r(33131);const u=e=>{const{actionType:t,value:r,entityId:u,ctaOwner:h}=e;switch(t){case"order":{if(!u)return(0,n.ZT)();const e=p(h);return(0,d.f)({entityId:u,source:e})}case"search_by_org":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,s.QR)({orgId:r}));case"search_buy_here":return(0,l.J)({adsIds:r});case"search_by_query":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:r}),(0,i.zh)((e=>(0,s.gB)({query:r,viewpoint:e}))));case"search_by_rubric":return(0,n.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,n.xJ)((e=>(0,i.zh)((t=>(0,s.gB)({viewpoint:t,rubricId:r,query:"",regionId:(0,a.fq)(e)}))))));case"open_card":return(0,o.xo)({id:r,type:"branch"});default:return(0,n.ZT)()}},p=e=>{switch(e){case"mapMarker":return"marker";case"placeCardFull":return"entityCard";case"placeCardMini":return"entityMinicard";case"adsBanner":return"banner"}return"entityCard"}},46331:(e,t,r)=>{"use strict";function n(e,t="ru_RU"){return`${e}_${t}`}r.d(t,{HT:()=>_,yq:()=>M,Mh:()=>T,Oc:()=>O});var s=r(92007),i=r(8151),a=r(45537),o=r(79225),c=r(51665),d=r(91965),l=r(93331),u=r(64273),p=r(51113),h=r(77752),g=r(57451),m=r(19463),f=r(79417),v=r(59682),b=r(19599),y=r(56087),x=r(42392),j=r(20882),w=r(93357),I=r(62220),C=r(82603);const O=(0,a.gQ)("updateDashboardDataIfNeeded",(()=>(0,a.xJ)((e=>0===e.appContext.frames.length&&(0,a.Mf)(_(),(0,a.XJ)(k()),S())))));const _=(0,a.gQ)("fetchMetarubricsIfNeeded",(e=>(0,a.xJ)((t=>{const r=t.appContext.weak.dashboard.transitions.rubricsId,c=function(e,t){const r=(0,l.O)(e),s=(0,i.fq)(e),a=[(t?(0,C.by)():(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)).split(":")[0],n(s,r)].join(":");return(0,o.gg)(e.appContext.weak.dashboard.transitions.rubricsId,a)}(t,e);return c===r?(0,a.ZT)():(0,a.vP)((0,s.jP)(c),(0,a.xJ)((e=>{const t=(0,o.sG)(e.appContext.weak.dashboard.transitions.rubricsId),r=(0,j.l)({state:e,dashboardId:t});if((0,w.G)(r)&&t){const r=(0,l.O)(e),n=(0,i.fq)(e),s=(0,I.Id)(e);return(0,x.A)({dashboardId:t,regionId:n,locale:r,viewpoint:s})}})),(0,a.xJ)((e=>{const t=e.appContext.weak.dashboard.transitions.rubricsId;if((0,o.sG)(c)===(0,o.sG)(t))return(0,s.jP)((0,o._e)(t))})))})))),k=(0,a.gQ)("fetchGTAIfNeeded",(()=>(0,a.xJ)((e=>{const t=(0,l.O)(e),r=(0,i.fq)(e),n=(0,o.gg)(e.appContext.weak.dashboard.transitions.gtaId,function(e,t="ru_RU"){return`${e}_${t}`}(r,t));return(0,o.sG)(n)===(0,o.Gp)(n)?(0,a.ZT)():(0,a.vP)((0,s.H6)(n),(0,d.e)(),(0,a.xJ)((e=>{const t=e.appContext.weak.dashboard.transitions.gtaId;if((0,o.sG)(n)===(0,o.sG)(t))return(0,s.H6)((0,o._e)(t))})))})))),S=(0,a.gQ)("fetchDashboardEntityIfNeeded",(()=>(0,a.xJ)((e=>{const t=(0,i.Z_)(e).admDiv.data;if(!t)return(0,a.ZT)();const r=t.id;if(!r)return(0,a.ZT)();return(0,c.wj)({state:e,entityId:r}).data?(0,a.ZT)():(0,u.DZ)({id:r,searchId:void 0})})))),M=(0,a.gQ)("openDashboardFromMinicard",(e=>(0,a.vP)(e.skipHistoryPush?(0,a.ZT)():(0,m.BN)(),(0,f.IW)(),(0,y.xU)({suggesterKey:"primary",query:void 0}),(0,p.wN)({entityId:e.entityId},(t=>t.data?(0,a.ZT)():(0,u.DZ)({id:e.entityId,searchId:void 0}))),(0,v.vr)({entityId:e.entityId}))));function T(e){return(0,a.XJ)((0,a.Rh)((t=>(0,a.xJ)((r=>{if(0!==r.appContext.frames.length)return;const n=(0,i.Z_)(r).admDiv.data;if(!n||!(0,b.f)(e,n)||"adm_div.city"!==n.type)return;const s=n.id;if(!s)return;const a=(0,c.wj)({state:r,entityId:s}).data;if(!a)return;const o=(0,h.B)({entity:a,state:r});if(!o)return;return(0,i.g2)(r,window.location.hostname,t.isCountryRedirectsEnabled)?void 0:(0,g.ly)(o)})))))}},54467:(e,t,r)=>{"use strict";r.d(t,{lB:()=>h,tb:()=>p,HP:()=>g});var n=r(5163),s=r(79417),i=r(51113),a=r(54682),o=r(72366),c=r(82603);let d;const l=["offline","navigator"];function u(){return d=(0,c.hj)(l,d),d}function p(e){const{id:t,frameId:r,type:n,point:i,tab:a,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:h,activeDirectionId:g,entranceId:m}=e;return(0,s.Jt)({id:r,type:"entity",entityType:n,entityId:t,tab:a,isShowEntrance:!0,point:i,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:h,activeDirectionId:g,entranceId:m,promoType:u()})}function h(e){return(0,i.wN)({entityId:e.entityId},(t=>(0,a.me)(e.frameId,(e=>{const r=t&&t.data;if(!r)return e;const n=(0,o.m)(r);if(n&&e.entityId!==n.id)return Object.assign(Object.assign({},e),{entityId:n.id,entityType:n.type});const s=r.type;return e.entityType===s?e:Object.assign(Object.assign({},e),{entityType:s})}))))}function g(e){const{frameId:t}=e,r=(0,n._T)(e,["frameId"]);return(0,s.Jt)(Object.assign(Object.assign({},r),{id:t,type:"pending",subtype:"entity",promoType:u()}))}},8344:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var n=r(45537),s=r(19463),i=r(22200),a=r(51665),o=r(5330);const c=(0,n.gQ)("handleDirectionsClick",(({lonLat:e,entityId:t})=>e?(0,n.vP)((0,s.BN)(),(0,i.b)({points:[void 0,{type:"point",lonLat:e,entityId:t}]})):t?(0,o._N)((e=>(0,a.nM)({state:e,entityId:t})),(e=>{const r=e.data&&"point"in e.data?e.data.point:void 0;if(r)return(0,n.vP)((0,s.BN)(),(0,i.b)({points:[void 0,{type:"point",lonLat:r,entityId:t}]}))})):(0,n.ZT)()))},64273:(e,t,r)=>{"use strict";r.d(t,{DZ:()=>x,wk:()=>F,H3:()=>H,xo:()=>O,ko:()=>N,WZ:()=>z});var n=r(45537),s=r(82603),i=r(25278),a=r(19463),o=r(54467),c=r(59682),d=r(28098),l=r(51113),u=r(61518);function p({id:e,searchId:t}){return(0,l.wN)({entityId:e,searchId:t},(t=>{const r=t.data;return r&&"branch"===r.type&&(0,u.e)(r)?(0,d.z)({id:e}):(0,n.ZT)()}))}var h=r(39461),g=r(9030),m=r(68179),f=r(5330),v=r(46584),b=r(32312),y=r(62220);const x=(0,n.gQ)("fetchEntityProfileWithCurrentViewpoint",(e=>(0,f.gF)({viewpoint:y.Id,searchProfile:t=>(0,b.rO)({state:t,searchId:e.searchId})},(({viewpoint:t,searchProfile:r})=>{var n;return(0,v.Dz)({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,viewpoint:t,contextRubrics:null===(n=r.data)||void 0===n?void 0:n.contextRubrics,adsId:e.adsId})}))));var j=r(72366);function w(e){return(0,n.Yz)("fetchProfileCheckGroup")(x({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId}),(0,l.wN)({entityId:e.id},(t=>{if(!t.data||"branch"===t.data.type)return;const r=(0,j.m)(t.data);return r?x({id:r.id,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId}):void 0})))}var I=r(94560),C=r(90091);const O=(0,n.gQ)("openEntityCard",(e=>{const t=(0,s.by)(),r=(0,s.by)(),d=(0,s.by)(),l=(0,s.by)(),u=(0,s.by)(),f=(0,s.by)(),v=(0,s.by)(),b=e.searchId?e.searchId:i.Mt,y=Object.assign(Object.assign({},e),{statusId:r,searchId:b,frameId:t,entityReviewsSearchId:d,orgReviewsSearchId:l,gtaId:u,unconfirmedEntityReviewsSearchId:f,unconfirmedOrgReviewsSearchId:v});const x="geo"===y.type||"building"===y.type?(0,I.Q)({entityId:y.id}):(0,n.ZT)(),j="branch"===y.type&&"photos"===y.tab?(0,C._V)({objectId:y.id}):(0,n.ZT)();return(0,n.vP)(e.skipHistoryPush?(0,n.ZT)():(0,a.BN)(),(0,o.tb)(y),(0,n.Mf)(w(y),x),(0,n.Rh)((({featureAlbumsCounts:e})=>e&&j)),e.shouldFitEntityInMapView?(0,c.vr)({entityId:e.id}):void 0,(0,o.lB)({frameId:t,entityId:y.id}),p({id:y.id,searchId:b}),(0,h.Uh)(y),(0,n.Mf)((0,g.eY)(y),(0,m.A)(y)))}));var _=r(46331),k=r(73896),S=r(51665),M=r(40889),T=r(90980);const N=(0,n.gQ)("openEntityCardFromMinicard",(e=>(0,f.gF)({entityProfile:t=>(0,S.wj)({state:t,entityId:e.id,searchId:e.searchId}),searchFrame:e=>(0,M.Di)(e.appContext.frames),isMobile:e=>e.config.isMobileDevice},(({entityProfile:t,searchFrame:r,isMobile:n})=>{var s;const{id:i,searchId:a,type:o,skipHistoryPush:c}=e,d=t.data,l=n;return d?function(e){return"adm_div"===e.type&&["city","settlement"].includes(e.subtype)&&!e.geocoded_by}(d)?(0,_.yq)({entityId:i,skipHistoryPush:c}):"point"===d.type?(0,k.W)({point:d.geocoded_by||d.point,shouldCenterMap:!0}):O({id:i,searchId:a,hash:d.hash,type:d.type,skipHistoryPush:c,entranceId:null===(s=d.context)||void 0===s?void 0:s.entrance_id,adsId:(0,T.J)(r),point:"geocoded_by"in d&&d.geocoded_by||"point"in d&&d.point||void 0,shouldFitEntityInMapView:l}):O({id:i,searchId:a,type:o,skipHistoryPush:c,hash:void 0,shouldFitEntityInMapView:l})}))));var P=r(8831),E=r(79417),L=r(14075);const z=(0,n.gQ)("openEntityCardFromPending",(e=>{const{entityId:t,frameId:r,statusId:i,searchId:a,clickPoint:o,gtaId:c,skipFetchEntity:d}=e;return(0,n.vP)((0,f.Mb)(r,(r=>!d&&r&&w({id:t,statusId:i,searchId:a,clickPoint:o,gtaId:(0,P.n)(r),adsId:e.adsId}))),(0,l.wN)({entityId:t},(i=>{if(!i.data)return;const o=i.data,d=(0,j.m)(o),u=d?d.id:t,h=d?d.type:o.type;return(0,f.Mb)(r,(t=>t&&(0,n.vP)((0,l.wN)({entityId:u},(t=>(0,E.d3)(r,(r=>({id:r.id,searchId:e.searchId,statusId:e.statusId,point:r.point,gtaId:c,type:"entity",entityId:u,entityType:h,tab:(0,L.R)(t.data||o)[0],isShowEntrance:!0,victimsId:r.victimsId,entranceId:r.entranceId}))))),(0,n.Mf)((0,g.eY)({id:u,type:h,searchId:a,frameId:r,entityReviewsSearchId:(0,s.by)(),orgReviewsSearchId:(0,s.by)(),unconfirmedOrgReviewsSearchId:(0,s.by)(),unconfirmedEntityReviewsSearchId:(0,s.by)()}),(0,m.A)({id:u,searchId:a}),p({id:u,searchId:a})))))})))}));var R=r(35795);const F=(0,n.gQ)("fetchEntityProfileWithCurrentViewpointIfNeeded",(e=>(0,R.D)((t=>(0,S.nM)({state:t,entityId:e.id})),x(e)))),H=(0,n.gQ)("fetchMultipleEntityProfileWithCurrentViewpoint",(e=>(0,f.zh)((t=>{if(!e.ids)return(0,n.ZT)();if(!e.experimentalPagination||e.ids.length<=100)return(0,v.py)({ids:e.ids,searchId:e.searchId,viewpoint:t,hash:e.hash});const r=[...e.ids],s=[];for(;r.length>0;)s.push(r.splice(0,100));return(0,n.Mf)(...s.map((r=>(0,v.py)({ids:r,searchId:e.searchId,viewpoint:t,hash:e.hash}))))}))))},86411:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var n=r(45537),s=r(79417),i=r(54682),a=r(40889);const o=(0,n.gQ)("setPhotoAlbum",(e=>(0,n.xJ)((t=>{const{frameId:r,selectedAlbum:o}=e,c=(0,a.iF)(t.appContext.frames,r);switch(null==c?void 0:c.type){case"entity":return(0,i.me)(r,(e=>Object.assign(Object.assign({},e),{tabPhoto:{photoAlbum:o}})));case"gallery":return(0,s.D_)(r,(e=>Object.assign(Object.assign({},e),{photoAlbum:o})));default:return(0,n.ZT)()}}))))},39461:(e,t,r)=>{"use strict";r.d(t,{Sb:()=>j,Uh:()=>x,ls:()=>C});var n=r(45537),s=r(82603),i=r(28335),a=r(60618),o=r(1109),c=r(33044),d=r(54682),l=r(74116),u=r(51665),p=r(61624),h=r(79671),g=r(5330),m=r(93331),f=r(40889),v=r(81813),b=r(9030),y=r(75641);function x({id:e,tab:t,tabQuery:r,filterValues:s={},frameId:i,entityReviewsSearchId:a,orgReviewsSearchId:o}){return(0,n.Rh)((({featureReadOnly:c})=>(0,n.xJ)((n=>{const d=(0,u.nM)({state:n,entityId:e}),g=(0,f.iF)(n.appContext.frames,i),m=d&&d.data;if(!m)return;if(!g)return;if("entity"!==g.type)return;const v=(0,h.Q6)({state:n,entityId:e,entityReviewsSearchId:a,orgReviewsSearchId:o,featureReadOnly:c}),b=(0,l.d)(v,t||g.tab);return b?j({entityId:e,frameId:i,tab:b,buildingId:(0,p.V)(m),tabQuery:r,filterValues:s}):void 0}))))}const j=(0,n.gQ)("setEntityTab",(e=>{const{frameId:t,entityId:r,buildingId:o,tab:c,tabQuery:l="",filterValues:p={}}=e,h=!e.searchId;switch(c){case"inside":return o?h?(0,a.ZS)({frameId:t,buildingId:o,filterValues:p,query:l}):(0,d.me)(t,(e=>e.tabInside?Object.assign(Object.assign({},e),{tab:c,tabInside:Object.assign(Object.assign({},e.tabInside),{tabQuery:e.tabInside.query})}):e)):(0,n.ZT)();case"prices":{const e=r;return(0,n.Mf)((0,d.me)(t,(t=>Object.assign(Object.assign({},t),{tab:c,tabPrices:{searchId:e}}))),(0,g.gF)({categories:e=>(0,v.ch)({state:e,id:r})},(({categories:t})=>!t.meta&&(0,g._N)(m.O,(t=>(0,i.X)({branchId:r,offersSearchId:e,locale:t}))))))}case"realty":return(0,g.gF)({entity:e=>(0,u.nM)({state:e,entityId:r}).data},(({entity:e})=>{var s,i;const a="branch"===(null==e?void 0:e.type)&&(null===(i=null===(s=null==e?void 0:e.group)||void 0===s?void 0:s.find((e=>"building"===e.type)))||void 0===i?void 0:i.id)||r;return(0,n.Mf)((0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c,tabRealty:Object.assign(Object.assign({},e.tabRealty),{geoId:a})}))),(0,g._N)(y.hp,(e=>e&&(0,y.pm)(e))))}));case"services":return o?h?w(t,o):(0,d.me)(t,(e=>{const t=e.tabServices?Object.assign(Object.assign({},e.tabServices),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabServices:t})})):(0,n.ZT)();case"providers":return o?h?I(t,o):(0,d.me)(t,(e=>{const t=e.tabProviders?Object.assign(Object.assign({},e.tabProviders),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabProviders:t})})):(0,n.ZT)();case"reviews":return(0,g.WW)(t,(e=>"entity"===e.type),(e=>{const i=!e.tabReviews;return(0,n.Mf)(i?(0,b.ah)({frameId:t,id:r,searchId:e.searchId,entityReviewsSearchId:(0,s.by)(),orgReviewsSearchId:(0,s.by)(),unconfirmedEntityReviewsSearchId:(0,s.by)(),unconfirmedOrgReviewsSearchId:(0,s.by)(),type:e.entityType}):(0,n.ZT)(),(0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c}))))}));default:return(0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}})),w=(e,t)=>{const r=(0,s.by)(),i=(0,s.by)();return(0,n.vP)((0,d.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"services",tabServices:Object.assign(Object.assign({},e.tabServices),{searchId:r,gtaId:i,page:1})}))),O({buildingId:t,searchId:r,gtaId:i,page:1,withStandardPageSize:!0}))},I=(e,t)=>{const r=(0,s.by)(),i=(0,s.by)();return(0,n.vP)((0,d.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"providers",tabProviders:Object.assign(Object.assign({},e.tabProviders),{searchId:r,gtaId:i,page:1})}))),C({buildingId:t,searchId:r,gtaId:i,page:1,withStandardPageSize:!0}))},C=(0,n.gQ)("fetchFirmsProvidersWithCurrentViewpoint",(e=>(0,g.zh)((t=>(0,c.I)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t}))))),O=(0,n.gQ)("fetchFirmsMaintainersWithCurrentViewpoint",(e=>(0,g.zh)((t=>(0,o.r)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t})))))},9030:(e,t,r)=>{"use strict";r.d(t,{ah:()=>y,eY:()=>v,fE:()=>b});var n=r(45537),s=r(51113),i=r(39310),a=r(48389),o=r(54682),c=r(79225),d=r(55850),l=r(5330),u=r(69838),p=r(51665),h=r(42833),g=r(59857),m=r(35795),f=r(34855);function v(e){const{id:t,type:r}=e;return(0,n.Rh)((({featureReadOnly:s,isSearchBot:i})=>s?(0,n.ZT)():(0,n.Mf)(i?y(e):(0,n.ZT)(),(0,n.XJ)((0,f.d)({id:t,type:r})))))}function b(e,t,r,s,o,c){return(0,n.xJ)((l=>{var f,v;const b=(0,p.wj)({state:l,entityId:e,searchId:r});if(!b||!b.data||!(0,a.s)(b.data))return;const y=b.data,x=s.isOrg?"org":(0,d.J)(y)?"branch":"geo",j="org"===x&&(0,d.J)(y)?y.org.id:y.id,w=!!(null===(v=null===(f=y.ads)||void 0===f?void 0:f.options)||void 0===v?void 0:v.review),I=!!s.onlyAnswered||void 0;return(0,n.Mf)((0,i.B)({type:x,id:j,searchId:t,isAdvertiser:w,withAnswer:I,ratings:s.ratings,facts:c}),"geo"!==x&&(0,m.D)((0,h.UB)(j),(0,u.J)({id:j,isAdvertiser:w,type:x})),(0,g.WT)({entityId:e,frameId:o,orgId:s.isOrg?j:void 0}))}))}function y(e){const{id:t,searchId:r,frameId:u,entityReviewsSearchId:p,orgReviewsSearchId:h,unconfirmedOrgReviewsSearchId:m,unconfirmedEntityReviewsSearchId:f}=e;return(0,s.wN)({entityId:t,searchId:r},(e=>{var r,s,v;const b=e&&e.data;if(!b||!(0,a.s)(b))return;const y=(0,d.J)(b)&&!!(null===(r=b.reviews)||void 0===r?void 0:r.is_org_reviews)&&b.org.branch_count>1,x={entityReviewsSearchId:(0,c.Ue)(p),orgReviewsSearchId:(0,c.Ue)(h),unconfirmedOrgReviewsSearchId:m,unconfirmedEntityReviewsSearchId:f,isOrg:y,onlyAnswered:!1},j=(0,d.J)(b),w=(0,d.J)(b)?b.org.id:void 0,I=y&&w?"org":j?"branch":"geo",C=y?w:t,O=!!(null===(v=null===(s=b.ads)||void 0===s?void 0:s.options)||void 0===v?void 0:v.review),_="org"===I?h:p;return C?(0,n.Mf)((0,o.me)(u,(e=>Object.assign(Object.assign({},e),{tabReviews:x}))),(0,n.vP)((0,i.B)({id:C,type:I,isAdvertiser:O,searchId:_}),(0,l._N)((e=>{var t,r;return null===(r=null===(t=e.data.reviewSearch[_])||void 0===t?void 0:t.data)||void 0===r?void 0:r.total}),(e=>"branch"===I&&!e&&w?(0,i.B)({id:w,type:"org",isAdvertiser:O,searchId:h}):(0,n.ZT)()))),(0,g.Bf)({entityId:t})):void 0}))}},68179:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(51113),s=r(45537),i=r(97099),a=r(9079);function o({id:e,searchId:t}){return(0,n.wN)({entityId:e,searchId:t},(t=>{var r,n,o,c,d;const l=t.data;if(!l||"branch"!==l.type)return(0,s.ZT)();const u=null===(o=null===(n=null===(r=null==l?void 0:l.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.videos)||void 0===o?void 0:o[0],p=null===(c=(0,a.A)(l))||void 0===c?void 0:c.adsBuyHere,h=(null===(d=null==p?void 0:p.videos)||void 0===d?void 0:d[0])||u;return h?(0,i.o)({id:e,videoUrl:h.resources_description_url}):(0,s.ZT)()}))}},41296:(e,t,r)=>{"use strict";r.d(t,{L:()=>m});var n=r(45537),s=r(5330),i=r(42461),a=r(90280),o=r(64273),c=r(19463),d=r(73896),l=r(54467),u=r(82603),p=r(59682),h=r(51113),g=r(72366);const m=(0,n.gQ)("openFavoriteItem",(e=>{const{type:t,favoriteId:r,shouldCenterMap:m=!0}=e,f="private"===t?i.PP:a.jM;return(0,s._N)(f(r),(e=>{if(!e)return(0,n.ZT)();const t=e.point||e.source_point;if(e.object_id&&e.object_type){const r=(0,u.by)(),s=(0,u.by)(),i=(0,u.by)(),a=(0,u.by)(),c=e.object_id;return(0,h.wN)({entityId:c},(d=>{var u,h;const f=(0,g.m)(d.data);return!d.data||f&&f.id!==c?(0,n.vP)((0,l.HP)({frameId:r,gtaId:s,point:t,searchId:i,statusId:a}),(0,o.WZ)({entityId:c,frameId:r,statusId:a,searchId:i,gtaId:s}),m&&(0,p.vr)({entityId:c})):(0,o.xo)({id:null!==(u=null==f?void 0:f.id)&&void 0!==u?u:c,type:null!==(h=null==f?void 0:f.type)&&void 0!==h?h:e.object_type,shouldFitEntityInMapView:m,point:t})}))}return t?(0,n.vP)((0,c.BN)(),(0,d.W)({point:t,shouldCenterMap:m})):(0,n.ZT)()}))}))},17630:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var n=r(45537),s=r(26609),i=r(4568),a=r(5330),o=r(8151),c=r(22730),d=r(82603);const l=(0,n.gQ)("createCollection",(e=>{const{title:t,color:r,collectionId:l=(0,d.by)(),skipSync:u,isDefault:p,order:h}=e;return(0,a._N)(o.Z_,(e=>{const a=e.admDiv.data,o=e.project.data,d=a&&a.regionId||o&&o.id,g=a&&a.segmentId,m=(0,c.g)(d,g),f={id:l,type:"collection",color:r,collection_id:l,title:t,project_id:[m],is_default:p,order:h};return(0,n.vP)((0,s.D)({[l]:f}),u?(0,n.ZT)():(0,i.K)())}))}))},58129:(e,t,r)=>{"use strict";r.d(t,{d:()=>g});var n=r(51113),s=r(26609),i=r(82603),a=r(45537),o=r(5330),c=r(25278),d=r(22730),l=r(7537),u=r(13663),p=r(64273),h=r(83357);const g=(0,a.gQ)("createItemInCollection",(e=>{const{collectionId:t,item:r}=e;return(0,a.vP)((0,p.wk)({id:r.object_id,searchId:void 0}),(0,o._N)((0,u.vE)(t),(e=>{if(e.find((e=>(0,l.G)(e,r))))return(0,a.ZT)();const o=(0,i.by)();return"point"===r.object_type?(0,s.D)({[o]:m({itemId:o,collectionId:t,entity:{type:"point",point:r.point},point:r.point})}):(0,n.wN)({entityId:r.object_id},(e=>{const n=e.data;return n?(0,s.D)({[o]:m({itemId:o,collectionId:t,entity:n,point:r.point})}):(0,a.ZT)()}))})))}));function m(e){const{itemId:t,collectionId:r,entity:n,point:s}=e;return"point"===n.type?{id:t,collection_id:r,type:"favorite",project_id:[c.bw],point:s,source_point:s}:{id:t,collection_id:r,type:"favorite",object_id:n.id,object_type:n.type,project_id:[(0,d.g)(n.region_id,n.segment_id)],point:s,source_data:JSON.stringify((0,h.q)(n)),source_point:s,system_create_time:String(Date.now())}}},26609:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(5330),s=r(16005);function i(e){return(0,n._N)((e=>e.data.favoritesPersonal.sync),(t=>(0,s.D)({sync:t,objects:e})))}},4568:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(29127),s=r(5330),i=r(45537),a=r(31461),o=r(20772),c=r(74078);function d(){return(0,s._N)((e=>e.data.favoritesPersonal.sync),(e=>(0,c.M)((0,i.vP)((0,n.K)({sync:e}),(0,i.xJ)((e=>{const t=e.appContext.frames.find(a.f);return t?(0,o.R)(t.subtype,t.collectionId,t.visibleItemsLimit):(0,i.ZT)()}))))))}},14748:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(43234),s=r(5330),i=r(45537),a=r(27087),o=r(51113),c=r(93357),d=r(64273);function l(){return(0,s._N)((e=>e.data.favoritesPlaces.sync),(e=>(0,i.vP)((0,n.s)({sync:e}),(0,i.xJ)((e=>{const t=e.data.favoritesPlaces.objects,r=(0,a.s0)(t).map((e=>e&&e.object_id));if(0===r.length)return(0,i.ZT)();const n=r.map((e=>e?(0,o.wN)({entityId:e},(t=>(0,c.G)(t)?(0,d.DZ)({id:e,searchId:void 0}):(0,i.ZT)())):(0,i.ZT)()));return n.length>0?(0,i.Mf)(...n):(0,i.ZT)()})))))}},13162:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5330),s=r(8151),i=r(2828),a=r(45537);function o(){return(0,n.gF)({projectId:s.yH,countryCode:e=>e.config.defaultCountryCode.toLowerCase(),sync:e=>e.data.favoritesPublic.sync},(({projectId:e,countryCode:t,sync:r})=>e?(0,i.gM)({projectId:e,countryCode:t,sync:r}):(0,a.ZT)()))}},83357:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(27087);function s(e){if("type"in e)return Object.assign(Object.assign({},(0,n.ei)(e,["access_comment","access","address_comment","address","adm_div","authors","barrier","building_name","capacity","comment","contact_groups","dates","description","floors","from_name","group","is_incentive","is_paid","level_count","name_ex","name","purpose_name","purpose","rubrics","subtype_specification","subtype","to_name","type"])),"org"in e?{org:{id:e.org.id}}:{})}},34855:(e,t,r)=>{"use strict";r.d(t,{d:()=>c});var n=r(45537),s=r(63295),i=r(5330),a=r(51665),o=r(70639);const c=(0,n.gQ)("fetchEntityPhotosFull",(e=>(0,i._N)((t=>(0,a.XU)({state:t,entityId:e.id})),(t=>t.data||t.meta&&"loading"===t.meta.status?(0,n.ZT)():(0,s.k)(Object.assign({page:1,pageSize:o.b},e))))))},65239:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(45537),s=r(63295),i=r(5330),a=r(51665);const o=(0,n.gQ)("fetchEntityPhotosFull",(e=>(0,i._N)((t=>(0,a.XU)({state:t,entityId:e.id})),(t=>t.data&&!(t.data.items.length<t.data.total)||t.meta&&"loading"===t.meta.status?(0,n.ZT)():(0,s.k)(Object.assign({page:1},e))))))},91965:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(45537),s=r(79225),i=r(62104),a=r(93331),o=r(8151),c=r(62220);const d=(0,n.gQ)("fetchDashboardGTA",(()=>(0,n.Rh)((e=>(0,n.xJ)((t=>{if(!e.featureDashboardGTA)return;const r=(0,a.O)(t),n=(0,o.fq)(t),d=(0,c.ls)(t);return(0,i.e)({gtaId:(0,s.sG)(t.appContext.weak.dashboard.transitions.gtaId),locale:r,viewport:d,regionId:d?void 0:n})}))))))},88969:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(71756);function s(){return(0,n.Kn)({type:"map:hint",event:void 0})}},19463:(e,t,r)=>{"use strict";r.d(t,{BJ:()=>m,BN:()=>h,dc:()=>g});var n=r(87150),s=r(88111),i=r(45537),a=r(25376),o=r(57451),c=r(97813),d=r(89003),l=r(56087),u=r(8151);function p(e){return{appContext:Object.assign(Object.assign({},e.appContext),{weak:void 0})}}const h=e=>{const t=(0,i.xJ)((e=>(0,n.O8)({url:(0,s.M)((0,a.V)(e)),state:p(e)})));return e?(0,i.vP)(t,e):t},g=e=>(0,i.xJ)((t=>(0,i.vP)((0,n.lO)({appContext:Object.assign(Object.assign({},e.appContext),{weak:t.appContext.weak})}),(0,l.xU)({suggesterKey:"primary",query:void 0}),(0,l.xU)({suggesterKey:"inbuilding",query:void 0}),(0,i.Mf)((0,c.G)(),(0,o.en)()))));function m(e,t){const r=p(e);return t&&(0,d.w)(r.appContext,p(t).appContext)&&(0,u.k2)(e)===(0,u.k2)(t)&&t.appContext.weak.showSlugsNeededOnlyForStartup===e.appContext.weak.showSlugsNeededOnlyForStartup?{url:void 0,historyState:void 0}:{url:(0,s.M)((0,a.V)(e)),historyState:r}}},80830:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n=r(45537),s=r(5330),i=r(59682);const a=e=>"parkings"===e?(0,n.XJ)("parkings"===e?(0,s._N)((e=>e.appContext.zoom),(e=>e<15.5?(0,i.Nr)({zoom:15.5}):(0,n.ZT)())):(0,n.ZT)()):(0,n.ZT)()},54579:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(45537),s=r(73238),i=r(45965),a=r(72563),o=r(59857),c=r(31446);const d=(0,n.gQ)("logout",(()=>(0,n.vP)((0,n.Mf)((0,i.e)(),(0,s.I)(),(0,c.Y)(),(0,a.K)({}),(0,o.A0)()),(0,n.PQ)((()=>{var e;"undefined"!=typeof window&&(null===(e=window.sdk)||void 0===e||e.logout({reload:!0}))})))))},59682:(e,t,r)=>{"use strict";r.d(t,{vr:()=>C,KO:()=>_,_4:()=>w,E2:()=>S,$x:()=>O,Nr:()=>I});var n=r(40673),s=r(45537),i=r(57451),a=r(19463),o=r(51113),c=r(5330),d=r(62220),l=r(30397),u=r(92007),p=r(36125),h=r(24973),g=r(88850),m=r(40889),f=r(8151),v=r(46331),b=r(68800),y=r(64273);var x=r(78621),j=r(77752);function w(e){return(0,s.Yz)("setMapViewManually")((0,a.BN)(),I(e))}function I(e){return(0,s.Yz)("updateMapView")((0,n.xN)({center:e.lon&&e.lat?[e.lon,e.lat]:void 0,zoom:e.zoom,rotation:e.rotation,pitch:e.pitch,duration:e.duration,easing:e.easing,animate:e.animate}))}const C=(0,s.gQ)("fitEntityInMapView",(e=>(0,s.vP)((0,y.wk)({id:e.entityId,searchId:void 0}),(0,o.wN)({entityId:e.entityId},((e,t)=>{const r=e.data;if(r){if(function(e){var t;return"adm_div"===e.type&&"city"===e.subtype&&(null===(t=e.flags)||void 0===t?void 0:t.is_default)}(r))return(0,s.vP)((0,i.sz)(t,r.region_id),(0,s.xJ)((e=>{const t=(0,x.D4)({state:e,id:r.region_id}),n=t&&t.data?t.data.default_pos:void 0;return n?I(n):(0,s.ZT)()})));{const e=(0,j.B)({entity:r,state:t});return e?I(e):(0,s.ZT)()}}}))))),O=(0,s.gQ)("updateAfterMapViewChange",(({center:e=[],rotation:t,pitch:r,zoom:a})=>(0,c._N)(d.Hr,(o=>(0,s.vP)(_(),(0,n.xn)({lon:e[0],lat:e[1],zoom:a,rotation:t,pitch:r}),(0,c.gF)({mapOutviewportFlightEmitted:e=>e.appContext.weak.mapOutviewportFlightEmitted},(({mapOutviewportFlightEmitted:e})=>e?(0,s.vP)((0,u.yy)({mapOutviewportFlightEmitted:!1}),(0,s.XJ)((0,s.vP)((0,b.l)({update:!0}),S()))):(0,l.t)({prevZoom:o,afterMapViewChange:!0}))),(0,c._N)((e=>(0,f.Z_)(e).admDiv.data),(e=>(0,s.vP)((0,i.en)(),(0,v.Mh)(e)))),(0,n.og)()))))),_=(0,s.gQ)("onceMapInteractionStart",(()=>(0,s.XJ)((0,s.xJ)((e=>e.appContext.weak.mapInteractionStarted?(0,s.ZT)():(0,u.QT)()))))),k=(0,s.gQ)("setMapViewToMarkersOnFloor",(e=>(0,c.gF)({currentZoom:e=>e.appContext.zoom,rotation:e=>e.appContext.rotation,offset:d.v9,screen:e=>e.session.screen,searchFrame:e=>(0,m.Di)(e.appContext.frames)},(({currentZoom:t,rotation:r,offset:i,screen:a,searchFrame:o})=>{if(!o||"inbuilding"!==o.searchType)return(0,s.ZT)();const c=(0,g.o)(a,i),d=(0,h.getCenterZoomByPoints)(e.map((e=>e.point)),r,[c.width,c.height]);if(!d)return(0,s.ZT)();const{center:l,zoom:u}=d;return(0,n.xN)({center:l,zoom:u<t&&u>=17?u:t})})))),S=(0,s.gQ)("switchFloorIfNoMarkersOnCurrent",(()=>(0,c.gF)({markersOnFloors:d.S,currentFloor:e=>e.appContext.floors&&e.appContext.floors.currentFloor},(({markersOnFloors:e,currentFloor:t})=>{if(!e)return(0,s.ZT)();if(void 0!==t&&e[t]&&e[t].length>0)return k(e[t]);const r=(0,p.M)(e);return void 0!==r?(0,s.vP)((0,n.EL)({floorIndex:r}),k(e[r])):(0,s.ZT)()}))))},59750:(e,t,r)=>{"use strict";r.d(t,{Xy:()=>x,f1:()=>v,jo:()=>b});var n=r(45537),s=r(82603),i=r(79417),a=r(19463),o=r(28335),c=r(81813),d=r(5330),l=r(93331),u=r(79225),p=r(10937),h=r(54682),g=r(44114),m=r(25278),f=r(78006);function v({offersFrameId:e,branchId:t,branchSearchId:r=m.Mt,query:a=""}){const f=(0,s.by)(),v=(0,s.by)(),b=(0,s.by)();return(0,d._N)((e=>e.appContext.frames.find(g.n)),(s=>s?(0,n.vP)((0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{page:(0,u.Ue)(1),searchId:f,filtersId:(0,u.gg)(e.filtersId,b),query:a,statusId:v,branchId:t,branchSearchId:r,filterValues:void 0}))),(0,i.P2)({id:e}),(0,d._N)((e=>(0,l.O)(e)),(e=>(0,o.V1)({branchId:t,offersSearchId:f,filtersId:b,query:a,page:1,locale:e,statusId:v}))),(0,d._N)((e=>(0,c.O9)({state:e,filtersId:b})),(t=>!!t&&!!t.meta&&"success"===t.meta.status&&(0,d.WW)(e,p.i,(e=>(0,h.Bc)(e.id,(t=>Object.assign(Object.assign({},t),{filtersId:(0,u._e)(e.filtersId)}))))))),(0,d._N)((e=>(0,c.ch)({state:e,id:f})),(e=>!!e&&!!e.data&&(0,g.c)(s.id,(e=>Object.assign(Object.assign({},e),{categoryId:void 0,offersSearchId:f,query:a})))))):(0,n.ZT)()))}function b({branchId:e,branchSearchId:t=m.Mt,categoryId:r}){const a=(0,s.by)(),v=(0,s.by)(),b=(0,s.by)(),y=r?(0,f.X)({valueType:"single",value:r,isChecked:!0,name:"category_ids"}):void 0;return(0,d.gF)({catalogFrame:e=>e.appContext.frames.find(g.n),offersFrame:e=>e.appContext.frames.find(p.i)},(({catalogFrame:m,offersFrame:f})=>{if(!m)return(0,n.ZT)();const x=f?f.id:(0,s.by)(),j=f&&f.query||"";return(0,n.vP)((0,g.c)(m.id,(e=>r===e.categoryId?e:Object.assign(Object.assign({},e),{categoryId:r}))),f?(0,h.Bc)(x,(r=>Object.assign(Object.assign({},r),{page:(0,u.Ue)(1),searchId:a,filtersId:(0,u.gg)(r.filtersId,b),statusId:v,branchId:e,branchSearchId:t,filterValues:y}))):(0,i.Jt)({id:x,type:"search",searchType:"offers",searchId:a,filtersId:(0,u.Ue)(b),query:j,filterValues:y,statusId:v,branchId:e,branchSearchId:t,filterPanelState:"auto",page:(0,u.Ue)(1)}),(0,i.P2)({id:x}),(0,d._N)((e=>(0,l.O)(e)),(t=>(0,o.V1)({branchId:e,offersSearchId:a,filtersId:b,query:j,page:1,locale:t,statusId:v,filters:y}))),f&&(0,d._N)((e=>(0,c.O9)({state:e,filtersId:b})),(e=>!!e&&!!e.meta&&"success"===e.meta.status&&(0,d.WW)(x,p.i,(e=>(0,h.Bc)(e.id,(t=>Object.assign(Object.assign({},t),{filtersId:(0,u._e)(e.filtersId)}))))))))}))}function y(e,t){var r,n,s;if(!e||"success"!==(null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.status))return e;const i=null===(s=null===(n=t.data)||void 0===n?void 0:n.filters)||void 0===s?void 0:s.main;if(!(null==i?void 0:i.length))return{};const a=Object.assign({},e),o=i.map((e=>e.tag));let c=!1;return Object.keys(e).forEach((e=>{"category_ids"===e||o.includes(e)||(c=!0,delete a[e])})),c?a:e}function x({frameId:e,filterValues:t,branchId:r,query:g}){const m=(0,s.by)(),f=(0,s.by)(),v=(0,s.by)();return(0,n.vP)((0,a.BN)(),(0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{statusId:v,searchId:m,filtersId:(0,u.gg)(e.filtersId,f),filterValues:t,page:(0,u.Ue)(1)}))),(0,i.P2)({id:e}),(0,d._N)(l.O,(e=>(0,o.V1)({branchId:r,offersSearchId:m,filtersId:f,query:g,page:1,locale:e,filters:t}))),(0,d.WW)(e,p.i,(t=>(0,u.sG)(t.filtersId)===f&&(0,d.gF)({actualFilters:e=>(0,c.O9)({state:e,filtersId:(0,u.Gp)(t.filtersId)}),intendedFilters:e=>(0,c.O9)({state:e,filtersId:f})},(({actualFilters:r,intendedFilters:n})=>{const s=!!((i=n)&&i.meta&&"success"===i.meta.status&&i.data&&i.data.filters&&i.data.filters.main&&i.data.filters.main.length);var i;return(0,h.Bc)(e,(e=>Object.assign(Object.assign({},e),{filtersId:s?(0,u._e)(t.filtersId):(0,u.d1)(t.filtersId),filterValues:y(e.filterValues,s?n:r)})))})))))}},98803:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(5330),s=r(9700),i=r(98402);const a=e=>(0,n._N)((e=>{var t;return!(!(null===(t=e.appContext)||void 0===t?void 0:t.popup)||!("requireConfirmationOnClose"in e.appContext.popup))&&!!e.appContext.popup.requireConfirmationOnClose}),(t=>t?(0,i.$)((t=>(0,s.R)(t.tp._t("Закрыть окно? Ваши изменения не сохранятся"),e))):e()))},11951:(e,t,r)=>{"use strict";r.d(t,{i:()=>w});var n=r(45537),s=r(15057),i=r(5330),a=r(64841);const o="dg5_numberOfReviewsSent",c="dg5_previousShowTimeThanks",d="dg5_previousShowTimePhone",l=864e5,u="dg5_numberOfPhonePopupShows",p=(e,t)=>e%5==0&&(!t||Date.now()-t>=l),h=(e,t,r,n)=>{const s=(t||[]).reduce(((e,t)=>"checkin"!==t.type?e+t.count:e),0);if(e||t&&s<=10)return!1;const i=+a.tO.local.getItem(u)||0;return!(i>=3||r%3!=0||n&&Date.now()-n<l)&&(a.tO.local.setItem(u,i+1),!0)};var g=r(84387),m=r(82603),f=r(84304);var v=r(71202),b=r(14813),y=r(98402),x=r(30924),j=r(83466);const w=(0,n.gQ)("openEngagingPopup",(e=>{const{contentType:t,isPlacesTab:r}=e;return r?(0,n.ZT)():(0,n.Rh)((({featurePhone:r})=>(0,i.gF)({hasConfirmedPhone:s.DK,activities:s.Ue},(({hasConfirmedPhone:s,activities:i})=>{switch((e=>{const t=+a.tO.local.getItem(o)||0;a.tO.local.setItem(o,t+1);const r=+a.tO.local.getItem(c),n=+a.tO.local.getItem(d),s=p(t,r);return(null==e?void 0:e.featurePhone)&&h(null==e?void 0:e.hasConfirmedPhone,null==e?void 0:e.activities,t,n)?(a.tO.local.setItem(d,Date.now()),"phonePopup"):s?(a.tO.local.setItem(c,Date.now()),"thanksPopup"):void 0})({hasConfirmedPhone:s,featurePhone:r,activities:i})){case"phonePopup":return(0,g.i)();case"thanksPopup":switch(t){case"photo":return(0,f.Mw)({id:(0,m.by)(),type:"thanksForPhoto"});case"review":return(0,f.Mw)({id:(0,m.by)(),type:"thanksForReview"})}default:switch(t){case"photo":return(0,y.$)((({tp:e})=>(0,v.c)((0,b.V)({title:e._t("Все фотографии успешно загружены"),message:""}))));case"review":const t=(0,x.H)({review:e.review});return t?(0,y.$)((({tp:r})=>{var n;return(0,v.c)((0,b.V)({title:r._t("Готово"),message:r._t("Спасибо за отзыв!"),bssName:"addReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},t),{gallerySize:(null===(n=e.review.photos)||void 0===n?void 0:n.length)||0})}}))})):((0,j.H)({message:"Не удалось сформировать payload.reviewItem для сообщения об успешном добавлении отзыва",level:"error",id:"fjhd90",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}}),(0,n.ZT)())}}}))))}))},68855:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(45537),s=r(98901),i=r(84304),a=r(51665),o=r(48389),c=r(82603),d=r(39461);const l=({source:e,preventAutosend:t}={})=>(0,n.xJ)((r=>{const l=r.appContext.frames.find((e=>"entity"===e.type));if(!l||"entity"!==l.type)return(0,n.ZT)();const{entityId:u,searchId:p}=(0,s.G)(l,r);if(!u)return(0,n.ZT)();const h=(0,a.wj)({entityId:u,state:r,searchId:p});return h&&h.data&&(0,o.s)(h.data)?(0,n.Mf)((0,d.Sb)({frameId:l.id,entityId:u,tab:"reviews"}),(0,i.Mw)({id:(0,c.by)(),type:"createReview",entityId:u,searchId:l.searchId,sourceId:e,preventAutosend:t})):(0,n.ZT)()}))},16770:(e,t,r)=>{"use strict";r.d(t,{hy:()=>N,Jd:()=>M,oV:()=>T,L:()=>k,Nm:()=>S,Qu:()=>E,G4:()=>P});var n=r(87682),s=r(45537),i=r(51113),a=r(71202),o=r(14813),c=r(98402);function d(e){switch(e){case"branch":case"geo":case"profile":return e;default:return"geo"}}var l=r(5330),u=r(15057),p=r(38361),h=r(40889),g=r(93331),m=r(19302),f=r(63295),v=r(23586),b=r(70639),y=r(55457),x=r(90091),j=r(4279);const w=(e,t,r)=>{const n=null==r?void 0:r.find((e=>e.id===j.n4));return n&&1===n.count&&-1===t?[Object.assign(Object.assign({},n),{count:0})]:(null==r?void 0:r.length)?r.map((r=>r.id===j.n4||r.id===e&&r.id!==j.n4&&t<0?Object.assign(Object.assign({},r),{count:r.count+t}):r)):[{id:j.n4,name:"Все",count:t>0?t:0}]},I=({oldData:e,albumId:t,photos:r})=>{const n=null==e?void 0:e.pages.slice(1),s=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...r,...e.pages[0].items]:[...r],albums:w(t,r.length,e.pages[0].albums)}):{items:[...r],albums:w(t,r.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==n?void 0:n.length)?[s,...n]:[s]})},C=({oldData:e,albumId:t,photos:r})=>{const n=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!r.some((t=>t.id===e.id)))),albums:w(t,0-r.length,e.albums)}))):[{items:[],albums:[{id:j.n4,name:"Все",count:0}]}];return Object.assign(Object.assign({pageParams:[]},e),{pages:n})},O=({oldData:e,albumId:t,diffs:r})=>{var n;return Object.assign(Object.assign({},e),{albums:w(t,r,null==e?void 0:e.albums),code:null!==(n=null==e?void 0:e.code)&&void 0!==n?n:200})};var _=r(86411);function k(e){return(0,n.mk)("openPhotoUploaderPopup",e)}const S=(0,s.gQ)("removePhoto",(e=>(0,l.gF)({userId:u.b1,oldPhoto:t=>(0,p.h)({state:t,id:e})},(({userId:t,oldPhoto:r})=>{if(!r.data||r.data.temporary)return(0,s.ZT)();const n=r.data.object;return n&&"profile"!==n.type?(0,s.vP)((0,m.z)({entityId:n.id,entityType:d(n.type),photoId:e,userId:t}),(0,i.KM)(e,(e=>e.data?(0,c.$)((({tp:e})=>(0,a.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):void 0))):(0,s.ZT)()}))));function M(){return(0,l.gF)({galleryFrame:e=>(0,h.t0)(e.appContext.frames,"gallery"),entityFrame:e=>(0,h.t0)(e.appContext.frames,"entity"),dataLocale:g.O},(({galleryFrame:e,entityFrame:t,dataLocale:r})=>e?"menu"===e.entityType?(0,v.jr)({branchId:e.entityId,locale:r}):(0,f.k)({id:e.entityId,type:e.entityType,page:1,locale:r}):t?"menu"===t.tab?(0,v.jr)({branchId:t.entityId,locale:r}):(0,f.k)({id:t.entityId,type:t.entityType,page:1,pageSize:"photos"===t.tab?void 0:b.b,locale:r}):(0,s.ZT)()))}function T(e){return(0,l.gF)({entityFrame:e=>(0,h.t0)(e.appContext.frames,"entity"),dataLocale:g.O},(({entityFrame:t,dataLocale:r})=>{const n=e.entityId||(null==t?void 0:t.id);return n?(0,y.sv)({id:n,locale:r,albumId:e.albumId}):(0,s.ZT)()}))}function N(e){return(0,l.gF)({entityFrame:e=>(0,h.t0)(e.appContext.frames,"entity")},(({entityFrame:t})=>{const r=e||(null==t?void 0:t.id);return r?(0,x.R7)({objectId:r}):(0,s.ZT)()}))}function P(e,t){return(0,l.gF)({entityFrame:e=>(0,h.t0)(e.appContext.frames,"entity"),dataLocale:g.O},(({entityFrame:r,dataLocale:n})=>{const i=e.entityId||(null==r?void 0:r.id);return i?(0,y.JA)({id:i,locale:n,albumId:e.albumId},(r=>"add"===e.actionType?I({oldData:r,albumId:e.albumId,photos:t}):C({oldData:r,albumId:e.albumId,photos:t}))):(0,s.ZT)()}))}function E(e){return(0,l.gF)({frame:e=>e.appContext.frames[0]},(({frame:t})=>{var r;if("entity"===t.type||"gallery"===t.type){const n=e.entityId||t.entityId,i="entity"===t.type?null===(r=null==t?void 0:t.tabPhoto)||void 0===r?void 0:r.photoAlbum:t.photoAlbum;return n?(0,s.vP)((0,x.MS)({objectId:n},(t=>O({oldData:t,albumId:e.albumId,diffs:e.diffs}))),i&&(0,_.K)({frameId:t.id,selectedAlbum:Object.assign(Object.assign({},i),{count:i.count+e.diffs})})):(0,s.ZT)()}return(0,s.ZT)()}))}},13904:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(45537),s=r(19463),i=r(84304),a=r(82603);function o(e,t){return(0,n.Mf)((0,s.BN)(),(0,i.Mw)({id:(0,a.by)(),type:"feedback",subtype:e,rating:t}))}},21550:(e,t,r)=>{"use strict";r.d(t,{h:()=>f});var n=r(45537),s=r(5330),i=r(12601),a=r(13501),o=r(79417),c=r(19463),d=r(10668),l=r(59055),u=r(51113),p=r(1199),h=r(12566),g=r(71504),m=r(40889);const f=(0,n.gQ)("closeRealtyFrames",(()=>(0,s.gF)({frame:e=>e.appContext.frames[0],realtyFrame:e=>(0,m.t0)(e.appContext.frames,"realty")},(({frame:e,realtyFrame:t})=>t?(0,i.yb)(e)?(0,n.vP)((0,o.t7)({id:e.id}),(0,l.C)((0,a.nv)((e=>(null==e?void 0:e.entity)&&"building"===e.entity.type?e.suggestId?(0,u.wN)({entityId:e.suggestId},(t=>!(null==t?void 0:t.data)||(0,p.N)(t.data)?(0,d.T)():(0,d.T)({entity:{id:t.data.id,type:t.data.type},suggestId:null==e?void 0:e.suggestId}))):(0,d.T)():(0,n.ZT)())))):(0,h.B)(e)&&t.previousRealtyId?(0,g.i)({realtyId:t.previousRealtyId}):(0,a.Bg)(e)?e.entity&&"building"===e.entity.type?(0,d.T)():(0,c.BN)((0,o.xO)()):(0,c.BN)((0,o.t7)({id:e.id})):(0,l.a)((0,d.T)())))))},57451:(e,t,r)=>{"use strict";r.d(t,{en:()=>T,sz:()=>S,ly:()=>N});var n=r(45537),s=r(8469);(0,n.gQ)("setRegionDetector",((e,t)=>(0,s.k8)({id:null==t?void 0:t.id,name:(null==t?void 0:t.name)||e.name,regionId:e.id,type:"adm_div.city",countryCode:e.country_code,overlapRegionId:e.id,allowChangeDomain:!0})));var i=r(78621),a=r(83945),o=r(8151),c=r(88850),d=r(22836),l=r(46331),u=r(84639),p=r(5330),h=r(88240),g=r(93331),m=r(19599);const f=(0,n.gQ)("trackAudienceCounter",(e=>(0,n.XJ)((0,p._N)(g.O,(t=>(0,h.u9)({payload:{audienceCounter:{counterType:"launch",link:window.location.href,referrer:"2gis",segmentInfo:{segmentId:e,baseLocale:"0"===e?void 0:t}}}}))))));var v=r(25376),b=r(88111),y=r(60068),x=r(62220),j=r(82603),w=r(93689),I=r(13162),C=r(1963);var O=r(25278),_=r(97391);function k(){return(0,n.xJ)((e=>{const t=(0,o.Z_)(e).admDiv;if((0,C.e)(e.appContext.zoom))return(0,s.HV)();const r=e.appContext.center,i=(0,x.v9)(e),d=(0,c.o)(e.session.screen,i);if(0===d.width||0===d.height)return(0,n.ZT)();const l=e.appContext.pitch,u=e.appContext.rotation,p={width:Math.round(d.width/2),height:Math.round(d.height/2)},h=Math.round(e.appContext.zoom),g=(0,a.d)({center:r,zoom:h,mapSize:p,pitch:l,rotation:u});return(0,n.vP)((0,s.R)({geometry:g,searchId:O.Iv,zoomLevel:h}),(0,n.xJ)((e=>{const r=(0,o.kG)(e),n=r&&r.data;if(n&&(!t.data||t.data.id!==n.id))return S(e,n.regionId)})))}))}function S(e,t){if(t&&!(0,i.D4)({id:t,state:e}))return(0,s.TU)({id:t})}const M=(0,n.gQ)("countryDomainRedirectOnClient",(()=>(0,n.XJ)((0,n.Rh)((e=>(0,p._N)((t=>(0,o.g2)(t,window.location.hostname,e.isCountryRedirectsEnabled)),(e=>!!e&&(0,p._N)((e=>(0,b.M)((0,v.V)(e).filter((e=>"mapview"===e.type)))),(t=>(0,y.k)({url:`${e}${t}`,name:"_self"})))))))))),T=(0,n.gQ)("detectRegionWithPostEffects",(()=>(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(e=>(0,n.vP)(k(),M(),(0,l.Oc)(),(0,u.VV)(),(0,u.Du)(),(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(t=>function(e,t){return t?(0,m.f)(e,t,"overlapRegionId")?f(t.overlapRegionId):(0,n.ZT)():e&&"0"!==e.overlapRegionId?f("0"):(0,n.ZT)()}(e,t))),(0,w.k)(),(0,p._N)((e=>(0,o.yH)(e)),(t=>(!e||e.regionId!==t)&&(0,n.Mf)((0,I.A)(),t?(0,_.Cy)({projectId:t}):(0,n.ZT)())))))))),N=(0,n.gQ)("savePositionToCookie",(({lon:e,lat:t,zoom:r})=>(0,d.d)({name:"pos",value:[(0,j.DB)(e),(0,j.DB)(t),(0,j.DB)(r,2)].join(";")})))},87682:(e,t,r)=>{"use strict";r.d(t,{HK:()=>ee,u$:()=>X,mk:()=>Y});var n=r(45537),s=r(5330),i=r(15057),a=r(64841),o=r(83466),c=r(19463),d=r(37089),l=r(82603),u=r(84304),p=r(40889),h=r(51150),g=r(42833),m=r(51002),f=r(47915),v=r(97391),b=r(98402),y=r(71202),x=r(14813),j=r(59857);function w(e,t){return"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===t.error.name?e._t("Представители компании не могут писать отзывы о своей компании"):403===t.code?e._t("Кажется, вы уже писали мнение об этой компании. Вернитесь к списку отзывов, и мы найдем ваш отзыв для редактирования"):e._t("Не получилось отправить отзыв. Повторите попытку.")}var I=r(87325),C=r(30924),O=r(51615);r(64273);var _=r(68855),k=r(44414),S=r(74173),M=r(3892),T=r(84387),N=r(11951),P=r(78714);const E=(0,n.gQ)("sendCreateReview",(e=>{const{reviewData:t}=e;return(0,n.Mf)((0,u.BW)((e=>Object.assign(Object.assign({},e),{temporaryId:t.temporaryId}))),(0,n.vP)((0,f.X)(t),(0,n.xJ)((r=>{var s,i,a;if(e.skipNotify)return(0,j.rQ)(t.entityId);const o=(0,g.Tt)({state:r,id:t.temporaryId});if("error"===(null===(s=o.meta)||void 0===s?void 0:s.status)){if("error"in o.meta&&(0,I.Y_)(o.meta.error.data)){const e=null===(i=o.meta.error)||void 0===i?void 0:i.data;return(0,u.BW)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return function(e){const t=e.code;return(0,n.vP)((0,b.$)((({tp:t})=>(0,y.c)((0,x.v)({title:t._t("Что-то пошло не так"),message:w(t,e),bssName:"addReviewError"})))),(0,u.BW)((e=>Object.assign(Object.assign({},e),{temporaryId:void 0}))),403===t&&(0,v.nc)(["UGC","CreateReviewError",t]))}(o.meta)}const c="profileTab"in r.appContext.frames[0]&&"places"===(null===(a=r.appContext.frames[0])||void 0===a?void 0:a.profileTab);return(0,n.Mf)((0,u.j4)(),(0,j.rQ)(t.entityId),(0,N.i)({contentType:"review",isPlacesTab:c,review:o.data}),(0,P.O)({type:"review",entityId:e.entity.id}))}))))})),L=(0,n.gQ)("sendEditReview",(e=>{const{reviewData:t}=e,{id:r,entityId:s}=t;return(0,n.vP)((0,m.k)(t),(0,n.xJ)((t=>{const i=(0,g.Tt)({state:t,id:r});if(i.meta&&"success"!==i.meta.status){if("error"in i.meta&&(0,I.Y_)(i.meta.error.data)){const e=i.meta.error.data;return(0,u.BW)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return(0,b.$)((({tp:e})=>(0,y.c)((0,x.v)({title:e._t("Что-то пошло не так"),message:e._t("Не получилось отправить отзыв. Повторите попытку.")}))))}const a=i.data,c=(0,C.H)({review:a});if(c)return(0,n.Mf)((0,b.$)((({tp:e})=>{var t;return(0,y.c)((0,x.V)({title:e._t("Готово"),message:e._t("Ваш отзыв отредактирован"),bssName:"editReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},c),{gallerySize:(null===(t=a.photos)||void 0===t?void 0:t.length)||0})}}))})),(0,u.j4)(),(0,j.rQ)(s),(0,P.O)({type:"review",entityId:e.entity.id}));(0,o.H)({message:"Не удалось сформировать payload.reviewItem для редактирования отзыва",level:"error",id:"jdbm89",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(a)}})})))}));const z=(0,n.gQ)("sendReviewSafely",((e,t)=>{const r=t?(({reviewId:e,entityId:t,searchId:r,preventAutosend:n})=>(0,u.Mw)({id:(0,l.by)(),type:"editReview",reviewId:e,entityId:t,searchId:r,preventAutosend:n}))({reviewId:e.reviewData.id,entityId:e.reviewData.entityId,preventAutosend:!0}):(0,_.d)({preventAutosend:!0}),a=t?L(e):E(e);return(0,n.Rh)((({featurePersonalDataAgreement:t,featurePhoneLaw:n})=>(0,s.gF)({hasPhone:i.DK,status:e=>(0,k.I)(e,t)},(({hasPhone:t,status:s})=>{const i=n&&!t;return i||"idle"===s?(0,S.L)({after:t=>{if(i?!t:null===t){const t=Object.assign(Object.assign({},e.reviewData),{photos:e.photos});return(0,O.z)(t),r}return a},openPopup:i?()=>(0,T.p)():()=>(0,M.I)(!1)}):a}))))}));var R=r(45965),F=r(49247),H=r(20887),B=r(42461),A=r(97698),D=r(27087);const Z=(0,A.P1)(B.tV,(e=>{const t=(0,D.s0)(e).find((e=>!(!e||"collection"!==e.type||!e.is_default)));return t&&t.id}));var V=r(17684),U=r(58129),$=r(4568),W=r(17630),q=r(3849),G=r(85581),Q=r(9595);const K="dg5_after_action",J=3e5;function Y(e,t){return"undefined"==typeof window?(0,n.ZT)():(0,s.gF)({isLoggedIn:i.Pc,time:e=>e.session.time},(({isLoggedIn:r,time:s})=>{if(r){if(!e)return(0,n.ZT)();return(0,te[e])(t)}e&&a.tO.local.setItem(K,JSON.stringify({key:e,data:t,ts:s}));const i=new URL(window.location.href);return i.pathname="/authorize"+i.pathname,(0,n.PQ)((()=>window.sdk.ui({type:"current",redirectUrl:i.toString()})))}))}const X=(0,n.gQ)("cleanUpActionAfterLogout",(()=>(0,n.PQ)((()=>{a.tO.local.removeItem(K)})))),ee=(0,n.gQ)("actionAfterLogin",(()=>(0,s._N)((e=>e.session.time),(e=>{const t=a.tO.local.getItem(K);if(!t)return(0,n.ZT)();a.tO.local.removeItem(K);try{const{key:r,data:s,ts:i}=JSON.parse(t),a=te[r];if(!a)return(0,n.ZT)();const c=e-i;return Number.isNaN(c)||c<0||c>J?((0,o.H)({id:"sfomn",message:"expired action",level:"warn",payload:{type:"debug",subtype:"AfterInitError",data:JSON.stringify({data:s,time:e})}}),(0,n.ZT)()):a(s)}catch(e){return(0,o.H)({id:"sfomn",message:null==e?void 0:e.message,level:"error",payload:{type:"exception",subtype:"AfterInitError",data:t,stack:null==e?void 0:e.stack}}),(0,n.ZT)()}})))),te={openFavorites:()=>(0,c.BN)((0,d.D)("favorites")),openBroadcast:e=>(0,c.BN)((0,u.Mw)({id:(0,l.by)(),type:"broadcast",searchId:e.searchId,branchIds:e.branchIds})),openSharingPopup:()=>(0,s._N)((e=>(0,p.t0)(e.appContext.frames,"entity")),(e=>(0,h.q)({frameId:null==e?void 0:e.id}))),sendReviewSafely:e=>z(e.params,e.isEdit),openMessenger:e=>(0,R.g)(e),openSendOrderPopup:e=>(0,F.x)(e),handleBookmarkClick:({item:e,isAdded:t,targetBoundingClientRect:r})=>(0,n.xJ)((s=>{if(t)return(0,n.vP)((0,c.BN)(),(0,H.b)(e));const i=(e=>{const t=e.appContext.weak.temporaryDefaultCollectionId;return t&&(0,B.tV)(e)[t]?t:Z(e)})(s),a=i||(0,l.by)(),o=(0,q._p)(a);return(0,n.vP)(!i&&(0,W.B)({title:"",collectionId:a,isDefault:!0,skipSync:!0,color:o}),(0,U.d)({collectionId:a,item:e}),(0,V.Y)({collectionId:a,item:e,targetBoundingClientRect:r}),(0,$.K)())})),handleReviewLike:e=>(0,n.xJ)((t=>{var r;const s=null===(r=(0,g.Tt)({state:t,id:e.reviewId}))||void 0===r?void 0:r.data;if(!(0,G.d)(s))return(0,n.ZT)();const i=s.additional_data.is_liked;return(0,Q.T)({id:s.id,value:!i})})),openPhotoUploaderPopup:e=>(0,u.Mw)({id:(0,l.by)(),type:"photoUploader",entityId:e.entityId,searchId:e.searchId,isMenuPhoto:e.isMenuPhoto}),openReviewComplaint:({reviewId:e})=>(0,u.Mw)({id:(0,l.by)(),type:"complaint",subtype:"review",entityId:e})}},59857:(e,t,r)=>{"use strict";r.d(t,{kP:()=>P,Ir:()=>R,rQ:()=>N,WT:()=>F,Bf:()=>z,A0:()=>B,PN:()=>L,fL:()=>E});var n=r(51113),s=r(98402),i=r(67368),a=r(71202),o=r(14813),c=r(9700),d=r(45537),l=r(82603),u=r(79417),p=r(69937),h=r(84304),g=r(64273),m=r(5330),f=r(40889),v=r(15057),b=r(40783),y=r(938),x=r(93357),j=r(51665),w=r(48389),I=r(54682),C=r(79225),O=r(39310),_=r(55850);function k(e){return"unconfirmedReviews"===e.type}var S=r(35795),M=r(12566),T=r(46356);const N=(0,d.gQ)("fetchPinnedUserReviewsByEntityId",(e=>(0,m._N)(v.b1,(t=>t?(0,y.r)({userId:t,entityId:e}):(0,d.ZT)())))),P=(0,d.gQ)("editReview",(e=>{const{reviewId:t,searchId:r}=e;return(0,n.f3)(t,(e=>{var n,s;const i=!(null===(n=e.data)||void 0===n?void 0:n.temporary)&&(null===(s=e.data)||void 0===s?void 0:s.object.id);return i?(0,d.vP)((0,g.wk)({id:i,searchId:r}),(0,h.Mw)({id:(0,l.by)(),type:"editReview",entityId:i,searchId:r,reviewId:t})):(0,d.ZT)()}))})),E=(0,d.gQ)("removeReview",(e=>(0,n.f3)(e,(t=>{const r=null==t?void 0:t.data;return r?(0,m.gF)({removableFrameId:e=>{var t;return null===(t=(0,f.t0)(e.appContext.frames,"currentReview"))||void 0===t?void 0:t.id},userId:e=>(0,v.b1)(e),frameEntity:e=>(0,f.t0)(e.appContext.frames,"entity"),frameRealtyCard:e=>(0,f.t0)(e.appContext.frames,"realtyCard")},(({removableFrameId:t,userId:p,frameEntity:h,frameRealtyCard:g})=>{const m=h?(0,b.l)(h,"reviews","actual"):null==g?void 0:g.reviewSearchId;return p?(0,s.$)((({tp:s})=>(0,c.R)(s._t("Удалить отзыв? Это действие нельзя отменить."),(()=>{const c=(0,l.by)(),h=r.temporary?void 0:r.object.id;return(0,d.vP)((0,i.Hg)({id:e,userId:p,statusId:c,searchId:m,entityId:h}),(0,n.$c)(c,(e=>e&&"success"===e.meta.status?(0,d.vP)((0,a.c)((0,o.V)({title:s._t("Готово"),message:s._t("Отзыв удалён!")})),!!t&&(0,u.t7)({id:t}),!!h&&N(h)):(0,a.c)((0,o.v)({title:s._t("Что-то пошло не так"),message:s._t("Не удалось удалить отзыв, попробуйте позднее.")})))))})))):(0,d.ZT)()})):(0,d.ZT)()})))),L=(0,d.gQ)("removeComment",(e=>{const{commentId:t,reviewId:r}=e;return(0,s.$)((({tp:e})=>(0,c.R)(e._t("Удалить комментарий к отзыву? Это действие нельзя отменить."),(()=>{const s=(0,l.by)();return(0,d.vP)((0,p.VM)({id:t,reviewId:r,statusId:s}),(0,n.$c)(s,(t=>t&&"success"===t.meta.status?(0,a.c)((0,o.V)({title:e._t("Готово"),message:e._t("Комментарий к отзыву удалён!")})):(0,a.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Не удалось удалить комментарий к отзыву, попробуйте позднее.")})))))}))))})),z=(0,d.gQ)("fetchUserPinnedReviewsIfNeeded",(e=>(0,d.XJ)((0,m.gF)({userId:v.b1,entity:t=>(0,j.nM)({state:t,entityId:e.entityId})},(({userId:t,entity:r})=>r.data&&(0,w.s)(r.data)&&t?(0,S.D)((0,v.Mq)(e.entityId),(0,y.r)({entityId:e.entityId,userId:t})):(0,d.ZT)()))))),R=(0,d.gQ)("ensureUnconfirmedReviews",(e=>(0,d.XJ)((0,d.xJ)((t=>{const{entityId:r,searchId:n,frameId:s,orgId:i}=e,a=(0,f.t0)(t.appContext.frames,"entity"),o=n?t.data.reviewSearch[n]:void 0;return(0,x.G)(o)&&a&&"reviews"===a.tab&&"branch"===a.entityType&&F({entityId:r,frameId:s,orgId:i})}))))),F=(0,d.gQ)("fetchUnconfirmedReviewsOnClient",(e=>{const{entityId:t,frameId:r,orgId:s}=e;return(0,d.xJ)((e=>{var i,a,o;const c=(0,f.iF)(e.appContext.frames,r);if(c&&(0,M.B)(c)){const u=(null===(i=c.tabReviews)||void 0===i?void 0:i.unconfirmedEntityReviewsSearchId)||(0,l.by)(),p=(null===(a=c.tabReviews)||void 0===a?void 0:a.unconfirmedOrgReviewsSearchId)||(0,l.by)(),h=s?p:u;return(h?null===(o=e.data.reviewSearch[h])||void 0===o?void 0:o.data:void 0)?(0,d.xJ)((e=>{const t=(0,f.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,I.Yq)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:h})))})):(0,n.wN)({entityId:t},(e=>{const n=null==e?void 0:e.data;if(n&&(0,_.J)(n))return(0,d.vP)((0,I.me)(r,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{unconfirmedEntityReviewsSearchId:u,unconfirmedOrgReviewsSearchId:p}):void 0}))),(0,d.xJ)((e=>{const t=(0,f.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,I.Yq)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:h})))})),(0,O.B)({id:s||t,type:s?"org":"branch",searchId:h,unconfirmed:!0}))}))}return(0,d.ZT)()}))})),H=(0,d.gQ)("refetchReviewsOnClientIfUserLoggedIn",(e=>(0,n.wN)({entityId:e.entityId,searchId:e.searchId},(t=>{var r,n;if(!t.data||!(0,w.s)(t.data))return(0,d.ZT)();const s=(0,l.by)();return(0,d.vP)((0,I.me)(e.frameId,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{entityReviewsSearchId:(0,C.Ue)(s)}):void 0}))),(0,O.B)({id:t.data.id,type:"branch"!==t.data.type?"geo":"branch",isAdvertiser:!!(null===(n=null===(r=t.data.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.review),searchId:s}))}))));function B(){return(0,m.gF)({entityFrame:e=>(0,f.t0)(e.appContext.frames,"entity"),realtyFrame:e=>(0,f.t0)(e.appContext.frames,"realtyCard")},(({entityFrame:e,realtyFrame:t})=>{if(e)return(0,d.vP)((0,d.Dc)(1e3),(0,d.Mf)(H({entityId:e.entityId,frameId:e.id,searchId:e.searchId}),z({entityId:e.entityId}),R({entityId:e.entityId,frameId:e.id})));const r=(0,T.ux)(t);return t&&r?(0,d.vP)((0,d.Dc)(1e3),(0,T.VX)(r,(e=>{var r;const n=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.building.id;return n?(0,d.Mf)(H({entityId:n,frameId:t.id,searchId:t.reviewSearchId}),z({entityId:n}),R({entityId:n,frameId:t.id})):(0,d.ZT)()}))):(0,d.ZT)()}))}},84639:(e,t,r)=>{"use strict";r.d(t,{$l:()=>C,Du:()=>j,Eu:()=>O,HL:()=>w,VV:()=>x,dl:()=>I});var n=r(92007),s=r(8151),i=r(45537),a=r(79225),o=r(93331),c=r(54747),d=r(32098),l=r(95271),u=r(59137),p=r(60618),h=r(5330),g=r(20929),m=r(79417),f=r(78621),v=r(8469),b=r(40889),y=r(62220);function x(){return I()}function j(){return(0,i.xJ)((e=>{const t=(0,b.t0)(e.appContext.frames,"rubric");return t&&"rubric"===t.type?w(t.parentId):(0,i.ZT)()}))}function w(e){return(0,i.xJ)((t=>{const r=(0,o.O)(t),s=(0,b.t0)(t.appContext.frames,"rubricator");if(!s||"rubricator"!==s.type)return(0,i.ZT)();const p=s.regionId,h=(0,c.J)(p,r,e);if((0,a.Gp)(t.appContext.weak.rubric.transition)===h)return(0,i.ZT)();const g=(0,u.of)(e)(t),m=(0,u.r1)(h)(t),f=(0,a.gg)(t.appContext.weak.rubric.transition,h);if(g&&m&&"success"===m.meta.status&&m.data&&m.data.length)return(0,n.Vj)((0,a._e)(f));const v=(0,y.Id)(t);return(0,i.vP)(g?(0,i.ZT)():(0,d.b)({regionId:p,locale:r,id:e}),(0,n.Vj)(f),(0,l.F)({key:h,regionId:p,viewpoint:v,locale:r,parentId:e}),(0,n.Vj)((0,a._e)(f)))}))}function I(){return(0,i.xJ)((e=>{const t=(0,o.O)(e),r=(0,s.yH)(e),d=(0,b.t0)(e.appContext.frames,"rubricator");if(!r||!d||"rubricator"!==d.type)return(0,i.ZT)();const p=`${d.id}_${(0,c.J)(r,t)}`;if((0,a.Gp)(e.appContext.weak.rubricator.transition)===p)return(0,i.ZT)();const h=(0,u.r1)(p)(e),g=(0,a.gg)(e.appContext.weak.rubricator.transition,p),x=(0,f.D4)({state:e,id:r});if(h&&"success"===h.meta.status&&h.data&&h.data.length)return(0,i.vP)((0,n.KK)((0,a._e)(g)),(0,m.D_)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:r}))),x?(0,i.ZT)():(0,v.TU)({id:r}));const j=(0,y.Id)(e);return(0,i.vP)((0,n.KK)(g),(0,m.D_)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:r}))),(0,l.F)({key:p,regionId:r,viewpoint:j,locale:t}),x?(0,i.ZT)():(0,v.TU)({id:r}),(0,n.KK)((0,a._e)(g)))}))}const C=(0,i.gQ)("onPseudorubricClick",(e=>(0,g.c)({actionType:e.item.action.type,value:e.item.action.value,caption:e.item.caption}))),O=(0,i.gQ)("onRubricClick",(e=>(0,h.zh)((t=>(0,p.gB)({viewpoint:t,query:e.item.caption,rubricId:e.item.id})))))},95231:(e,t,r)=>{"use strict";r.d(t,{K:()=>h,q:()=>p});var n=r(45537),s=r(19463),i=r(54682),a=r(79225),o=r(24024),c=r(5330),d=r(82666),l=r(82603),u=r(68800);const p=(0,n.gQ)("searchBuyHereMoreResult",(({frameId:e,page:t,adsIds:r,searchId:u,filters:p,filtersId:h})=>(0,n.vP)((0,n.Mf)((0,s.BN)((0,i.D$)(e,(e=>Object.assign(Object.assign({},e),{page:(0,a.gg)(e.page,t)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((n=>(0,o.Hq)({query:"",searchId:u,page:t,viewpoint:n,adsIds:r,filters:p,filtersId:h,sortPoint:e})))))),(0,c.WW)(e,d.o,(n=>(0,a.sG)(n.page)===t&&(0,i.D$)(e,(e=>Object.assign(Object.assign({},e),{adsIds:r,page:(0,a._e)(e.page),scrollIdHash:(0,l.by)()}))))))));function h(e){const{frame:t,filterValues:r,isViewportChanged:d}=e,p=(0,l.by)();return(0,n.vP)((0,s.BN)((0,i.D$)(t.id,(e=>Object.assign(Object.assign({},e),{filterValues:r,searchId:(0,a.gg)(e.searchId,p),page:(0,a.Ue)(1)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((n=>(0,o.Hq)({query:"",searchId:p,page:1,viewpoint:n,adsIds:t.adsIds,filters:r,filtersId:(0,l.by)(),sortPoint:e}))))),(0,i.D$)(t.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,a._e)(e.searchId)}))),(0,u.l)({update:!0,isViewportChanged:d}))}},24222:(e,t,r)=>{"use strict";r.d(t,{Nl:()=>S,ZS:()=>_,h0:()=>I,kC:()=>O,lX:()=>M,pn:()=>C,xu:()=>k});var n=r(45537),s=r(82603),i=r(51113),a=r(79417),o=r(19463),c=r(40889),d=r(79671),l=r(25394),u=r(54682),p=r(64273),h=r(5330),g=r(59682),m=r(79225),f=r(13096),v=r(12566),b=r(96378),y=r(56087),x=r(68800);const j=(0,n.gQ)("searchByBuildingIdWithCurrentViewpoint",(e=>(0,h.zh)((t=>(0,l.Z)({buildingId:e.buildingId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),w=(0,n.gQ)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,h._N)((e=>e.session.geolocation.position),(t=>(0,h.zh)((r=>(0,l.a)({buildingId:e.buildingId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:r,sortPoint:t}))))))),I=({buildingId:e,query:t="",filterValues:r,gtaId:l=(0,s.by)(),loadedSearchId:u})=>{const g=u||(0,s.by)(),v=(0,s.by)();return(0,n.vP)((0,o.BN)(),(0,i.wN)({entityId:e},(t=>!t.data&&(0,p.DZ)({id:e,searchId:void 0}))),(0,h.gF)({hasSearchControls:t=>(0,d.Uz)({state:t,entityId:e}),frame:e=>(0,c.t0)(e.appContext.frames,"search")},(({hasSearchControls:i,frame:o})=>{let c;return o&&((0,b.E)(o)&&(c=o.query),(0,f.n)(o)&&(c=o.parentSearchQuery)),(0,n.Mf)((0,a.Jt)({id:(0,s.by)(),type:"search",searchType:"inbuilding",buildingId:e,searchId:(0,m.Ue)(g),page:(0,m.Ue)(1),gtaId:l,statusId:v,query:i?t:"",parentSearchQuery:c,filterPanelState:i?"auto":"manuallyClosed",filterValues:i?r:{},filtersId:(0,s.by)()}),M({buildingId:e,gtaId:l,page:1,query:t,searchId:g,filterValues:r,hasSearchControls:i,shouldNotFetchBranches:!!u}))})),(0,n.XJ)((0,x.l)()))},C=(0,n.gQ)("searchInBuildingApplyFilterAndQuery",(({frameId:e,gtaId:t=(0,s.by)(),buildingId:r,filterValues:i,query:a=""})=>{const c=(0,s.by)(),l=(0,s.by)();return(0,n.vP)((0,o.BN)(),(0,h._N)((e=>(0,d.Uz)({state:e,entityId:r})),(s=>(0,n.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,m.gg)(e.searchId,c),statusId:l,page:(0,m.Ue)(1),query:s?a:"",filterValues:s?i:{},buildingId:r,gtaId:t}))),M({buildingId:r,gtaId:t,page:1,query:a,searchId:c,filterValues:i,hasSearchControls:s}),(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,m._e)(e.searchId)})))))),(0,n.XJ)((0,x.l)()))})),O=({frameId:e,page:t,buildingId:r,query:i,searchId:a,filterValues:o={}})=>(0,n.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,m.gg)(e.page,t),statusId:(0,s.by)()}))),(0,h._N)((e=>(0,d.Uz)({state:e,entityId:r})),(e=>M({buildingId:r,searchId:a,page:t,query:i,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,h.WW)(e,f.n,(r=>(0,m.sG)(r.page)===t&&(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,m._e)(e.page)})))))),_=({frameId:e,buildingId:t,filterValues:r,query:a=""})=>{const c=(0,s.by)(),l=(0,s.by)(),g=(0,s.by)();return(0,n.Mf)((0,o.BN)(),(0,i.wN)({entityId:t},(e=>!e.data&&(0,p.DZ)({id:t,searchId:void 0}))),(0,h._N)((e=>(0,d.Uz)({state:e,entityId:t})),(s=>(0,n.Mf)((0,u.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"inside",statusId:l,tabInside:{searchId:(0,m.Ue)(c),page:(0,m.Ue)(1),buildingId:t,gtaId:g,query:s?a:"",filterValues:s?r:void 0}}))),M({buildingId:t,searchId:c,page:1,gtaId:g,query:a,filterValues:r,hasSearchControls:s,shouldNotFetchMarkers:!0})))))},k=({frameId:e,searchId:t,buildingId:r,query:i,filterValues:a={},page:o})=>(0,n.vP)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:(0,s.by)(),tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,m.gg)(e.tabInside.page,o)})}):e)),(0,h._N)((e=>(0,d.Uz)({state:e,entityId:r})),(e=>M({buildingId:r,searchId:t,page:o,query:i,filterValues:a,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,h.WW)(e,v.B,(t=>t.tabInside&&(0,m.sG)(t.tabInside.page)===o&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,m._e)(e.tabInside.page)})}):e))))),S=({frameId:e,buildingId:t,filterValues:r,query:i="",gtaId:a=(0,s.by)()})=>{const c=(0,s.by)(),l=(0,s.by)();return(0,n.vP)((0,o.BN)(),(0,h._N)((e=>(0,d.Uz)({state:e,entityId:t})),(s=>(0,n.Mf)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:l,tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,m.gg)(e.tabInside.searchId,c),page:(0,m.gg)(e.tabInside.page,1),query:s?i:"",filterValues:s?r:void 0,gtaId:a})}):e)),M({buildingId:t,searchId:c,gtaId:a,page:1,query:i,filterValues:r,hasSearchControls:s,shouldNotFetchMarkers:!0}),(0,y.xU)({suggesterKey:"inbuilding",query:i})))),(0,h.WW)(e,v.B,(t=>t.tabInside&&(0,m.sG)(t.tabInside.searchId)===c&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,m._e)(e.tabInside.searchId),page:(0,m._e)(e.tabInside.page)})}):e)))))};function M({buildingId:e,searchId:t,gtaId:r,query:s,page:i,filterValues:a,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:d,more:l}){return o&&s?(0,n.Mf)(!c&&w({buildingId:e,gtaId:r,page:i,query:s,searchId:t,filters:a,more:l}),!d&&(0,n.XJ)((0,n.vP)((0,x.l)(),(0,g.E2)()))):!c&&j({buildingId:e,gtaId:r,page:i,searchId:t,filters:a,more:l})}},60618:(e,t,r)=>{"use strict";r.d(t,{tE:()=>B,Gf:()=>H,Nl:()=>L.Nl,xu:()=>L.xu,ZS:()=>L.ZS,QR:()=>F,h0:()=>L.h0,gB:()=>T,Qp:()=>P,QT:()=>N,pn:()=>L.pn,IE:()=>E});var n=r(45537),s=r(19463),i=r(24024),a=r(64273),o=r(62220),c=r(32312),d=r(79417),l=r(82603),u=r(40889),p=r(5330),h=r(59682),g=r(79225),m=r(54682),f=r(68800),v=r(4279),b=r(24973),y=r(88850);var x=r(92007);const j=(0,n.gQ)("flights",(e=>(0,n.xJ)((t=>{const r=(0,c.rO)({state:t,searchId:e.searchId}).data,s=w(r&&r.searchAttributes,e.inviewport,t.appContext.weak.isMapViewRepresentedInOriginalRequest,"undefined"==typeof window);if(!s)return(0,n.ZT)();const i=t.session.screen,a=(0,o.v9)(t);return(0,n.vP)((0,x.yy)({mapOutviewportFlightEmitted:!0}),(0,h.Nr)(function(e,t){const r=e.map((e=>[e.longitude,e.latitude])),{screenSize:n,maxZoom:s,rotation:i=0,offset:a}=t,o=(0,y.o)(n,a),c=(0,b.getCenterZoomByPoints)(r,i,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:Math.min(c.zoom,s)}:{}}(s,{screenSize:i,offset:a,maxZoom:v.sZ,rotation:t.appContext.rotation})))}))));function w(e,t,r,n){const s=e&&e.out_viewport;if(s&&!(r&&n||I(s,t)))return s}function I(e,t){return t.every((t=>!!e.find((e=>t.lat===e.latitude&&t.lon===e.longitude))))}var C=r(57092),O=r(96378),_=r(56087),k=r(30397),S=r(50306);const M=(0,n.gQ)("autoOpenCardFromSearchIfNeeded",(e=>{const{searchId:t}=e;return(0,n.xJ)((e=>{var r,s,i,o;const d=(0,c.rO)({state:e,searchId:t});if(null===(s=null===(r=d.data)||void 0===r?void 0:r.searchAttributes)||void 0===s?void 0:s.is_partial)return(0,n.ZT)();if(null===(o=null===(i=d.data)||void 0===i?void 0:i.searchAttributes)||void 0===o?void 0:o.is_auto_open_best_result){const r=(0,c.Dx)({state:e,searchId:t}),s=r&&r[1],i=s&&s.data&&s.data[0];if(!i)return(0,n.ZT)();const o=(0,S.Q)(i,t)(e);return o?(0,a.ko)({id:i,searchId:t,skipHistoryPush:!0,type:o.type}):(0,n.ZT)()}return(0,n.ZT)()}))}));const T=(0,n.gQ)("searchByQuery",(e=>{const{query:t,rubricId:r,attributeId:o,catalogFilterValues:u={},page:m=1,buildingId:v,shouldNotAutoOpenCard:b=!1,viewpoint:y,regionId:x,isBuyHereRubric:w,cityId:I}=e,O=(0,l.by)(),k=(0,l.by)(),S=(0,l.by)(),T=(0,l.by)(),N=(0,l.by)(),P=m,E=!(0,l.xb)(u);return(0,n.vP)((0,s.BN)(),(0,d.Jt)({id:T,type:"search",filterPanelState:"auto",searchType:"query",query:t,statusId:N,tab:"catalog",tabCatalog:{rubricId:r,attributeId:o,searchId:(0,g.Ue)(k),viewpoint:y,gtaId:(0,g.Ue)(O),page:(0,g.Ue)(P),filtersId:(0,g.Ue)(S),filterValues:u,isBuyHereRubric:w}}),(0,n.vP)((0,p._N)((e=>e.session.geolocation.position),(e=>(0,n.Mf)((0,_.xU)({suggesterKey:"primary",query:t}),(0,n.vP)((0,n.Mf)(v?(0,a.DZ)({id:v,searchId:void 0}):void 0,r?(0,i.l1)({regionId:x,query:t,filters:u,filtersId:S,withFilters:!E,rubrId:r,viewpoint:y,searchId:k,page:m,gtaId:O,sortPoint:e,cityId:I}):o?(0,i.fE)({query:t,filters:u,filtersId:S,withFilters:!E,attrId:o,viewpoint:y,searchId:k,page:m,gtaId:O,sortPoint:e}):(0,i.Hq)({withFilters:!E,query:t,filters:u,searchId:k,filtersId:S,searchType:"catalog",page:P,viewpoint:y,statusId:N,gtaId:O,sortPoint:e,cityId:I})),(()=>{if(!r&&!o)return function(e){const{query:t,searchId:r}=e;return(0,n.xJ)((e=>{const n=(0,c.rO)({state:e,searchId:r});if(n.meta&&"success"===n.meta.status)return(0,C.r)(t)}))}({query:t,searchId:k})})()),E&&(0,i.a$)({query:t,rubrId:r,filtersId:S,viewpoint:y,sortPoint:e})))),(0,p._N)((e=>function(e,t){const r=(0,c.rO)({state:e,searchId:t}),n=r.data&&r.data.total||0;return!(r.data&&r.data.searchAttributes&&r.data.searchAttributes.is_partial||!n)}(e,k)),(e=>e?(0,n.XJ)((0,n.vP)((0,f.$)(),(0,h.E2)())):(0,n.ZT)()))),(0,n.Rh)((({isMobileDevice:e})=>function({searchId:e,shouldCallFlights:t,shouldNotAutoOpenCard:r,inviewport:s}){return(0,n.vP)(t&&j({searchId:e,inviewport:s}),!r&&M({searchId:e}),(0,n.XJ)((0,f.$)()))}({searchId:k,shouldCallFlights:!0,shouldNotAutoOpenCard:!!e||b,inviewport:y}))))}));function N(e){const{frameId:t,page:r,query:a,rubricId:o,viewpoint:c,filtersId:d,filters:u={},searchId:h}=e,f=1===r?(0,l.by)():void 0;return(0,n.vP)((0,s.BN)(),(0,m.iD)(t,(e=>Object.assign(Object.assign({},e),{tab:"catalog",tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,viewpoint:c,gtaId:(0,g.gg)(e.tabCatalog.gtaId,f),page:(0,g.gg)(e.tabCatalog.page,r)})}))),o?(0,p._N)((e=>e.session.geolocation.position),(e=>(0,p.zh)((t=>(0,i.l1)({query:a,filters:u,filtersId:d,gtaId:f,rubrId:o,viewpoint:t,searchId:h,page:r,more:!0,sortPoint:e}))))):(0,p.Mb)(t,(e=>(0,O.E)(e)&&e.tabCatalog.attributeId?(0,p._N)((e=>e.session.geolocation.position),(t=>!!e.tabCatalog.attributeId&&(0,i.fE)({gtaId:f,query:a,filters:u,searchId:h,filtersId:d,attrId:e.tabCatalog.attributeId,page:r,viewpoint:c,sortPoint:t}))):(0,p._N)((e=>e.session.geolocation.position),(e=>(0,i.Hq)({withFilters:!1,query:a,filters:u,searchId:h,page:r,viewpoint:c,gtaId:f,sortPoint:e}))))),(0,p.WW)(t,O.E,(e=>(0,g.sG)(e.tabCatalog.page)===r&&(0,m.iD)(t,(t=>Object.assign(Object.assign({},t),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,gtaId:(0,g._e)(e.tabCatalog.gtaId),page:(0,g._e)(e.tabCatalog.page),scrollIdHash:(0,l.by)()})}))))))}const P=(0,n.gQ)("searchByQueryApplyFilter",(e=>{const{frameId:t,filterValues:r,query:s,rubricId:a,parentSearchId:o,isViewportChanged:c,preserveMarkers:d,viewpoint:u,filtersId:v=(0,l.by)()}=e,b=(0,l.by)(),y=(0,l.by)(),x=(0,l.by)(),j=!("filtersId"in e);return(0,n.vP)((0,m.iD)(t,(e=>Object.assign(Object.assign({},e),{statusId:y,tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{rubricId:a,searchId:(0,g.gg)(e.tabCatalog.searchId,b),filtersId:j?(0,g.gg)(e.tabCatalog.filtersId,v):e.tabCatalog.filtersId,gtaId:(0,g.gg)(e.tabCatalog.gtaId,x),page:(0,g.gg)(e.tabCatalog.page,1),parentSearchId:o,filterValues:r,viewpoint:u})}))),(0,p._N)((e=>e.session.geolocation.position),(e=>(0,n.Mf)(a?(0,i.l1)({query:s,filters:r,filtersId:v,rubrId:a,viewpoint:u,searchId:b,page:1,gtaId:x,sortPoint:e}):(0,p.Mb)(t,(t=>(0,O.E)(t)&&t.tabCatalog.attributeId?(0,i.fE)({gtaId:x,query:s,filters:r,searchId:b,filtersId:v,attrId:t.tabCatalog.attributeId,page:1,viewpoint:u,sortPoint:e}):(0,i.Hq)({gtaId:x,withFilters:!1,query:s,filters:r,searchId:b,filtersId:v,isViewportChanged:c,page:1,viewpoint:u,statusId:y,sortPoint:e}))),j&&(0,i.a$)({query:s,rubrId:a,filters:r,filtersId:v,viewpoint:u,sortPoint:e}),(0,n.vP)(!d&&(0,f.l)({update:!0,isViewportChanged:c}),(0,h.E2)())))),(0,p.WW)(t,O.E,(e=>(0,g.sG)(e.tabCatalog.searchId)===b&&(0,m.iD)(t,(e=>Object.assign(Object.assign({},e),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{searchId:(0,g._e)(e.tabCatalog.searchId),filtersId:j?(0,g._e)(e.tabCatalog.filtersId):e.tabCatalog.filtersId,gtaId:(0,g._e)(e.tabCatalog.gtaId),page:(0,g._e)(e.tabCatalog.page)})}))))))}));function E(e){return(0,n.vP)((0,s.BN)(),(0,n.xJ)((t=>{const r=(0,u.t0)(t.appContext.frames,"search");if(r&&(0,O.E)(r)&&r.tab!==e.tab)return(0,n.Mf)((0,_.xU)({suggesterKey:"inbuilding",query:void 0}),(0,m.iD)(r.id,(t=>Object.assign(Object.assign({},t),{tab:e.tab}))),(0,f.l)(),(0,d.P2)({id:r.id}),(0,p._N)(o.Hr,(e=>(0,k.t)({prevZoom:e}))))})))}var L=r(24222),z=r(9685),R=r(4203);const F=(0,n.gQ)("openFilials",(e=>{const t=(0,l.by)(),r=(0,l.by)(),i=(0,l.by)(),a=(0,l.by)(),{orgId:o,regionId:c,filterValues:u}=e,h=(0,l.$K)(u);return(0,p.zh)((e=>(0,n.vP)((0,s.BN)(),(0,d.Jt)({id:i,type:"search",searchType:"filials",gtaId:a,searchId:(0,g.Ue)(t),parentSearchId:t,page:(0,g.Ue)(1),orgId:o,filtersId:r,filterValues:u,query:"",filterPanelState:"auto"}),(0,n.Mf)((0,z.Y)({orgId:o,searchId:t,filtersId:r,regionId:c,filters:u,withFilters:!h,page:1,viewpoint:e,gtaId:a}),h&&(0,z.I)({orgId:o,filtersId:r,viewpoint:e}),(0,n.XJ)((0,f.l)())),j({searchId:t,inviewport:e}))))}));function H(e){const{orgId:t,filtersId:r,frameId:s,page:i,searchId:a,filterValues:o}=e;return(0,n.vP)((0,m.s7)(s,(e=>Object.assign(Object.assign({},e),{page:(0,g.gg)(e.page,i)}))),(0,p.zh)((e=>(0,z.Y)({orgId:t,filters:o,withFilters:!1,searchId:a,filtersId:r,page:i,viewpoint:e}))),(0,p.WW)(s,R.Y,(e=>(0,g.sG)(e.page)===i&&(0,m.s7)(s,(t=>Object.assign(Object.assign({},t),{page:(0,g._e)(e.page)}))))))}function B(e){const{frameId:t,orgId:r,filtersId:i,filterValues:a,isViewportChanged:c}=e,d=(0,l.by)(),u=(0,l.by)();return(0,n.vP)((0,s.BN)(),(0,m.s7)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,g.gg)(e.searchId,d),page:(0,g.gg)(e.page,1),statusId:u,filtersId:i,filterValues:a}))),(0,p._N)(o.Id,(e=>(0,n.Mf)((0,z.Y)({orgId:r,filters:a,withFilters:!1,searchId:d,filtersId:i,page:1,viewpoint:e,isViewportChanged:c}),(0,f.l)({update:!0,isViewportChanged:c})))),(0,p.WW)(t,R.Y,(e=>(0,g.sG)(e.searchId)===d&&(0,m.s7)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,g._e)(e.searchId),page:(0,g._e)(e.page)}))))))}},57092:(e,t,r)=>{"use strict";r.d(t,{r:()=>c,R:()=>d});var n=r(45537),s=r(67368),i=r(5330),a=r(28963);function o(e){return e.session.userId}function c(e){return(0,n.vP)((0,s.Wj)({query:e,timestamp:(new Date).getTime()}),d())}function d(){return(0,i.gF)({history:a.p,userId:o},(({history:e,userId:t})=>(0,s.kR)({history:e.data,userId:t})))}},33099:(e,t,r)=>{"use strict";r.d(t,{C:()=>u});var n=r(71756);var s=r(97698),i=r(87741);const a=(0,s.P1)((e=>e.appContext.center.lon),(e=>e.appContext.center.lat),((e,t)=>[e,t])),o=(0,s.P1)((e=>e.session.screen.width-(0,i.w)(e)),(e=>e.session.screen.height),((e,t)=>[e,t])),c=(0,s.zB)({zoom:e=>e.appContext.zoom,center:a,pitch:e=>e.appContext.pitch,rotation:e=>e.appContext.rotation,mapSize:o});var d=r(24973),l=r(45537);function u(e){return(0,l.Rh)((({rtl:t})=>(0,l.xJ)((r=>{const s=[e.point.lon,e.point.lat],a=(0,d.lonLatToScreenPoint)(s,c(r)),o={top:a[1],left:a[0]},l={top:o.top,left:t?o.left:o.left+(0,i.w)(r)};return function(e){return(0,n.Kn)({type:"map:hint",event:{text:e.text,point:e.point}})}({text:e.text,point:l})}))))}},44539:(e,t,r)=>{"use strict";r.d(t,{ff:()=>se,$N:()=>K,en:()=>re,Cj:()=>G,XC:()=>W,_m:()=>ee,p_:()=>Q});var n=r(79225),s=r(45537),i=r(56087),a=r(28335),o=r(82603),c=r(53904),d=r(5330),l=r(62220),u=r(93331),p=r(28515),h=r(99788),g=r(97822),m=r(60618),f=r(79417),v=r(59682),b=r(19463),y=r(64273),x=r(67368),j=r(57092),w=r(59750),I=r(81813);function C(e,t){for(const r of e){if(r.id===t)return r;if(r.children){const e=C(r.children,t);if(e)return e}}}var O=r(98402),_=r(8151),k=r(10807),S=r(33131),M=r(92007),T=r(96558),N=r(3965),P=r(73896),E=r(46584),L=r(40889);const z=(0,s.gQ)("openEntityProfileCardNoType",(({id:e,shouldFitEntityInMapView:t})=>(0,d._N)((e=>{var t;return null===(t=(0,L.t0)(e.appContext.frames,"userProfile"))||void 0===t?void 0:t.searchId}),(r=>(0,s.vP)((0,E.Dz)({id:e,searchId:r||(0,o.by)()}),(0,d._N)((t=>{var r,n;return null===(n=null===(r=t.data.entity.profile[e])||void 0===r?void 0:r.data)||void 0===n?void 0:n.type}),(r=>r?(0,y.xo)({id:e,type:r,shouldFitEntityInMapView:t}):(0,s.ZT)()))))))),R=(0,s.gQ)("openPlace",(({object_id:e,point:t})=>e?z({id:e,shouldFitEntityInMapView:!0}):t?(0,P.W)({point:t,shouldCenterMap:!0}):(0,s.ZT)()));var F=r(79754);const H=(0,s.gQ)("showTraffic",(()=>(0,d._N)((e=>e.appContext.showTrafficOnMap),(e=>!e&&(0,F.$C)()))));var B=r(39304),A=r(10668),D=r(32387),Z=r(76448),V=r(52781),U=r(59055);const $=(0,s.gQ)("minimizeDataViewerIfNotDashboard",(()=>(0,U.a)((0,d._N)((e=>0===e.appContext.frames.length),(e=>!e&&(0,V.kG)({isMinimized:!0})))))),W=(0,s.gQ)("showSuggestions",((e="primary")=>{const t=(0,o.by)();return(0,d._N)((t=>(0,c.eq)(t,e)),(r=>{if(!r)return(0,s.ZT)();const{query:a}=r;if(!a)return(0,h.ej)();const o=r.suggestId;return(0,s.vP)((0,s.Mf)((0,d.gF)({viewpoint:l.Id,personalRecords:B.$b,regionId:_.fq,geolocationPosition:e=>e.session.geolocation.position},(({viewpoint:r,personalRecords:n,regionId:s,geolocationPosition:i})=>(0,h.DF)({searchId:t,suggesterType:q(e),query:a,viewpoint:r,regionId:"typedFeedback"===e||"homework"===e?s:void 0,personalRecords:"primary"===e?n:void 0,sortPoint:i}))),(0,i.Bt)({suggesterKey:e,suggestId:o?(0,n.gg)(o,t):(0,n.Ue)(t)})),(0,d._N)((t=>(0,c.eq)(t,e)),(r=>{const a=r&&r.suggestId;return a&&t===(0,n.sG)(a)?(0,i.Bt)({suggesterKey:e,suggestId:(0,n._e)(a)}):(0,s.ZT)()})))}))}));function q(e){switch(e){case"typedFeedback":case"homework":return"address";case"directions":return"route_endpoint";default:return}}function G(e){const{branchId:t,query:r}=e,p=(0,o.by)();return r?(0,s.vP)((0,d._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;return(0,i.Bt)({suggesterKey:"products",suggestId:t?(0,n.gg)(t,p):(0,n.Ue)(p)})}})),(0,d.gF)({locale:u.O,viewpoint:l.Id},(({locale:e,viewpoint:n})=>(0,a.mt)({searchId:p,branchId:t,query:r.trim().toLocaleLowerCase(),viewpoint:n,locale:e}))),(0,d._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;if(t&&p===(0,n.sG)(t))return(0,i.Bt)({suggesterKey:"products",suggestId:(0,n._e)(t)})}}))):(0,s.Mf)((0,i.Bt)({suggesterKey:"products",suggestId:(0,n.Ue)("")}),(0,a.RQ)())}const Q=(0,s.gQ)("toggleSuggest",(({suggesterKey:e,show:t})=>(0,d._N)((t=>(0,c.eq)(t,e)),(r=>r&&r.show===t?(0,s.ZT)():(0,s.vP)(t?(0,h.ej)():(0,s.ZT)(),(0,i.p_)({suggesterKey:e,show:t})))))),K=(0,s.gQ)("handleSuggestNavigation",(e=>{const{suggesterKey:t,keyCode:r}=e;switch(r){case p.O_:return Q({suggesterKey:t,show:!1});case p.HI:return J({suggesterKey:t,direction:"prev"});case p.P9:return J({suggesterKey:t,direction:"next"})}return(0,s.ZT)()})),J=(0,s.gQ)("highlightNextOrPrevSuggestion",(e=>{const{suggesterKey:t,direction:r,suggestionsLimit:n=D.Z}=e;return(0,O.$)((({tp:e})=>(0,d.gF)({suggest:e=>(0,c.eq)(e,t),allSuggestions:e=>(0,c.vt)(e,t),featureRealty:e=>e.config.featureRealty,isHistorySuggestions:c.Mw},(({suggest:a,allSuggestions:o,featureRealty:c,isHistorySuggestions:d})=>{if(!a||!o)return(0,s.ZT)();const l=d?Z.vT:n,u=c&&"primary"===t?(0,D.r)(o,e,d):[...o].slice(0,l),{highlightedIndex:p}=a,h=l?Math.min(u.length,l):u.length;let g=void 0!==p?p:-1;"next"===r?(g+=1,g>h-1&&(g=0)):(g-=1,g<0&&(g=h-1));const m=u[g];return(0,s.Mf)((0,s.Rh)((e=>(0,O.$)((({tp:r})=>(0,i.xU)({suggesterKey:t,query:(0,T.C)(m,{tp:r,config:e})}))))),(0,i.r4)({suggesterKey:t,index:g}))}))))})),Y=(0,s.gQ)("changeCity",(e=>(0,s.vP)((0,b.BN)(),(0,f.IW)(),(0,i.xU)({suggesterKey:"primary",query:void 0}),(0,M.jP)((0,n.Ue)((0,o.by)())),(0,v.vr)({entityId:e})))),X=(0,s.gQ)("addObjectToHistory",((e,t)=>e.entity?(0,s.vP)((0,x.tF)({entity:e.entity,text:t,timestamp:(new Date).getTime()}),(0,j.R)()):(0,s.ZT)())),ee=(0,s.gQ)("submitNewSearch",(e=>(0,d.gF)({viewpoint:l.Id},(({viewpoint:t})=>(0,s.vP)((0,f.IW)(),(0,m.gB)({query:e.query,viewpoint:t,attributeId:e.attributeId,rubricId:e.rubricId})))))),te=(0,s.gQ)("openObjectSuggestionOrMakeSearch",(e=>{var t;const{suggestion:r,query:n}=e,{entity:i}=r;if(i&&i.id){if("adm_div"===i.type&&("city"===i.subtype||"settlement"===i.subtype))return Y(i.id);switch(i.type){case"adm_div":case"branch":case"building":case"station":case"route":case"street":case"road":case"attraction":case"kilometer_road_sign":const e="context"in i?null===(t=i.context)||void 0===t?void 0:t.entrance_id:void 0;return(0,s.vP)((0,f.IW)(),(0,y.xo)({id:i.id,type:i.type,query:n,entranceId:e,shouldFitEntityInMapView:!0}),"object"===r.type?X(r):void 0);case"rubric":return(0,s.vP)(ee({query:n,rubricId:i.id}),"object"===r.type?X(r):void 0);case"attribute":return(0,s.vP)(ee({query:n,attributeId:i.id}),"object"===r.type?X(r,n):void 0);case"org":return(0,s.vP)((0,f.IW)(),(0,m.QR)({orgId:i.id,regionId:i.region_id}),"object"===r.type?X(r):void 0);case"special":switch(i.id){case"1":return(0,d._N)(N.eb,(e=>e&&R(e)));case"2":return(0,d._N)(N.M6,(e=>e&&R(e)));case"3":return(0,s.vP)((0,x.Fd)(),$());case"4":case"5":return(0,s.vP)(H(),$());case"6":return(0,A.T)()}}}return ee({query:n})})),re=(0,s.gQ)("pickPrimarySuggestion",(e=>{const t="primary",{suggestion:r,query:n,pickedIndex:a,frameId:u,suggestions:p,searchAttributes:m,hasLogo:f,logoTap:v}=e,b=(0,o.by)();return(0,s.vP)((0,k.AB)({suggestion:r,query:n,pickedIndex:a,frameId:u,suggestions:p,searchAttributes:m,hasLogo:f,logoTap:v}),(0,d.gF)({suggest:e=>(0,c.eq)(e,t),viewpoint:l.Id,personalRecords:B.$b,geolocationPosition:e=>e.session.geolocation.position},(({suggest:e,viewpoint:a,personalRecords:o,geolocationPosition:c})=>e?(0,g.F)(r)&&e.query!==n+" "?(0,s.Mf)((0,i.xU)({suggesterKey:t,query:n+" "}),(0,i.r4)({suggesterKey:t,index:void 0}),(0,h.DF)({searchId:b,suggesterType:q(t),query:n,viewpoint:a,regionId:void 0,personalRecords:o,sortPoint:c})):(0,s.vP)((0,i.xU)({suggesterKey:t,query:n}),Q({suggesterKey:t,show:!1}),te({suggestion:r,query:n})):(0,s.ZT)())))})),ne=((0,s.gQ)("pickMarketSuggestion",(({frameId:e,suggestion:t,branchId:r,categoryId:n})=>{const a="products";return(0,d._N)((e=>(0,c.eq)(e,a)),(o=>{if(!o||!o.query)return(0,s.ZT)();if("category"===t.subtype&&t.id){const e=t.id;return e===n?(0,s.ZT)():(0,s.Mf)((0,S.l)({branchId:r,categoryId:e}),ne({branchId:r,categoryId:e}),Q({suggesterKey:a,show:!1}))}return(0,s.Mf)((0,w.f1)({offersFrameId:e,query:t.name,branchId:r}),(0,i.xU)({suggesterKey:a,query:t.name}),Q({suggesterKey:a,show:!1}))}))})),(0,s.gQ)("setLabelByCategory",(({branchId:e,categoryId:t})=>(0,d._N)((t=>(0,I.ch)({state:t,id:e})),(e=>{const r=e.data&&e.data.children,n=r&&C(r,t);return n?(0,i.xU)({suggesterKey:"products",query:n.label}):(0,s.ZT)()}))))),se=(0,s.gQ)("handleSuggestInputClick",(({query:e,suggesterKey:t})=>(0,d._N)((e=>(0,c.eq)(e,t)),(r=>r&&r.show?(0,s.ZT)():(0,s.Mf)(Q({suggesterKey:t,show:!0}),(0,i.xU)({suggesterKey:t,query:e}),W())))))},10807:(e,t,r)=>{"use strict";r.d(t,{vc:()=>g,Wu:()=>u,AB:()=>l,YC:()=>d,AN:()=>c});var n=r(45537),s=r(88240),i=r(82603),a=r(14897),o=r(80080);const c=e=>{var t,r,n,s;const{suggestion:i,query:a,pickedIndex:c,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}=e,h=c+1,g=i.search_attributes?function(e){switch(e){case 0:return"openRecord";case 1:return"expandRecord";case 2:return"searchSuggestedText";case 3:return"incompleteQuery";default:return}}(i.search_attributes.handling_type):void 0,b=m(i.entity),y=a||("text"in i?i.text:""),x={text:y,entity:"special"!==(null==b?void 0:b.type)||"3"!==b.id?b:void 0,handlingType:g,resultClass:null===(t=i.search_attributes)||void 0===t?void 0:t.dgis_source_type,personalPriority:f(i),hybridEntities:(0,o.c)(i.entity),org:"branch"===(null===(r=i.entity)||void 0===r?void 0:r.type)?null===(s=null===(n=i.entity)||void 0===n?void 0:n.org)||void 0===s?void 0:s.id:void 0,hasLogo:p},j={size:l.length,searchSegmentId:null==u?void 0:u.dgis_project_id,firstResultClass:null==u?void 0:u.dgis_output_type,searchType:null==u?void 0:u.search_type,rtwVersion:null==u?void 0:u.rtw_version};return{suggestItem:x,suggestList:j,bssEvent:{uiElement:{name:"suggestItem",ownerName:"suggestList",position:h,frameUuid:d},payload:{suggestItem:x,suggestList:j,searchRequest:v("show",y,b)}}}},d=e=>{const{suggestion:t,query:r,pickedIndex:n,frameId:s,suggestions:i,hasLogo:a}=e,c=n+1,d=m(t.entity);return{bssEvent:{uiElement:{name:"historyItem",ownerName:"historyList",position:c,frameUuid:s},payload:{historyItem:{text:r,handlingType:t.entity?"openRecord":void 0,entity:d,hybridEntities:(0,o.c)(t.entity),hasLogo:a},historyList:{size:i.length}}}}},l=e=>{const{query:t,frameId:r,pickedIndex:n,suggestions:s,searchAttributes:i,hasLogo:a,logoTap:o}=e;return"history"===e.suggestion.type?h({suggestion:e.suggestion,query:t,frameId:r,pickedIndex:n,suggestions:s,searchAttributes:i,hasLogo:a,logoTap:o}):p(Object.assign(Object.assign({},e),{suggestion:e.suggestion,suggestions:s,searchAttributes:i,hasLogo:a,logoTap:o}))},u=e=>{const t={uiElement:{name:"myLocation",ownerName:0===e.pointIndex?"pointA":"pointB",frameUuid:e.frameId},action:"tap"};return(0,s.zs)(t)},p=e=>{const{suggestion:t,query:r,pickedIndex:a,frameId:o,suggestions:d,searchAttributes:l,hasLogo:u,logoTap:p}=e,h=a+1,g=m(t.entity),f=r||("text"in t?t.text:""),{suggestItem:b,suggestList:y,bssEvent:x}=c({suggestion:t,query:r,pickedIndex:a,frameId:o,suggestions:d,searchAttributes:l,hasLogo:u}),j={uiElement:{name:"suggestItem",ownerName:"suggestList",position:h,frameUuid:o},action:"tap",payload:{suggestItem:b,suggestList:y,searchRequest:v("tap",f,g)}},w={uiElement:{name:"suggestLogo",ownerName:"suggestItem",position:h,frameUuid:o},action:"tap",payload:{suggestItem:b,suggestList:y}};return u?(0,s.zs)(p?w:j):(0,n.vP)((0,s.GM)(Object.assign({showEventKey:(0,i.by)(),autoEvent:!0},x)),(0,s.zs)(p?w:j))},h=e=>{const{suggestion:t,query:r,pickedIndex:a,frameId:c,suggestions:l,hasLogo:u,logoTap:p}=e,h=a+1,g=m(t.entity),{bssEvent:f}=d({suggestion:t,query:r,pickedIndex:a,frameId:c,suggestions:l,hasLogo:u}),v={historyItem:{text:r,handlingType:t.entity?"openRecord":void 0,entity:g,hybridEntities:(0,o.c)(t.entity),hasLogo:u},historyList:{size:l.length}},b={uiElement:{name:"historyItem",ownerName:"historyList",position:h,frameUuid:c},action:"tap",payload:Object.assign({searchRequest:{text:r,entities:g?[g]:void 0}},v)},y={uiElement:{name:"historyLogo",ownerName:"historyItem",position:h,frameUuid:c},action:"tap",payload:Object.assign({},v)};return u?(0,s.zs)(p?y:b):(0,n.vP)((0,s.GM)(Object.assign({showEventKey:(0,i.by)(),autoEvent:!0},f)),(0,s.zs)(p?y:b))},g=e=>(0,s.zs)({uiElement:{name:"searchStart",ownerName:"searchBar",frameUuid:e.frameId},action:"tap",payload:{searchRequest:{text:e.query}}});function m(e){if(e)return{type:e.type,segmentInfo:(0,a.U)(e),id:e.id,subtype:"subtype"in e?e.subtype:void 0}}function f(e){var t;if("special"===(null===(t=e.entity)||void 0===t?void 0:t.type))return 8}function v(e,t,r){if("special"===(null==r?void 0:r.type)){if("3"===r.id&&"tap"===e)return;if(("1"===r.id||"2"===r.id)&&"tap"===e)return{entities:r?[r]:void 0}}return{text:t,entities:r?[r]:void 0}}},93689:(e,t,r)=>{"use strict";r.d(t,{k:()=>d});var n=r(45537),s=r(5330),i=r(8151),a=r(53342),o=r(43997),c=r(74078);function d({forced:e}={}){return(0,n.XJ)((0,s._N)(i.kL,(t=>t&&t.flags.traffic&&(0,s._N)((0,o.s)(t.code),(r=>(!r||e)&&(0,c.M)((0,a.S)({regionCode:t.code})))))))}},79754:(e,t,r)=>{"use strict";r.d(t,{yt:()=>L,Hm:()=>R,rA:()=>z,kn:()=>F,oD:()=>D,$q:()=>B,$C:()=>Z,CV:()=>A});var n=r(45537),s=r(97813),i=r(52781),a=r(79417),o=r(19463),c=r(51665),d=r(84304),l=r(71202),u=r(14813),p=r(98402),h=r(16098),g=r(59682),m=r(67368),f=r(62220),v=r(88850),b=r(24973),y=r(4279);const x=111319.492;function j({position:e,accuracy:t,state:r}){const n={lon:e.lon,lat:e.lat,zoom:y.CH};if(!t)return n;const s=3*(t/x);const i=[[e.lon-s,e.lat+s],[e.lon+s,e.lat+s],[e.lon+s,e.lat-s],[e.lon-s,e.lat-s]],a=(0,f.v9)(r),o=(0,v.o)(r.session.screen,a),c=(0,b.getCenterZoomByPoints)(i,r.appContext.rotation,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:c.zoom}:n}var w=r(56087),I=r(5330),C=r(68800),O=r(8151),_=r(98803),k=r(42281),S=r(21550),M=r(31804),T=r(83390),N=r(23586),P=r(93331),E=r(63025);const L=(0,n.gQ)("closeLastFrame",(()=>(0,I.gF)({activeLayer:e=>e.appContext.activeLayer,frame:e=>e.appContext.frames[0]},(({activeLayer:e,frame:t})=>{if(!t)return(0,n.ZT)();const{type:r,id:s}=t;return"realty"===e?(0,n.vP)((0,S.h)(),H()):"exchange"===e&&"exchange"===r?(0,M.t)({}):(0,n.vP)((0,o.BN)(),(0,a.t7)({id:s}),(0,I._N)((e=>e.appContext.frames.length),(e=>0===e?H():(0,n.ZT)())),(0,C.l)())}))));function z(){return(0,n.xJ)((e=>e.appContext.popup?e.appContext.popup.isModal?(0,n.ZT)():(0,_.O)(d.j4):k.Y.get()?(0,n.PQ)((()=>{k.Y.set((()=>!1))})):0===e.appContext.frames.length?(0,i.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):"gallery"===e.appContext.frames[0].type?R():1===e.appContext.frames.length?(0,i.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):L()))}function R(){return(0,n.vP)((0,o.BN)(),(0,a.hp)(),H(),(0,s.G)())}function F(){return(0,n.xJ)((e=>0===e.appContext.frames.length?e.appContext.isDataViewerMinimized?(0,i.kG)({isMinimized:!1}):void 0:(0,n.vP)((0,o.BN)(),(0,a.IW)(),H())))}function H(){return(0,n.Mf)((0,w.xU)({suggesterKey:"primary",query:void 0}),(0,w.xU)({suggesterKey:"inbuilding",query:void 0}))}function B(e){return(0,n.xJ)((t=>{const r=t.appContext.frames[0];if(r&&"gallery"===r.type)return(0,N.M_)({branchId:r.entityId,locale:(0,P.O)(t)},(s=>{const i="menu"===r.entityType?(0,E.s)({error:null==s?void 0:s.error,isFetching:null==s?void 0:s.isFetching,data:null==s?void 0:s.data}):(0,c.Te)({state:t,entityId:r.entityId}),o=i.data&&i.data.items;if(!o)return(0,n.ZT)();const d=o.findIndex((e=>!(!e.data||!("id"in e.data))&&e.data.id===r.photoId)),l="forward"===e?o[d+1]:o[d-1],u=l&&l.data&&"id"in l.data?l.data.id:void 0;return u?(0,a.D_)(r.id,(e=>Object.assign(Object.assign({},e),{photoId:u}))):(0,n.ZT)()}))}))}const A=(0,n.gQ)("updateMyGeolocation",(e=>(0,n.Mf)((0,h.l6)({lonLat:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy}),(0,n.xJ)((t=>{if(!t.session.geolocation.following)return(0,n.ZT)();const r=j({position:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy,state:t});return(0,n.Mf)((0,h.hL)({follow:!1}),(0,g._4)(Object.assign(Object.assign({},r),{rotation:0,pitch:0})))}))))),D=(0,n.gQ)("setMyGeolocationFailed",(e=>(0,n.Mf)((0,m.ck)(),(0,p.$)((({tp:t})=>"PERMISSION_DENIED"===e?(0,l.c)((0,u.v)({title:t._t("Не удалось определить местоположение"),message:t._t("Доступ к геоданным не разрешён")})):(0,l.c)((0,u.v)({title:t._t("Не удалось определить местоположение"),message:""}))))))),Z=()=>(0,I.gF)({regionCode:O.SJ,showTraficOnMap:e=>e.appContext.showTrafficOnMap},(()=>(0,n.vP)((0,T.P)(),(0,i.Tz)())))},5330:(e,t,r)=>{"use strict";r.d(t,{Mb:()=>d,WW:()=>l,_N:()=>a,gF:()=>o,zh:()=>c});var n=r(45537),s=r(62220),i=r(24199);function a(e,t){return(0,n.xJ)((r=>{const n=e(r);return t(n)}))}function o(e,t){return(0,n.xJ)((r=>{const n=(0,i.u)(e).reduce(((t,n)=>(t[n]=e[n](r),t)),{});return t(n)}))}function c(e){return a(s.Id,e)}const d=(e,t)=>a((t=>t.appContext.frames.find((t=>t.id===e))),t),l=(e,t,r)=>a((t=>t.appContext.frames.find((t=>t.id===e))),(e=>!!e&&t(e)&&r(e)))},35608:(e,t,r)=>{"use strict";r.d(t,{$h:()=>f,F0:()=>p,FY:()=>a,KU:()=>b,Mp:()=>m,Rw:()=>d,Ue:()=>n,VO:()=>i,Vz:()=>g,Yq:()=>h,hC:()=>o,oN:()=>c,q0:()=>l,qH:()=>v,yG:()=>u});const n={normal:400,medium:500,bold:700},s={fontSize:"29px",lineHeight:"32px",fontWeight:n.normal},i=Object.assign(Object.assign({},s),{fontWeight:n.medium}),a={fontSize:"18px",lineHeight:"20px",fontWeight:n.normal,wordWrap:"break-word"},o={fontSize:"18px",lineHeight:"20px",fontWeight:n.medium,wordWrap:"break-word"},c={fontSize:"13px",lineHeight:"16px",fontWeight:n.normal},d=Object.assign(Object.assign({},c),{fontWeight:n.bold}),l=Object.assign(Object.assign({},c),{fontWeight:n.medium}),u={fontSize:"11px",lineHeight:"12px",fontWeight:n.normal},p=Object.assign(Object.assign({},u),{fontWeight:n.medium}),h=Object.assign(Object.assign({},u),{fontWeight:n.bold}),g={fontSize:"9px",lineHeight:"12px"},m={fontWeight:n.bold,fontSize:"11px",lineHeight:"16px",textTransform:"uppercase",letterSpacing:"0.5px"},f=s,v=Object.assign(Object.assign({},c),{fontFamily:"inherit"});function b(e,t){const r=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:r?e*r:"none"})}},53067:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i,P6:()=>o,it:()=>a,zb:()=>s});var n=r(35608);const s={fontSize:"11px",fontWeight:n.Ue.bold,lineHeight:"16px",wordWrap:"break-word",letterSpacing:"-0.3px"},i={fontSize:"8px",fontWeight:n.Ue.bold,lineHeight:"16px",wordWrap:"break-word",letterSpacing:"-0.2px"},a=(Object.assign(Object.assign({},n.Rw),{fontWeight:n.Ue.medium}),{fontSize:"16px",lineHeight:"18px",fontWeight:n.Ue.normal,wordWrap:"break-word",hyphens:"auto"}),o={fontSize:"16px",lineHeight:"16px",fontWeight:n.Ue.normal,wordWrap:"break-word"}},8702:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(58924);function s(e){return e?n.S[e]:n.S.default}},19599:(e,t,r)=>{"use strict";function n(e,t,r="id"){return!(!e&&!t)&&(!!t&&(!e||e[r]!==t[r]))}r.d(t,{f:()=>n})},20241:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(39506);function s(e){return"point"in e&&!!e.point||!!(0,n.Y)(e)}},37193:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});var n=r(56805),s=r(29608),i=r(41004);function a({state:e,frame:t}){var r,a;if("search"!==t.type||"query"!==t.searchType)return!1;const o=null===(a=null===(r=(0,n.O)({state:e,filtersId:t.tabCatalog.filtersId.actual}))||void 0===r?void 0:r.widgets)||void 0===a?void 0:a.main,c=o?(0,s.h)(o):void 0;return(0,i.G)({searchType:t.searchType,awardsTags:c,config:e.config,query:t.query})}},40177:(e,t,r)=>{"use strict";function n(e,...t){return r=>({type:e,payload:r,reducers:t.map((e=>(t,r)=>e(t,r.payload)))})}r.d(t,{P:()=>n})},24626:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(79417);function s(e){return(t,r)=>(0,n.D_)(t,(t=>e(t)?r(t):void 0))}},66551:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(45537);function s(e){return t=>(0,n.xJ)((r=>{const n=r.appContext.frames.find(e);return t(n)}))}},90980:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});const n=e=>{if("search"===(null==e?void 0:e.type)&&("buyHere"===e.searchType||"fmcg"===e.searchType))return e.adsIds}},83918:(e,t,r)=>{"use strict";function n(e,t){const{tp:r}=t;return e.is_default?e.title||r._t("Избранное"):e.title||r._t("Подборка без названия")}r.d(t,{c:()=>n})},40889:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>m,Di:()=>g,Fq:()=>p,Ks:()=>h,QB:()=>d,WZ:()=>o,b0:()=>c,fp:()=>u,iF:()=>i,t0:()=>a,vr:()=>l,yP:()=>f});var n=r(38254),s=r(79225);function i(e,t){return e.find((e=>e.id===t))}function a(e,t){return e.find(function(e){return t=>!!t&&t.type===e}(t))}function o(e,t){return e.find((e=>t.includes(e.type)))}function c(e){if("offers"===e.searchType)return e.searchId}function d(e,t){const r="actual"===t?s.Gp:s.sG;switch(e.searchType){case"query":return r(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inbuilding":case"filials":return r(e.searchId)}}function l(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.parentSearchId||(0,s.Gp)(e.tabCatalog.searchId):(0,s.Gp)(e.searchId);case"entity":return"inside"===e.tab&&e.tabInside?(0,s.Gp)(e.tabInside.searchId):""}}function u(e){const t=(0,n.A)(e);return t?t.rubric_id:void 0}function p(e){const t=a(e,"entity");if(t&&"entity"===t.type)return t}function h(e,t){return e.find((e=>"entity"===e.type&&e.entityId===t))}function g(e){const t=a(e,"search");if(t&&"search"===t.type)return t}function m(e){const t=a(e,"pending");if(t&&"pending"===t.type&&"entity"===t.subtype)return t}function f(e,t){const r=e[0],n=i(e,t);return!(!r||!n)&&("search"===r.type&&"offers"===r.searchType&&2===e.length?"entity"===n.type:r===n)}},43268:(e,t,r)=>{"use strict";function n(e,t){return e||(t[0]?t[0].id:void 0)}r.d(t,{q:()=>n})},90326:(e,t,r)=>{"use strict";function n({first_name:e,last_name:t,display_name:r},n){const s=e?e[0]:"",i=t?t[0]:"",a=s&&i?`${s[0]}${i[0]}`:"",o=r?r[0]:"",c=n._t("Я");return a||o||c}r.d(t,{C:()=>n})},43696:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n=(e,t)=>{const r=s(e,t);return{size:null==t?void 0:t.total,uiFilters:r}},s=(e,t)=>{var r;const n=[];e.action&&n.push({name:"buy"===e.action?"exchangeBuy":"exchangeSell",value:String(e.volume||!0)});const s=e.currencyCode||(null===(r=null==t?void 0:t.currencies[0])||void 0===r?void 0:r.code);return s&&n.push({name:"exchangeToCurrency",value:s}),n}},80080:(e,t,r)=>{"use strict";r.d(t,{c:()=>n.c});var n=r(34688)},48472:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(51665),s=r(92790),i=r(40889);function a(e){const{state:t,entityFrameId:r,currentCongestion:a,position:o}=e,c=(0,i.iF)(t.appContext.frames,r);if(!c||"entity"!==c.type)return;const d=(0,n.wj)({state:t,entityId:c.entityId,searchId:c.searchId}).data;return d?(0,s.Pj)({entity:d,currentCongestion:a,position:o}):void 0}},92790:(e,t,r)=>{"use strict";r.d(t,{Pj:()=>n.Pj,h:()=>n.h});var n=r(23146)},89807:(e,t,r)=>{"use strict";r.d(t,{PD:()=>m,Tp:()=>h});var n=r(45632),s=r(32312),i=r(56805),a=r(31410),o=r(35697);function c(e){if(e&&4===e.length)return e.map((e=>({lat:e.latitude,lon:e.longitude})))}var d=r(40889),l=r(97698),u=r(96764),p=r(56264);const h=()=>(0,l.P1)([({state:e,frame:t})=>(0,s.rO)({state:e,searchId:(0,n.r)(t)||""}),({state:e,frame:t})=>(0,i.O)({state:e,filtersId:(0,a.p)(t)})],((e,t)=>{var r;if(!e.meta||!e.data||"loading"===e.meta.status)return;const{total:n,searchType:s,buildingId:i,searchAttributes:a,filters:d}=e.data,l=(0,o.C)(d),h=null===(r=null==a?void 0:a.query_context)||void 0===r?void 0:r.reduce(((e,t)=>("attribute"===t.table_name&&e.push(t.record_id),e)),[]);return{uiFilters:(0,u.h)(d,t&&t.filters&&t.filters.attributes),sort:l,size:n||0,searchType:s,firstResultClass:s,contextRubrics:(0,p.q)(null==a?void 0:a.query_context),contextAttributes:(null==h?void 0:h.length)?h:void 0,hasGeoRestriction:!!a&&!!a.geo_restriction,partialResult:!!a&&a.is_partial,advertisers:a&&a.advertisers?a.advertisers.map((({org:e,rubr:t})=>({org:e,contextRubric:t}))):void 0,searchStatisticsTags:(null==a?void 0:a.statistic_tags)||void 0,outviewport:a?c(a.out_viewport):void 0,building:i,searchSegmentId:a&&a.dgis_project_id,rtwVersion:null==a?void 0:a.rtw_version}})),g=h();function m(e){const{state:t,searchFrameId:r}=e,n=(0,d.iF)(t.appContext.frames,r);if(n&&("search"!==n.type||"filials"!==n.searchType))return g({state:t,frame:n})}},50419:(e,t,r)=>{"use strict";function n(e){if(e.state.appContext.weak.fullScreenBanner)return;const t="frame"in e?i(e.frame):e.name;return t?{uiElement:{type:"frame",uuid:"frame"in e?e.frame.id:e.uuid,name:t,framesLayout:{dataViewer:s(e.state)}}}:void 0}function s(e){return e.appContext.frames.length?e.appContext.frames.map((e=>({uuid:e.id,name:i(e)}))).reverse():[{name:"dashboardFrame",uuid:e.appContext.staticFrames.dashboard.id}]}function i(e){switch(e.type){case"dashboard":return"dashboardFrame";case"search":return"offers"===e.searchType?"branchMarketSearchResultsFrame":"directorySearchResultsFrame";case"prices":return"pricesFrame";case"collection":return"private"===e.subtype?"userCollectionFrame":"specialProjectCollectionFrame";case"userProfile":return"userProfileFrame";case"gallery":return"galleryFrame";case"entity":return"directoryObjectCardFrame";case"offer":return"branchMarketProductOfferFrame";case"direction":return"directionFrame";case"directions":return"routeSearchFrame";case"rubric":return"rubricatorSubrubricsFrame";case"rubricator":return"rubricatorFirstLevelFrame";case"pending":return"directoryObjectCardFrame";case"product":return"productFrame";case"publicFavorites":switch(e.subtype){case"guidebook":return"guidebookFrame";case"award2019":return"award2gisFrame";default:return"interestingFrame"}case"unconfirmedReviews":return"unconfirmedReviewsFrame";case"achievements":return"achievementsFrame";case"currentReview":return"currentReviewFrame";case"tUgc":return"tUGCCardFrame";case"userFriendsActivity":return"friendsActivitiesHereFrame";case"realty":return"realtyLayerFrame";case"realtyCard":return"realtyLayerProductOfferFrame";case"error":return"errorFrame";case"exchange":return"exchangeCurrencyFrame"}}r.d(t,{E:()=>i,x:()=>n})},61624:(e,t,r)=>{"use strict";function n(e){return"building"===e.type?e.id:"branch"===e.type||"station_entrance"===e.type?e.address&&e.address.building_id:void 0}r.d(t,{V:()=>n})},77752:(e,t,r)=>{"use strict";r.d(t,{B:()=>u});var n=r(62220),s=r(88850),i=r(24973),a=r(82603),o=r(39506),c=r(20241);const d=16,l=.1;function u({entity:e,state:t}){if(!(0,c.V)(e))return;const r=(0,o.Y)(e);if(r){if(!Array.isArray(r))return{lon:r.lon,lat:r.lat,zoom:Math.max(t.appContext.zoom,d)};const e=(0,n.v9)(t),o=(0,a.xH)(r).map((e=>[e.lon,e.lat])),c=(0,s.o)(t.session.screen,e),u=(0,i.getCenterZoomByPoints)(o,t.appContext.rotation,[c.width,c.height]);if(u)return{lon:u.center[0],lat:u.center[1],zoom:Math.min(u.zoom-l,d)}}return"point"in e&&e.point?{lon:e.point.lon,lat:e.point.lat,zoom:Math.max(t.appContext.zoom,d)}:void 0}},71103:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});var n=r(98934),s=r(23710);function i(e,t,r){if("AE"===t&&"branch"!==e.type&&"kilometer_road_sign"!==e.type)return(0,s.Q)(e);const i="attraction"===e.type||"kilometer_road_sign"===e.type?r||e.point:r;return i&&"station"!==e.type&&"branch"!==e.type&&"station_platform"!==e.type&&"station_entrance"!==e.type&&"building"!==e.type&&"point"!==e.type?(0,n.d)(i):void 0}},84079:(e,t,r)=>{"use strict";function n(e){const t="links"in e&&e.links;return t&&t.servicing&&t.servicing.count||0}r.d(t,{F:()=>n})},79854:(e,t,r)=>{"use strict";function n(e){const t="links"in e&&e.links;return t&&t.providers&&t.providers.count||0}r.d(t,{k:()=>n})},74116:(e,t,r)=>{"use strict";function n(e,t){return t&&e.some((e=>e.tab===t))?t:e[0].tab}r.d(t,{d:()=>n})},98901:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(25278),s=r(90495);function i(e,t){var r,i;switch(e.type){case"entity":case"pending":case"gallery":return{entityId:e.entityId,searchId:e.searchId};case"prices":return{entityId:e.entityId,searchId:e.entitySearchId};case"realtyCard":return{entityId:(0,s.W)(t)};case"realty":return"building"===(null===(r=e.entity)||void 0===r?void 0:r.type)?{entityId:null===(i=e.entity)||void 0===i?void 0:i.id,searchId:e.searchId}:n.Nu;case"product":return{entityId:e.buildingId};case"search":switch(e.searchType){case"inbuilding":return{entityId:e.buildingId};case"offers":return{entityId:e.branchId,searchId:e.branchSearchId}}return{}}return{}}},39506:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(64301),s=r(82603);function i(e){if("route"===e.type)return e.directions&&e.directions.map((e=>e.geometry.selection?(0,n.h_)(e.geometry.selection):void 0)).filter(s.Gg);const t=e.geometry&&e.geometry.selection&&(0,n.$W)(e.geometry.selection);return t?t.geometry:void 0}},14075:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(53699);function s(e){switch(e.type){case"branch":return(0,n.i)(e)?["contacts","inside","reviews","prices","photos","realty","services","providers","discounts"]:["contacts","info","inside","reviews","menu","prices","photos","realty","services","providers","discounts"];case"building":return["info","inside","realty","reviews","photos","services","providers"];case"station_entrance":return["info","inside","realty","reviews","photos"];case"station":case"station_platform":case"route":return["info","photos"];default:return["info","reviews","photos"]}}},49589:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4456);function s(){return{hardwareInfo:(0,n.T)(),sourceUrl:window.location.href.split("://")[1]}}},36125:(e,t,r)=>{"use strict";function n(e){const t=Math.max(0,...e.map((e=>e.length)));if(0===t)return;const r=e.map(((e,t)=>({markers:e,floorIndex:t}))).filter((e=>e.markers.length===t));if(r.length>1){const e=r.map((e=>Math.min(...e.markers.map((e=>e.index))))),t=Math.min(...e);return r[e.indexOf(t)].floorIndex}return r[0].floorIndex}r.d(t,{M:()=>n})},45632:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=r(79225),s=r(40783);function i(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return r(e.tabCatalog.searchId);case"inbuilding":case"filials":case"buyHere":case"fmcg":return r(e.searchId);default:return e.searchId}case"entity":return(0,s.l)(e,e.tab,t);case"gallery":return e.searchId;case"prices":return e.offersSearchId;case"directions":return r(e.searchId)}}},47650:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(79225);function s(e){if("search"===e.type)switch(e.searchType){case"query":return(0,n.Gp)(e.tabCatalog.page);case"offers":case"filials":case"buyHere":case"fmcg":return(0,n.Gp)(e.page)}return 1}},38254:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:void 0:e.filterValues;case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}r.d(t,{A:()=>n})},40783:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(79225);function s(e,t,r){const s="actual"===r?n.Gp:n.sG;switch(t){case"inside":return e.tabInside?s(e.tabInside.searchId):void 0;case"providers":return e.tabProviders?e.tabProviders.searchId:void 0;case"services":return e.tabServices?e.tabServices.searchId:void 0;case"prices":return e.tabPrices?e.tabPrices.searchId:void 0;case"reviews":if(!e.tabReviews)return;return e.tabReviews.isOrg?s(e.tabReviews.orgReviewsSearchId):s(e.tabReviews.entityReviewsSearchId);default:return}}},98721:(e,t,r)=>{"use strict";function n(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.filterValues:"filterValues"in e?e.filterValues:void 0;case"product":return e.filterValues;case"directions":return e.filterValuesByTab[e.tab];case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}r.d(t,{Q:()=>n})},31410:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(79225);function s(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return r(e.tabCatalog.filtersId);case"offers":return r(e.filtersId);case"buyHere":case"fmcg":case"filials":case"inbuilding":return e.filtersId||"";default:return""}case"entity":return"";case"product":return e.filtersId}return""}},8831:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(79225);function s(e,t){const r="actual"===t?n.Gp:n.sG;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?r(e.tabCatalog.gtaId):void 0;case"filials":case"inbuilding":return e.gtaId;default:return}case"entity":switch(e.tab){case"inside":return e.tabInside?e.tabInside.gtaId:void 0;case"services":return e.tabServices?e.tabServices.gtaId:void 0;case"providers":return e.tabProviders?e.tabProviders.gtaId:void 0;default:return}default:return"gtaId"in e?e.gtaId:void 0}}},25756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(79225);function s(e){switch(e.type){case"search":switch(e.searchType){case"query":return(0,n.sG)(e.tabCatalog.page);case"offers":case"inbuilding":case"filials":case"buyHere":case"fmcg":return(0,n.sG)(e.page);default:return 1}case"realty":case"exchange":case"product":return e.page;case"entity":switch(e.tab){case"inside":return e.tabInside?(0,n.sG)(e.tabInside.page):1;case"services":return e.tabServices?e.tabServices.page:1;case"providers":return e.tabProviders?e.tabProviders.page:1;default:return 1}default:return 1}}},59201:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(45632),s=r(82603),i=r(47650);function a(e){const t=[e.id];switch(e.type){case"search":switch(t.push((0,n.r)(e,"actual")),"query"===e.searchType&&t.push(e.tab),e.searchType){case"query":t.push((0,i.X)(e).toString()),t.push(o(e));break;case"buyHere":case"fmcg":case"offers":t.push(o(e))}break;case"entity":case"realty":case"exchange":break;case"directions":t.push((0,n.r)(e,"actual")),t.push(e.tab)}return(0,s.oA)(t).join("_")}function o(e){if("search"!==e.type)return"";switch(e.searchType){case"query":return e.tabCatalog.scrollIdHash;case"offers":case"buyHere":case"fmcg":return e.scrollIdHash}}},47113:(e,t,r)=>{"use strict";function n(e){return"product"===e.type?e.viewpoint:e.tabCatalog.viewpoint}r.d(t,{v:()=>n})},64662:(e,t,r)=>{"use strict";r.d(t,{U:()=>c});var n=r(1834),s=r(77639),i=r(71880),a=r(82603),o=r(17591);function c(e){const{entity:t,config:r,tp:n}=e;return(0,a.oA)([...d(t,n),p(t,r),u(t),l(t,n)])}function d(e,t){return"building"===e.type?[]:(0,i.n)(e,t)}function l(e,t){if("station_entrance"===e.type&&e.comment)return t._t("Выход %1",[e.comment])}function u(e){return(0,o.p)(e)&&"parking"!==e.type&&"address"in e&&e.address?(0,s.t)(e):void 0}function p(e,t){if("parking"!==e.type&&(0,o.p)(e))return(0,n.W8)(e,{config:t})}},22730:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(25278);function s(e,t){return e&&"0"!==e?e:t&&"0"!==t?t:n.bw}},14706:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(8151);function s(e){return function(e){var t,r,s,i;const a=null===(r=null===(t=e.data.region.detector.default)||void 0===t?void 0:t.data)||void 0===r?void 0:r.id,o=a?null===(i=null===(s=e.data.settlements.default)||void 0===s?void 0:s.data)||void 0===i?void 0:i[a]:void 0;if(!o)return;const c=(0,n.kL)(e);return c&&function(e,t){return e.alias===t.uri_code||e.alias===t.code}(o,c)?void 0:o.id}(e)?void 0:(0,n.yH)(e)}},60903:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(37193),s=r(40889);const i={name:"Премия 2ГИС 2022"};function a({state:e,frameId:t}){const r=(0,s.iF)(e.appContext.frames,t);if(r&&(0,n.S)({state:e,frame:r}))return i}},90495:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var n=r(40889);function s(e){var t;return null===(t=(0,n.t0)(e.appContext.frames,"realtyCard"))||void 0===t?void 0:t.buildingId}},41149:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(85417);function s(e){return e&&e.color||(0,n.s)(e&&e.subtype)}},85417:(e,t,r)=>{"use strict";r.d(t,{s:()=>i});const n="#3E7C17",s={suburban_train:n,tram:n,trolleybus:n,metro:n,mcc:n,mcd:n,funicular_railway:n,monorail:n,river_transport:n,cable_car:n,light_rail:n,premetro:n,light_metro:n,bus:"#5D86DD",aeroexpress:"#EB212D",shuttle_bus:"#f2990c"};function i(e){return e?s[e]:n}},55956:(e,t,r)=>{"use strict";function n(e){if(e.from_name&&e.to_name)return`${e.from_name} → ${e.to_name}`}r.d(t,{s:()=>n})},76349:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(85251),s=r(63682);function i(e,t,r){if(!(0,s.U)(e,t,r))return;let i=n.dp.searchBarWrapperHeight;switch(e.type){case"search":"inbuilding"===e.searchType&&(i+=16);break;case"product":i+=16}return i}},96558:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(17271),s=r(48912);function i(e,{tp:t,config:r}){if("market"===e.type)return(0,s.R)({tp:t,config:r},e);return"attribute"===(e.entity&&e.entity.type)?function(e){var t;const r=(("object"===e.type?null===(t=null==e?void 0:e.search_attributes)||void 0===t?void 0:t.suggested_text:e.text)||"").toLowerCase(),s=(e.entity&&"attribute"===e.entity.type&&e.entity.extend&&e.entity.extend.search_name||"").toLowerCase();if(r.includes(s))return(0,n.Ez)(r);if(s.includes(r))return(0,n.Ez)(s);return(0,n.Ez)(`${r} (${s})`)}(e):(0,s.R)({tp:t,config:r},e)}},84670:(e,t,r)=>{"use strict";function n(e){return e<=0?0:"undefined"!=typeof window?Math.ceil(window.screen.height/e):0}r.d(t,{n:()=>n})},59065:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(74783);function s(e){const t=(0,n.SI)(e);switch(t&&t.tab){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian"}return"default"}},28717:(e,t,r)=>{"use strict";function n(e,t,r){var n,s;switch(e.type){case"crash":if(!e.lanes)return;return e.lanes.map((e=>{switch(e){case"center":return t._t("Средний ряд.");case"left":return t._t("Левый ряд.");case"right":return t._t("Правый ряд.")}})).join(" ");case"camera":{const i=null===(n=e.data)||void 0===n?void 0:n.speed,a=new Set(null===(s=e.data)||void 0===s?void 0:s.violation);if(!a||a.size<2)return;const o=[1,9,10,11,4,2].reduce(((e,r)=>{if(!a.has(r))return e;switch(r){case 1:return i?[...e,t._t("%1 км/ч",[i])]:e;case 9:return i?[...e,t._t("среднюю скорость %1 км/ч",[i])]:e;case 10:return[...e,t._t("остановку")];case 11:return[...e,t._t("разметку")];case 4:return[...e,t._t("полосу ОТ")];case 2:return[...e,t._t("перекресток")];default:return e}}),[]);if(0===o.length)return;return t._t("Камера на %1",[o.join(r.comma+" ")])}}}r.d(t,{j:()=>n})},99688:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(35155);function s(e,t){switch(e.type){case"crash":return t._pt("tUgcType","ДТП");case"camera":return function(e,t){var r,s,i;const a=1===new Set(null===(r=e.data)||void 0===r?void 0:r.violation).size?(0,n.y)(e):"camera",o=null===(s=e.data)||void 0===s?void 0:s.speed,c=null===(i=e.data)||void 0===i?void 0:i.violation;if(a===`camera-${o}`&&(null==c?void 0:c.includes(1)))return t._t("Камера на %1 км/ч",[o]);if(a===`camera-${o}`&&(null==c?void 0:c.includes(9)))return t._t("Камера средней скорости на %1 км/ч",[o]);if("camera-parking"===a)return t._t("Камера контроля остановки");if("camera-line"===a)return t._t("Камера контроля разметки");if("camera-bus"===a)return t._t("Камера контроля полосы общественного транспорта");if("camera-tl"===a)return t._t("Камера контроля перекрестка");return t._pt("tUgcType","Камера")}(e,t);case"roadwork":return t._pt("tUgcType","Дорожные работы");case"restriction":return t._pt("tUgcType","Перекрытие");case"comment":return t._pt("tUgcType","Сообщение на карте");case"other":return t._pt("tUgcType","Прочее")}}},5991:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(83788);const s=e=>{const t="branch"===e.type?e.attribute_groups:void 0;return!!t&&!!(null==t?void 0:t.some((e=>e.attributes.some((e=>n.M.includes(e.tag))))))}},15590:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});const n={khabarovsk:"35"},s=Object.values(n),i=e=>!!e&&s.includes(e)},23487:(e,t,r)=>{"use strict";function n(e){return e>25}r.d(t,{q:()=>n})},12566:(e,t,r)=>{"use strict";function n(e){return"entity"===e.type}r.d(t,{B:()=>n})},63682:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});const n=["offer","directions","prices","realty","realtyCard","exchange"];function s(e,t,r){if(n.includes(e.type))return!1;if("search"===e.type&&"offers"===e.searchType)return!1;if(!t.isLeftMost)return!1;const{isMobileDevice:s}=r;if(s){if(t.areFiltersOpened)return!1;if("gallery"===e.type)return!1;if("direction"===e.type)return!1}return!0}},10937:(e,t,r)=>{"use strict";function n(e){return"search"===e.type&&"offers"===e.searchType}r.d(t,{i:()=>n})},82666:(e,t,r)=>{"use strict";function n(e){return"search"===e.type&&("buyHere"===e.searchType||"fmcg"===e.searchType)}r.d(t,{o:()=>n})},4203:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"filials"===e.searchType}r.d(t,{Y:()=>n})},13096:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"inbuilding"===e.searchType}r.d(t,{n:()=>n})},96378:(e,t,r)=>{"use strict";function n(e){return!!e&&"search"===e.type&&"query"===e.searchType}r.d(t,{E:()=>n})},17591:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(37929);function s(e){return(0,n.M)(e.type)}},1963:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});const n=6;function s(e){return e<n}},41117:(e,t,r)=>{"use strict";function n(e,t){if(!e||!t)return;const{floorNames:r,firmsToFloorIndexMap:n}=e,s=r.map((()=>[]));return Object.keys(n).forEach((e=>{const r=t.indexHashMap[e];if(void 0!==r){const i=n[e];s[i].push({index:r,point:t.markers[r].lonLat})}})),s}r.d(t,{e:()=>n})},89107:(e,t,r)=>{"use strict";function n(e,t,r){switch(e){case"failRead":return r._t("Ошибка при чтении файла");case"failSize":return r._t("Размер фото слишком большой");case"failFormat":case"failFormatHEIF":return r._t("Фото не соответствует формату jpg или png");case"failLimit":return r._t("Можно прикрепить не более %1 фотографий",[t.photoCount]);case"smallWidth":return r._t("Ширина фото должна быть не менее %1 px",[t.minWidth]);case"smallHeight":return r._t("Высота фото должна быть не менее %1 px",[t.minHeight]);case"largeWidth":return r._t("Ширина фото должна быть не более %1 px",[t.maxWidth]);case"largeHeight":return r._t("Высота фото должна быть не более %1 px",[t.maxHeight]);case"wide":return r._t("Фото слишком широкое");case"narrow":return r._t("Фото слишком узкое");case"deletedError":return r._t("Ошибка при удалении. Попробуйте снова");case"failServerLimit":return r._t("Вы можете загрузить не более %1 фотографий в карточку",[t.maxDailyPhotoCount]);default:return r._t("Ошибка при загрузке")}}r.d(t,{R:()=>n})},52143:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(8702),s=r(58924);function i(e,t,r){return r?(0,n.p)("pedestrian-underground"):t?s.S.border:e&&"passage"===e.type&&e.outcoming_line&&e.outcoming_line.color?e.outcoming_line.color:(0,n.p)(e&&e.type)}},48153:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8702);function s(e){const t=(0,n.p)(e.type);return"walkway"===e.type||"crossing"===e.type?e.incoming_line&&e.incoming_line.color||t:"passage"!==e.type?t:e.outcoming_line&&e.outcoming_line.color||t}},65126:(e,t,r)=>{"use strict";r.d(t,{e:()=>w,j:()=>j});var n=r(52322),s=r(2784),i=r(25767),a=r(46584),o=r(79225),c=r(82603),d=r(51665),l=r(8996),u=r(27215),p=r(40889),h=r(78535),g=r(71202),m=r(14813),f=r(60774),v=r(20882),b=r(63833),y=r(86592),x=r(45632);function j(e){const t=function(e){return(0,s.useMemo)((()=>{if((null==e?void 0:e.erid)||(null==e?void 0:e.legalName))return{blocks:[{erid:e.erid,legalName:e.legalName}]}}),[null==e?void 0:e.erid,null==e?void 0:e.legalName])}("banner"===(null==e?void 0:e.source)?e:void 0),r=function(e){const t=(0,b.N)("entity"),r=(0,u.v9)((e=>{const t=(0,p.t0)(e.appContext.frames,"search");return t&&(0,x.r)(t)})),n=e?e.entityId||(null==t?void 0:t.entityId):void 0,i=(0,y.X)(n,(null==t?void 0:t.entityId)===n?null==t?void 0:t.searchId:r),a=(0,u.v9)((e=>(0,v.l)({state:e,dashboardId:(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)}).data));return(0,s.useMemo)((()=>{var e,t,r,n,s,o,c,d,l,u,p;if("branch"!==(null==i?void 0:i.type))return;const h=[],g=({erid:e,legalName:t})=>{const r=h.find((e=>e.legalName===t));r?e&&(r.erid=[...r.erid||[],...e]):h.push({erid:e,legalName:t})};((null===(t=null===(e=null==i?void 0:i.ads)||void 0===e?void 0:e.options)||void 0===t?void 0:t.erid)||(null===(n=null===(r=null==i?void 0:i.ads)||void 0===r?void 0:r.options)||void 0===n?void 0:n.legal_name))&&g({erid:i.ads.options.erid,legalName:i.ads.options.legal_name}),((null===(c=null===(o=null===(s=null==i?void 0:i.ads)||void 0===s?void 0:s.options)||void 0===o?void 0:o.poi)||void 0===c?void 0:c.erid)||(null===(u=null===(l=null===(d=null==i?void 0:i.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.poi)||void 0===u?void 0:u.legal_name))&&g({erid:i.ads.options.poi.erid,legalName:null===(p=i.ads.options.poi)||void 0===p?void 0:p.legal_name});const m=null==a?void 0:a.find((e=>"pseudorubric"===e.type&&(e.owner_id===i.id||e.owner_id===i.org.id)));return"pseudorubric"===(null==m?void 0:m.type)&&((null==m?void 0:m.erid)||(null==m?void 0:m.legal_name))&&g({erid:m.erid,legalName:m.legal_name}),{blocks:h}}),[i,a])}("card"===(null==e?void 0:e.source)?e:void 0),n=function(e){var t,r,n,h;const g=e?e.entityId:void 0,m=(0,u.v9)((e=>{var t;const r=(0,p.t0)(e.appContext.frames,"entity"),n=r&&(0,d.wj)({state:e,entityId:r.entityId,searchId:r.searchId}).data;if(r&&n&&g&&g===(null===(t=(0,i.d)({entity:n}))||void 0===t?void 0:t.adsBuyHere.branch_id))return r.searchId;const s=(0,p.t0)(e.appContext.frames,"search");switch(null==s?void 0:s.searchType){case"query":return(0,o.Gp)(s.tabCatalog.searchId);case"filials":return(0,o.Gp)(s.searchId)}})),f=(0,s.useMemo)((()=>m||(0,c.by)()),[m]),v=(0,u.v9)((e=>g?(0,d.wj)({state:e,entityId:g,searchId:f}):void 0)),b=null==v?void 0:v.data,y=(0,u.I0)();(0,s.useEffect)((()=>{g&&(0,l.W)(v)&&y((0,a.Dz)({id:g,searchId:f}))}),[y,v,g,f]);const x=null===(n=null===(r=null===(t=null==b?void 0:b.ads)||void 0===t?void 0:t.options)||void 0===r?void 0:r.buy_here_owner)||void 0===n?void 0:n[0],j=e?!(null===(h=null==v?void 0:v.meta)||void 0===h?void 0:h.status)||"loading"===v.meta.status:void 0,w=(0,s.useMemo)((()=>j),[]);return(0,s.useMemo)((()=>(null==x?void 0:x.erid)||(null==x?void 0:x.legal_name)?{isLoading:j,wasLoading:w,blocks:[{erid:x.erid,legalName:x.legal_name}]}:{isLoading:j,wasLoading:w}),[j,w,null==x?void 0:x.erid,null==x?void 0:x.legal_name])}("buyHere"===(null==e?void 0:e.source)?e:void 0),h=t||r||n;return(0,s.useMemo)((()=>{var e;const t=null===(e=null==h?void 0:h.blocks)||void 0===e?void 0:e.map((e=>{var t;return Object.assign(Object.assign({},e),{erid:(null===(t=e.erid)||void 0===t?void 0:t.join(", "))||void 0})}));return Object.assign(Object.assign({},h),{erid:null==t?void 0:t.filter((({erid:e})=>!!e)).map((({erid:e})=>e)).join(", "),blocks:t})}),[h])}function w(){const{css:e,s:t}=(0,h.y)(I),r=(0,f.T)(),i=(0,s.createRef)(),a=(0,u.I0)();return{onCopy:(0,s.useCallback)((e=>{if(e.stopPropagation(),!i.current)return;i.current.select(),document.execCommand("copy"),i.current.blur();const t=document.getSelection();t&&t.empty(),a((0,g.c)((0,m.V)({title:r._gg("Скопировано"),message:r._gg("ID скопирован в буфер обмена!")})))}),[]),renderIdInput:(0,s.useCallback)((r=>(0,n.jsx)("input",{ref:i,readOnly:!0,value:r,className:e(t.idInput)})),[])}}const I=(0,h.k)({idInput:{opacity:0,position:"absolute",top:0,start:0,cursor:"default"}})},98212:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(27215);function s(e){const t=(0,n.v9)((e=>e.appContext.activeLayer));return"building"===(null==e?void 0:e.type)&&(!!e.has_realty&&"realty"!==t)}},28108:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(24550),s=r(99167),i=r(51665),a=r(78621),o=r(27215);function c(e){const t=(0,o.v9)((t=>{var r,o;const c=e&&n.o.includes(e.type)&&"id"in e?e.id:void 0,d=c?(0,i.nM)({state:t,entityId:c}).data:void 0;return d?(0,s.i)(d)||(null===(o=null===(r=(0,a.D4)({state:t,id:d.region_id}))||void 0===r?void 0:r.data)||void 0===o?void 0:o.uri_code):(0,a.Rg)(t)})),r=(0,o.v9)((e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0));return e?(0,n.B)(Object.assign({cityAlias:t,lang:r},e)):void 0}},81735:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(82603);function s(e){if("branch"!==e.type||!e.ads)return!1;const t=(0,n.CE)(e.ads,["options"]);return!(0,n.xb)(t)}},93294:()=>{!function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=40)}([function(e,t,r){var n=r(28)("wks"),s=r(30),i=r(2).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:s)("Symbol."+e))}).store=n},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){e.exports=!r(12)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports={}},function(e,t,r){var n=r(6),s=r(13);e.exports=r(3)?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(7),s=r(48),i=r(49),a=Object.defineProperty;t.f=r(3)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),s)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(11);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var n=r(86);r.d(t,"a",(function(){return n.a}))},function(e,t,r){var n=r(2),s=r(1),i=r(22),a=r(5),o=r(10),c=function(e,t,r){var d,l,u,p=e&c.F,h=e&c.G,g=e&c.S,m=e&c.P,f=e&c.B,v=e&c.W,b=h?s:s[t]||(s[t]={}),y=b.prototype,x=h?n:g?n[t]:(n[t]||{}).prototype;for(d in h&&(r=t),r)(l=!p&&x&&void 0!==x[d])&&o(b,d)||(u=l?x[d]:r[d],b[d]=h&&"function"!=typeof x[d]?r[d]:f&&l?i(u,n):v&&x[d]==u?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?i(Function.call,u):u,m&&((b.virtual||(b.virtual={}))[d]=u,e&c.R&&y&&!y[d]&&a(y,d,u)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(25),s=r(15);e.exports=function(e){return n(s(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(28)("keys"),s=r(30);e.exports=function(e){return n[e]||(n[e]=s(e))}},function(e,t,r){var n=r(15);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(63)(!0);r(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return l})),r.d(t,"e",(function(){return u}));var n=10,s="_sa",i="_sv",a="SA",o="1",c=[s,i,"_ga","_ym_uid","top100_id","_fbp","VID","tmr_lvid","Segmento_UID","sbbolUserGuid","sbbolOrgGUID"],d={utm_source:"source",utm_medium:"medium",utm_campaign:"campaign",utm_term:"term",utm_content:"content"},l="1.5.2",u="WEB"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(r(76)),i=n(r(82));t.default=function(e,t){if(Array.isArray(e))return e;if((0,s.default)(Object(e)))return function(e,t){var r=[],n=!0,s=!1,a=void 0;try{for(var o,c=(0,i.default)(e);!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){var n=r(47);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,s){return e.call(t,r,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(11),s=r(2).document,i=n(s)&&n(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},function(e,t,r){var n=r(51),s=r(31);e.exports=Object.keys||function(e){return n(e,s)}},function(e,t,r){var n=r(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(16),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t,r){var n=r(1),s=r(2),i=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(29)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(61));t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}},function(e,t,r){"use strict";var n=r(29),s=r(9),i=r(64),a=r(5),o=r(4),c=r(65),d=r(35),l=r(69),u=r(0)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,g,m,f,v){c(r,t,g);var b,y,x,j=function(e){if(!p&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",I="values"==m,C=!1,O=e.prototype,_=O[u]||O["@@iterator"]||m&&O[m],k=_||j(m),S=m?I?j("entries"):k:void 0,M="Array"==t&&O.entries||_;if(M&&(x=l(M.call(new e)))!==Object.prototype&&x.next&&(d(x,w,!0),n||"function"==typeof x[u]||a(x,u,h)),I&&_&&"values"!==_.name&&(C=!0,k=function(){return _.call(this)}),n&&!v||!p&&!C&&O[u]||a(O,u,k),o[t]=k,o[w]=h,m)if(b={values:I?k:j("values"),keys:f?k:j("keys"),entries:S},v)for(y in b)y in O||i(O,y,b[y]);else s(s.P+s.F*(p||C),t,b);return b}},function(e,t,r){var n=r(6).f,s=r(10),i=r(0)("toStringTag");e.exports=function(e,t,r){e&&!s(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(37),s=r(0)("iterator"),i=r(4);e.exports=r(1).getIteratorMethod=function(e){if(null!=e)return e[s]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(26),s=r(0)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));var n=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,n="";if(r){var s=new Date;s.setTime(s.getTime()+864e5*r),n="expires="+s.toUTCString()+";"}var i="domain="+function(){var e=window.location.hostname.split(".").reverse();return"."+e[1]+"."+e[0]}()+";";document.cookie=e+"="+(t||"")+";"+n+i+"samesite=strict;secure;path=/"},s=function(e){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}},function(e,t,r){r(78);for(var n=r(2),s=r(5),i=r(4),a=r(0)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<o.length;c++){var d=o[c],l=n[d],u=l&&l.prototype;u&&!u[a]&&s(u,a,d),i[d]=i.Array}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41);n.a._noSVIC=!1,n.a._urlSVIC="https://visor.sberbank.ru/get",window.SberVisor=n.a},function(e,t,r){"use strict";function n(e){return e&&"[object Function]"==={}.toString.call(e)}r.d(t,"a",(function(){return M}));var s,i,a,o=r(42),c=r.n(o),d=r(43),l=r.n(d),u=r(32),p=r.n(u),h=r(56),g=r.n(h),m=r(60),f=r(75),v=r(87),b=r(88),y=r(89),x=r(90),j=r(91),w=r(92),I=r(94),C=r(38),O=r(95),_=r(20),k=r(96),S=r(98),M=(i=s=function(){function e(t){var r=t.apiKey,s=t.sberId,i=t.sessionId,o=t.appId,c=t.partnerId,d=t.sapId,l=t.subId,u=t.adId,h=t.url,g=t.buffer,f=t.withoutCookie,v=t.withoutUTM,y=t.noTimer,C=t.afterInit;p()(this,e),a.call(this),this.constructor._noSVIC||(this._receivingId=!0,Object(S.a)(this.constructor._urlSVIC,this._sCookieReceive)),this._config={buffer:g||_.d,url:h},this._meta={platform:_.e,screenSize:window.screen.width+"x"+window.screen.height,browser:Object(x.a)(),systemLanguage:Object(j.a)(),apiKey:r,sberId:s},Object(k.a)(this._meta),this._profile={sessionId:i,appId:o,partnerId:c,sapId:d,subId:l,adId:u},Object(O.a)(this._hook),this._queue=new I.a,this._withoutCookie=f,this._withoutUTM=v,this._utm=Object(w.a)(),this.version=_.i;var M=Object(m.a)();!y&&this._startTimer(),setInterval(b.b,1e4),n(C)&&C(M)}return g()(e,[{key:"sessionId",get:function(){return this._profile.sessionId},set:function(e){this._profile.sessionId=e}},{key:"appId",get:function(){return this._profile.appId},set:function(e){this._profile.appId=e}},{key:"partnerId",get:function(){return this._profile.partnerId},set:function(e){this._profile.partnerId=e}},{key:"sapId",get:function(){return this._profile.sapId},set:function(e){this._profile.sapId=e}},{key:"subId",get:function(){return this._profile.subId},set:function(e){this._profile.subId=e}},{key:"adId",get:function(){return this._profile.adId},set:function(e){this._profile.adId=e}}],[{key:"onBeforeSend",set:function(e){this._onBeforeSend=e}},{key:"headers",set:function(e){this._headers=e}},{key:"noSVIC",set:function(e){this._noSVIC=e}}]),e}(),s.version=_.i,a=function(){var e=this;this._setMeta=function(t){Object.assign(e._meta,t)},this._setProfile=function(t){Object.assign(e._profile,t)},this._setConfig=function(t){Object.assign(e._config,t)},this._sendRaw=function(t){e._queue.push(t),e._sendIfNeeded(!0)},this._startTimer=function(){e._resetCounter(),setInterval((function(){--e.counter<0&&(e.counter=10,e._sendIfNeeded(!0))}),1e3)},this._resetCounter=function(){e.counter=10},this._sCookieReceive=function(t){e._receivingId=!1,t?(e._cid=t,e._saveSV(t)):e._getSV()&&(e._cid=t),e._sendIfNeeded()},this._saveSV=function(e){localStorage.removeItem(_.g),localStorage.setItem(_.g,e)},this._getSV=function(){return localStorage.getItem(_.g)},this._extractCookies=function(){var e=[];return _.a.forEach((function(t){var r=Object(C.a)(t);r&&e.push({key:t,value:r})})),e},this._getBody=function(){e._setMeta({timeStamp:Object(y.a)()});var t={meta:e._meta,profile:l()({},e._profile),data:e._queue.pick()};if(!e._withoutCookie){var r=e._extractCookies();!e._receivingId&&e._cid&&r.push({key:_.g,value:e._cid}),r&&r.length&&(t.profile.cookie=r)}return!e._withoutUTM&&e._utm&&e._utm.length&&(t.profile.utm=e._utm),t},this._hook=function(){var t=e._config.url;return t&&e._queue.length()?{packet:e._getBody(),url:t}:null},this._addUserInfo=function(e){return l()({},e,{batteryLevel:b.a,connectionType:Object(v.a)(),timeStamp:Object(y.a)()})},this._convertProps=function(e){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},this._checkApiKey=function(){!e._meta.apiKey&&console.warn("[sa] apiKey is empty!")},this.push=function(t){var r=t.properties,n=c()(t,["properties"]);e._resetCounter();var s=n;if(r){var i=e._convertProps(r);i.length&&(s.properties=i)}e._queue.push(e._addUserInfo(s)),e._sendIfNeeded()},this._sendIfNeeded=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e._config,s=r.url,i=r.buffer;if(!e._receivingId){!s&&console.warn("[sa] url is empty!"),e._checkApiKey();var a=e._queue.length();if(s&&a>=(t?1:i)){var o=e._getBody(),c=o;n(e.constructor._onBeforeSend)&&(c=e.constructor._onBeforeSend(o)),Object(f.a)(s,c,!0,(function(){return e._queue.revert(o.data)}),e.constructor._headers)}}}},i)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(44));t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(45),__esModule:!0}},function(e,t,r){r(46),e.exports=r(1).Object.assign},function(e,t,r){var n=r(9);n(n.S+n.F,"Object",{assign:r(50)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){e.exports=!r(3)&&!r(12)((function(){return 7!=Object.defineProperty(r(23)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e))return e;var r,s;if(t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;if("function"==typeof(r=e.valueOf)&&!n(s=r.call(e)))return s;if(!t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";var n=r(3),s=r(24),i=r(54),a=r(55),o=r(18),c=r(25),d=Object.assign;e.exports=!d||r(12)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||Object.keys(d({},t)).join("")!=n}))?function(e,t){for(var r=o(e),d=arguments.length,l=1,u=i.f,p=a.f;d>l;)for(var h,g=c(arguments[l++]),m=u?s(g).concat(u(g)):s(g),f=m.length,v=0;f>v;)h=m[v++],n&&!p.call(g,h)||(r[h]=g[h]);return r}:d},function(e,t,r){var n=r(10),s=r(14),i=r(52)(!1),a=r(17)("IE_PROTO");e.exports=function(e,t){var r,o=s(e),c=0,d=[];for(r in o)r!=a&&n(o,r)&&d.push(r);for(;t.length>c;)n(o,r=t[c++])&&(~i(d,r)||d.push(r));return d}},function(e,t,r){var n=r(14),s=r(27),i=r(53);e.exports=function(e){return function(t,r,a){var o,c=n(t),d=s(c.length),l=i(a,d);if(e&&r!=r){for(;d>l;)if((o=c[l++])!=o)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(16),s=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):i(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(57));t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,n.default)(e,s.key,s)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={default:r(58),__esModule:!0}},function(e,t,r){r(59);var n=r(1).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(9);n(n.S+n.F*!r(3),"Object",{defineProperty:r(6).f})},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(33),s=r.n(n),i=r(38),a=r(20),o={getRandomValues:function(e){for(var t=[].concat(s()(e)),r=0;r<t.length;r+=1)t[r]=Math.floor(256*Math.random());return t}},c=window.crypto||window.msCrypto||o,d=function(){var e=Object(i.a)(a.f);if(e)return e;var t="10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){return(e^c.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),r=Math.floor((new Date).getTime()/1e3),n=a.b+a.c+"."+t+"."+r;return Object(i.b)(a.f,n),n}},function(e,t,r){e.exports={default:r(62),__esModule:!0}},function(e,t,r){r(19),r(70),e.exports=r(1).Array.from},function(e,t,r){var n=r(16),s=r(15);e.exports=function(e){return function(t,r){var i,a,o=String(s(t)),c=n(r),d=o.length;return c<0||c>=d?e?"":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===d||(a=o.charCodeAt(c+1))<56320||a>57343?e?o.charAt(c):i:e?o.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,r){e.exports=r(5)},function(e,t,r){"use strict";var n=r(66),s=r(13),i=r(35),a={};r(5)(a,r(0)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:s(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(7),s=r(67),i=r(31),a=r(17)("IE_PROTO"),o=function(){},c=function(){var e,t=r(23)("iframe"),n=i.length;for(t.style.display="none",r(68).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(o.prototype=n(e),r=new o,o.prototype=null,r[a]=e):r=c(),void 0===t?r:s(r,t)}},function(e,t,r){var n=r(6),s=r(7),i=r(24);e.exports=r(3)?Object.defineProperties:function(e,t){s(e);for(var r,a=i(t),o=a.length,c=0;o>c;)n.f(e,r=a[c++],t[r]);return e}},function(e,t,r){var n=r(2).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(10),s=r(18),i=r(17)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){"use strict";var n=r(22),s=r(9),i=r(18),a=r(71),o=r(72),c=r(27),d=r(73),l=r(36);s(s.S+s.F*!r(74)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,s,u,p=i(e),h="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,f=void 0!==m,v=0,b=l(p);if(f&&(m=n(m,g>2?arguments[2]:void 0,2)),null==b||h==Array&&o(b))for(r=new h(t=c(p.length));t>v;v++)d(r,v,f?m(p[v],v):p[v]);else for(u=b.call(p),r=new h;!(s=u.next()).done;v++)d(r,v,f?a(u,m,[s.value,v],!0):s.value);return r.length=v,r}})},function(e,t,r){var n=r(7);e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(4),s=r(0)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[s]===e)}},function(e,t,r){"use strict";var n=r(6),s=r(13);e.exports=function(e,t,r){t in e?n.f(e,t,s(0,r)):e[t]=r}},function(e,t,r){var n=r(0)("iterator"),s=!1;try{var i=[7][n]();i.return=function(){s=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(21),s=r.n(n),i=r(85),a=function(){},o={"Content-type":"application/json;charset=utf-8"};t.a=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(Object(i.a)()){var d=new XMLHttpRequest;d.open("POST",e,r),Object.entries(c).forEach((function(e){var t=s()(e,2),r=t[0],n=t[1];d.setRequestHeader(r,n)})),d.send(JSON.stringify(t)),d.onreadystatechange=function(){4===d.readyState&&d.status>=400&&500!==d.status&&n()},d.onerror=n}else n()}},function(e,t,r){e.exports={default:r(77),__esModule:!0}},function(e,t,r){r(39),r(19),e.exports=r(81)},function(e,t,r){"use strict";var n=r(79),s=r(80),i=r(4),a=r(14);e.exports=r(34)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,s(1)):s(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(37),s=r(0)("iterator"),i=r(4);e.exports=r(1).isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(83),__esModule:!0}},function(e,t,r){r(39),r(19),e.exports=r(84)},function(e,t,r){var n=r(7),s=r(36);e.exports=r(1).getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";var n=r(8);t.a=function(){return Object(n.a)(window.navigator,"onLine")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function e(){for(var t=arguments.length,r=Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];var s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[arguments.length>1&&void 0!==arguments[1]?arguments[1]:""];return r.length&&void 0!==s?e.apply(void 0,[s].concat(r)):s}},function(e,t,r){"use strict";var n=r(8),s={bluetooth:"BLUETOOTH",cellular:"CELLULAR",ethernet:"ETHERNET",wifi:"WIFI",none:"UNKNOWN",wimax:"UNKNOWN",other:"UNKNOWN",unknown:"UNKNOWN"};t.a=function(){return s[Object(n.a)(window.navigator,"connection","type")]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var n=r(8),s=void 0,i=function(){var e=Object(n.a)(window.navigator,"battery")||Object(n.a)(window.navigator,"webkitBattery")||Object(n.a)(window.navigator,"mozBattery");if(e){var t=Object(n.a)(e,"level");s=t?(100*t).toString():void 0}else window.navigator.getBattery&&window.navigator.getBattery().then((function(e){s=(100*e.level).toString()}))}},function(e,t,r){"use strict";var n=r(21),s=r.n(n),i=function(e){return e<10?"0"+e:e};t.a=function(){var e=new Date,t=new Date(e.valueOf()-6e4*e.getTimezoneOffset()),r=t.toISOString().split("Z");return""+s()(r,1)[0]+function(e){return(e<0?"+":"-")+i(Math.floor(Math.abs(e/60)))+":"+i(Math.abs(e%60))}(t.getTimezoneOffset())}},function(e,t,r){"use strict";var n=r(8);t.a=function(){return Object(n.a)(window.navigator,"userAgent")}},function(e,t,r){"use strict";var n=r(8);t.a=function(){return Object(n.a)(window.navigator,"browserLanguage")||Object(n.a)(window.navigator,"userLanguage")||Object(n.a)(window.navigator,"systemLanguage")||Object(n.a)(window.navigator,"language")}},function(e,t,r){"use strict";var n=r(20),s=r(93);t.a=function(){try{var e=Object(s.a)(window.location.search),t=[];return Object.keys(n.h).forEach((function(r){e[r]&&t.push({key:n.h[r],value:e[r]})})),t}catch(e){return console.warn("[sa] "+e),null}}},function(e,t,r){"use strict";var n=r(21),s=r.n(n);t.a=function(e){var t=e.slice(e.indexOf("?")+1).split("&"),r={};return t.forEach((function(e){var t=e.split("="),n=s()(t,2),i=n[0],a=n[1];r[i]=decodeURIComponent(a)})),r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(33),s=r.n(n),i=r(32),a=r.n(i),o=function e(){var t=this;a()(this,e),this._queue=[],this.length=function(){return t._queue.length},this.push=function(e){return t._queue.push(e)},this.pick=function(){return t._queue.splice(0,t._queue.length)},this.revert=function(e){var r;return(r=t._queue).splice.apply(r,[0,0].concat(s()(e)))}}},function(e,t,r){"use strict";var n={type:"application/json"};t.a=function(e){window.addEventListener("beforeunload",(function(){var t=e();if(t){var r=t.packet,s=t.url;if(navigator.sendBeacon){var i=new Blob([JSON.stringify(r)],n);navigator.sendBeacon(s,i)}else request(s,r,!0)}}))}},function(e,t,r){"use strict";var n=r(97),s=new(r.n(n).a);t.a=function(e){var t=s.getResult(),r=t.browser,n=t.device,i=t.os;n.model&&(e.deviceModel=n.model),n.vendor&&(e.deviceVendor=n.vendor),i.name&&(e.operationSystem=i.name),i.version&&(e.operationSystemVersion=i.version),e.browser=r.name+"|"+r.version}},function(e,t,r){var n;!function(s,i){"use strict";var a="model",o="name",c="type",d="vendor",l="version",u="mobile",p="tablet",h="smarttv",g={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},m={rgx:function(e,t){for(var r,n,s,i,a,o,c=0;c<t.length&&!a;){var d=t[c],l=t[c+1];for(r=n=0;r<d.length&&!a;)if(a=d[r++].exec(e))for(s=0;s<l.length;s++)o=a[++n],"object"==typeof(i=l[s])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,o):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=o?o.replace(i[1],i[2]):void 0:this[i[0]]=o?i[1].call(this,o,i[2]):void 0:4==i.length&&(this[i[0]]=o?i[3].call(this,o.replace(i[1],i[2])):void 0):this[i]=o||void 0;c+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(g.has(t[r][n],e))return"?"===r?void 0:r}else if(g.has(t[r],e))return"?"===r?void 0:r;return e}},f={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[o,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[o,l],[/opios[\/\s]+([\w\.]+)/i],[l,[o,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[l,[o,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[o,l],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[l,[o,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[l,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[l,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[o,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[l,[o,"IE"]],[/yabrowser\/([\w\.]+)/i],[l,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure Browser"],l],[/focus\/([\w\.]+)/i],[l,[o,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[l,[o,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[l,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[o,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[o,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[l,[o,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[o,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 Browser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],l],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[o,l],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[o],[/;fbav\/([\w\.]+);/i],[l,[o,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[o,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[o,l],[/\bgsa\/([\w\.]+)\s.*safari\//i],[l,[o,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,"Chrome WebView"],l],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[l,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,l],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[l,[o,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[l,o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[l,m.str,f.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[o,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],l],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[l,[o,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",g.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[a,[d,"Samsung"],[c,p]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[a,[d,"Samsung"],[c,u]],[/\((ip(?:hone|od)[\s\w]*);/i],[a,[d,"Apple"],[c,u]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[d,"Apple"],[c,p]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[a,[d,"Huawei"],[c,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[a,[d,"Huawei"],[c,u]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[a,/_/g," "],[d,"Xiaomi"],[c,u]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[a,/_/g," "],[d,"Xiaomi"],[c,p]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[a,[d,"OPPO"],[c,u]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[a,[d,"Vivo"],[c,u]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[a,[d,"Realme"],[c,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[a,[d,"Motorola"],[c,u]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[d,"Motorola"],[c,p]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[a,[d,"LG"],[c,p]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[a,[d,"LG"],[c,u]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[a,[d,"Lenovo"],[c,p]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[a,/_/g," "],[d,"Nokia"],[c,u]],[/droid.+;\s(pixel\sc)[\s)]/i],[a,[d,"Google"],[c,p]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[a,[d,"Google"],[c,u]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[d,"Sony"],[c,u]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[a,"Xperia Tablet"],[d,"Sony"],[c,p]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[a,[d,"OnePlus"],[c,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[a,[d,"Amazon"],[c,p]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[a,"Fire Phone"],[d,"Amazon"],[c,u]],[/\((playbook);[\w\s\),;-]+(rim)/i],[a,d,[c,p]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[a,[d,"BlackBerry"],[c,u]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[a,[d,"ASUS"],[c,p]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[a,[d,"ASUS"],[c,u]],[/(nexus\s9)/i],[a,[d,"HTC"],[c,p]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[a,/_/g," "],[c,u]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[d,"Acer"],[c,p]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[a,[d,"Meizu"],[c,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,a,[c,u]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[d,a,[c,p]],[/\s(surface\sduo)\s/i],[a,[d,"Microsoft"],[c,p]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[a,[d,"Fairphone"],[c,u]],[/\s(u304aa)\sbuild/i],[a,[d,"AT&T"],[c,u]],[/sie-(\w*)/i],[a,[d,"Siemens"],[c,u]],[/[;\/]\s?(rct\w+)\sbuild/i],[a,[d,"RCA"],[c,p]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[a,[d,"Dell"],[c,p]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[a,[d,"Verizon"],[c,p]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[a,[d,"Barnes & Noble"],[c,p]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[a,[d,"NuVision"],[c,p]],[/;\s(k88)\sbuild/i],[a,[d,"ZTE"],[c,p]],[/;\s(nx\d{3}j)\sbuild/i],[a,[d,"ZTE"],[c,u]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[a,[d,"Swiss"],[c,u]],[/[;\/]\s?(zur\d{3})\sbuild/i],[a,[d,"Swiss"],[c,p]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[a,[d,"Zeki"],[c,p]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[d,"Dragon Touch"],a,[c,p]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[a,[d,"Insignia"],[c,p]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[a,[d,"NextBook"],[c,p]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[d,"Voice"],a,[c,u]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[d,"LvTel"],a,[c,u]],[/;\s(ph-1)\s/i],[a,[d,"Essential"],[c,u]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[a,[d,"Envizen"],[c,p]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[a,[d,"MachSpeed"],[c,p]],[/[;\/]\s?tu_(1491)\sbuild/i],[a,[d,"Rotor"],[c,p]],[/(shield[\w\s]+)\sbuild/i],[a,[d,"Nvidia"],[c,p]],[/(sprint)\s(\w+)/i],[d,a,[c,u]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[d,"Microsoft"],[c,u]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[d,"Zebra"],[c,p]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[d,"Zebra"],[c,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[d,a,[c,"console"]],[/droid.+;\s(shield)\sbuild/i],[a,[d,"Nvidia"],[c,"console"]],[/(playstation\s[345portablevi]+)/i],[a,[d,"Sony"],[c,"console"]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[a,[d,"Microsoft"],[c,"console"]],[/smart-tv.+(samsung)/i],[d,[c,h]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[d,"Samsung"],[c,h]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[d,"LG"],[c,h]],[/(apple)\s?tv/i],[d,[a,"Apple TV"],[c,h]],[/crkey/i],[[a,"Chromecast"],[d,"Google"],[c,h]],[/droid.+aft([\w])(\sbuild\/|\))/i],[a,[d,"Amazon"],[c,h]],[/\(dtv[\);].+(aquos)/i],[a,[d,"Sharp"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,g.trim],[a,g.trim],[c,h]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[c,h]],[/((pebble))app\/[\d\.]+\s/i],[d,a,[c,"wearable"]],[/droid.+;\s(glass)\s\d/i],[a,[d,"Google"],[c,"wearable"]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[a,[d,"Zebra"],[c,"wearable"]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[d,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[a,[c,u]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[a,[c,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,g.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[d,"Generic"]],[/(phone)/i],[[c,u]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[o,[l,m.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[l,m.str,f.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[o,"Mac OS"],[l,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[o,l],[/\(bb(10);/i],[l,[o,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[l,[o,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[o,"webOS"]],[/crkey\/([\d\.]+)/i],[l,[o,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],l],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[o,l],[/(sunos)\s?([\w\.\d]*)/i],[[o,"Solaris"],l],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[o,l]]},b=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof b))return new b(e,t).getResult();var r=e||(void 0!==s&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),n=t?g.extend(v,t):v;return this.getBrowser=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,r,n.browser),e.major=g.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return m.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return m.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return m.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r="string"==typeof e&&e.length>255?g.trim(e,255):e,this},this.setUA(r),this};b.VERSION="0.7.28",b.BROWSER={NAME:o,MAJOR:"major",VERSION:l},b.CPU={ARCHITECTURE:"architecture"},b.DEVICE={MODEL:a,VENDOR:d,TYPE:c,CONSOLE:"console",MOBILE:u,SMARTTV:h,TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},b.ENGINE={NAME:o,VERSION:l},b.OS={NAME:o,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=b),t.UAParser=b):void 0!==(n=function(){return b}.call(t,r,t,e))&&(e.exports=n);var y=void 0!==s&&(s.jQuery||s.Zepto);if(y&&!y.ua){var x=new b;y.ua=x.getResult(),y.ua.get=function(){return x.getUA()},y.ua.set=function(e){x.setUA(e);var t=x.getResult();for(var r in t)y.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";t.a=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.withCredentials=!0,r.setRequestHeader("Content-type","application/json"),r.send(),r.onload=function(){try{var e=JSON.parse(r.response).id;t&&t(e)}catch(e){t()}},r.onerror=function(){t()}}}])},73515:(e,t,r)=>{var n={"./ar.po":[26361,6921],"./az.po":[30526,4373],"./en.po":[12937,5023],"./kk.po":[52098,8321],"./uk.po":[25888,2970],"./uz.po":[35394,4945]};function s(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return r.e(t[1]).then((()=>r.t(s,23)))}s.keys=()=>Object.keys(n),s.id=73515,e.exports=s}},e=>{e.O(0,[1321,4736,9554,5514,9685],(()=>{return t=5331,e(e.s=t);var t}));e.O()}]);